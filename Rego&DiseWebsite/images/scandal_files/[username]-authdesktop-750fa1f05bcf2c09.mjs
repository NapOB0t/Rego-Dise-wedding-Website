(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[77429,55378,58789,24661,48061,15071,88962,87806,53068,55582],{226501:e=>{var t,o,n,i,s={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"FollowersControllerQuery",selections:[{alias:null,args:o=[{kind:"Variable",name:"user",variableName:"userId"}],concreteType:null,kind:"LinkedField",name:"v3GetUserHandlerQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null}],storageKey:null}],type:"V3GetUserHandler",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"FollowersControllerQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetUserHandlerQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[n,i,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetUserHandler",abstractKey:null}],storageKey:null}]},params:{cacheID:"3d02a815854a4cd4fc94f5c7fc4e7a1e",id:null,metadata:{},name:"FollowersControllerQuery",operationKind:"query",text:"query FollowersControllerQuery(\n  $userId: String!\n) {\n  v3GetUserHandlerQuery(user: $userId) {\n    __typename\n    ... on V3GetUserHandler {\n      data {\n        username\n        followerCount\n        id\n      }\n    }\n  }\n}\n"}};s.hash="085db880bf812861c72fed5460061cbc",e.exports=s},675600:e=>{var t,o,n,i,s,r={fragment:{argumentDefinitions:t=[{defaultValue:10,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"FollowersListDuploPaginationQuery",selections:[{alias:null,args:o=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"ProfileFollowersGraphQL_user"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"FollowersListDuploPaginationQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"followers",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:s=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"}],concreteType:"UserFollowersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserFollowersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageXlargeUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},i,n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:s,filters:null,handle:"connection",key:"FollowersList_user_followers_connection",kind:"LinkedHandle",name:"connection"}],type:"UserFollowersConnectionContainer",abstractKey:null}],storageKey:null}],type:"User",abstractKey:null}],storageKey:null}]},params:{cacheID:"20e8523ead27d083bd2750554d0ae59d",id:null,metadata:{},name:"FollowersListDuploPaginationQuery",operationKind:"query",text:"query FollowersListDuploPaginationQuery(\n  $count: Int = 10\n  $cursor: Cursor\n  $id: ID!\n) {\n  node(id: $id) {\n    __typename\n    ...ProfileFollowersGraphQL_user_1G22uz\n    id\n  }\n}\n\nfragment ProfileFollowersGraphQL_user_1G22uz on User {\n  followers {\n    __typename\n    ... on UserFollowersConnectionContainer {\n      connection(first: $count, after: $cursor) {\n        edges {\n          node {\n            ...ProfileUserRepGraphQL_user\n            id\n            __typename\n          }\n          cursor\n        }\n        pageInfo {\n          endCursor\n          hasNextPage\n        }\n      }\n    }\n  }\n  id\n}\n\nfragment ProfileUserRepGraphQL_user on User {\n  username\n  fullName\n  imageMediumUrl\n  imageXlargeUrl\n  explicitlyFollowedByMe\n  entityId\n  verifiedIdentity {\n    verified\n  }\n}\n"}};r.hash="815f47a7b48abdeb66f5dd65284badb5",e.exports=r},958045:e=>{var t,o,n,i,s,r={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"ProfileFollowersControllerGraphQLDuploQuery",selections:[{alias:null,args:o=[{kind:"Variable",name:"user",variableName:"userId"}],concreteType:null,kind:"LinkedField",name:"v3GetUserHandlerQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ProfileFollowersGraphQL_user"}],storageKey:null}],type:"V3GetUserHandler",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"ProfileFollowersControllerGraphQLDuploQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetUserHandlerQuery",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"followers",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:i=[{kind:"Literal",name:"first",value:10}],concreteType:"UserFollowersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserFollowersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageXlargeUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:"connection(first:10)"},{alias:null,args:i,filters:null,handle:"connection",key:"FollowersList_user_followers_connection",kind:"LinkedHandle",name:"connection"}],type:"UserFollowersConnectionContainer",abstractKey:null}],storageKey:null},s],storageKey:null}],type:"V3GetUserHandler",abstractKey:null}],storageKey:null}]},params:{cacheID:"9bfea921a9728aaf9194efb0947c110e",id:null,metadata:{},name:"ProfileFollowersControllerGraphQLDuploQuery",operationKind:"query",text:"query ProfileFollowersControllerGraphQLDuploQuery(\n  $userId: String!\n) {\n  v3GetUserHandlerQuery(user: $userId) {\n    __typename\n    ... on V3GetUserHandler {\n      data {\n        ...ProfileFollowersGraphQL_user\n        id\n      }\n    }\n  }\n}\n\nfragment ProfileFollowersGraphQL_user on User {\n  followers {\n    __typename\n    ... on UserFollowersConnectionContainer {\n      connection(first: 10) {\n        edges {\n          node {\n            ...ProfileUserRepGraphQL_user\n            id\n            __typename\n          }\n          cursor\n        }\n        pageInfo {\n          endCursor\n          hasNextPage\n        }\n      }\n    }\n  }\n  id\n}\n\nfragment ProfileUserRepGraphQL_user on User {\n  username\n  fullName\n  imageMediumUrl\n  imageXlargeUrl\n  explicitlyFollowedByMe\n  entityId\n  verifiedIdentity {\n    verified\n  }\n}\n"}};r.hash="790a1cc582da875dd51867ea26d81354",e.exports=r},44438:(e,t,o)=>{var n,i={argumentDefinitions:[{defaultValue:10,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:n=["followers","connection"]}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:n},fragmentPathInResult:["node"],operation:o(675600),identifierField:"id"}},name:"ProfileFollowersGraphQL_user",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"followers",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:"connection",args:null,concreteType:"UserFollowersConnection",kind:"LinkedField",name:"__FollowersList_user_followers_connection_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserFollowersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ProfileUserRepGraphQL_user"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null}],type:"UserFollowersConnectionContainer",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"User",abstractKey:null};i.hash="815f47a7b48abdeb66f5dd65284badb5",e.exports=i},382375:e=>{var t,o,n,i,s,r={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"followee"}],kind:"Fragment",metadata:null,name:"ProfileUserRepGraphQLFollowMutation",selections:[{alias:null,args:o=[{fields:[{kind:"Variable",name:"followee",variableName:"followee"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3FollowUserMethodMutation",plural:!1,selections:[n={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],type:"V3FollowUserMethod",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"ProfileUserRepGraphQLFollowMutation",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3FollowUserMethodMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[i,s,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3FollowUserMethod",abstractKey:null}],storageKey:null}]},params:{cacheID:"05a0eab4c4529047294d099977481a89",id:null,metadata:{},name:"ProfileUserRepGraphQLFollowMutation",operationKind:"mutation",text:"mutation ProfileUserRepGraphQLFollowMutation(\n  $followee: String!\n) {\n  v3FollowUserMethodMutation(input: {followee: $followee}) {\n    __typename\n    ... on Error {\n      __isError: __typename\n      error {\n        message\n      }\n    }\n    ... on V3FollowUserMethod {\n      data {\n        explicitlyFollowedByMe\n        username\n        id\n      }\n    }\n  }\n}\n"}};r.hash="80ca7b23e17dc132070cd2e1a348eef3",e.exports=r},200722:e=>{var t,o,n,i,s,r={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"followee"}],kind:"Fragment",metadata:null,name:"ProfileUserRepGraphQLUnfollowMutation",selections:[{alias:null,args:o=[{fields:[{kind:"Variable",name:"followee",variableName:"followee"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3UnfollowUserMethodMutation",plural:!1,selections:[n={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],type:"V3UnfollowUserMethod",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"ProfileUserRepGraphQLUnfollowMutation",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3UnfollowUserMethodMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[i,s,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3UnfollowUserMethod",abstractKey:null}],storageKey:null}]},params:{cacheID:"82c4b0892e8ed324c4125f0453209bbe",id:null,metadata:{},name:"ProfileUserRepGraphQLUnfollowMutation",operationKind:"mutation",text:"mutation ProfileUserRepGraphQLUnfollowMutation(\n  $followee: String!\n) {\n  v3UnfollowUserMethodMutation(input: {followee: $followee}) {\n    __typename\n    ... on Error {\n      __isError: __typename\n      error {\n        message\n      }\n    }\n    ... on V3UnfollowUserMethod {\n      data {\n        explicitlyFollowedByMe\n        username\n        id\n      }\n    }\n  }\n}\n"}};r.hash="2faed66ab14b45f67a0df0446b21703d",e.exports=r},896355:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProfileUserRepGraphQL_user",selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageXlargeUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],type:"User",abstractKey:null,hash:"22d1ebb77d326b5a38c56d478e47ea07"};e.exports=t},453658:(e,t,o)=>{var n={"./":[106860,9],"./CZ":[590685,9,90685],"./CZ.js":[590685,9,90685],"./DA":[237534,9,37534],"./DA.js":[237534,9,37534],"./DE":[159788,9,59788],"./DE.js":[159788,9,59788],"./ENUK":[199555,9,99555],"./ENUK.js":[199555,9,99555],"./ENUS":[326380,9,26380],"./ENUS.js":[326380,9,26380],"./ESAR":[874795,9,74795],"./ESAR.js":[874795,9,74795],"./ESES":[315152,9,15152],"./ESES.js":[315152,9,15152],"./ESMX":[591787,9,91787],"./ESMX.js":[591787,9,91787],"./FI":[684204,9,84204],"./FI.js":[684204,9,84204],"./FR":[197400,9,97400],"./FR.js":[197400,9,97400],"./GR":[938439,9,38439],"./GR.js":[938439,9,38439],"./HI":[144014,9,44014],"./HI.js":[144014,9,44014],"./HU":[843479,9,43479],"./HU.js":[843479,9,43479],"./ID":[111450,9,11450],"./ID.js":[111450,9,11450],"./IT":[259916,9,59916],"./IT.js":[259916,9,59916],"./JP":[65083,9,65083],"./JP.js":[65083,9,65083],"./KR":[576525,9,76525],"./KR.js":[576525,9,76525],"./MS":[347840,9,47840],"./MS.js":[347840,9,47840],"./NL":[689761,9,89761],"./NL.js":[689761,9,89761],"./NO":[693952,9,93952],"./NO.js":[693952,9,93952],"./PL":[383843,9,83843],"./PL.js":[383843,9,83843],"./PTBR":[735826,9,35826],"./PTBR.js":[735826,9,35826],"./PTPT":[578882,9,78882],"./PTPT.js":[578882,9,78882],"./RO":[840316,9,40316],"./RO.js":[840316,9,40316],"./RU":[257367,9,57367],"./RU.js":[257367,9,57367],"./SK":[636295,9,36295],"./SK.js":[636295,9,36295],"./SV":[921501,9,21501],"./SV.js":[921501,9,21501],"./TH":[641767,9,41767],"./TH.js":[641767,9,41767],"./TL":[928578,9,28578],"./TL.js":[928578,9,28578],"./TR":[391953,9,91953],"./TR.js":[391953,9,91953],"./UA":[176010,9,76010],"./UA.js":[176010,9,76010],"./VT":[96894,9,96894],"./VT.js":[96894,9,96894],"./ZHCN":[982436,9,82436],"./ZHCN.js":[982436,9,82436],"./ZHTW":[229518,9,29518],"./ZHTW.js":[229518,9,29518],"./index":[106860,9],"./index.js":[106860,9],"./localeToFilename":[161087,9],"./localeToFilename.js":[161087,9],"./types":[927431,7,27431],"./types.js":[927431,7,27431]};function i(e){if(!o.o(n,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],i=t[0];return Promise.all(t.slice(2).map(o.e)).then((()=>o.t(i,16|t[1])))}i.keys=()=>Object.keys(n),i.id=453658,e.exports=i},701305:e=>{var t=[],o=[];function n(e,t,o,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if("object"!=typeof e||"object"!=typeof t)return!1;var s=Object.prototype.toString,r=s.call(e);if(r!=s.call(t))return!1;switch(r){case"[object String]":return e==String(t);case"[object Number]":return!isNaN(e)&&!isNaN(t)&&e==Number(t);case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}for(var l=o.length;l--;)if(o[l]==e)return i[l]==t;o.push(e),i.push(t);var a=0;if("[object Array]"===r){if((a=e.length)!==t.length)return!1;for(;a--;)if(!n(e[a],t[a],o,i))return!1}else{if(e.constructor!==t.constructor)return!1;if(e.hasOwnProperty("valueOf")&&t.hasOwnProperty("valueOf"))return e.valueOf()==t.valueOf();var c=Object.keys(e);if(c.length!=Object.keys(t).length)return!1;for(var d=0;d<c.length;d++)if(!n(e[c[d]],t[c[d]],o,i))return!1}return o.pop(),i.pop(),!0}e.exports=function(e,i){var s=t.length?t.pop():[],r=o.length?o.pop():[],l=n(e,i,s,r);return s.length=0,r.length=0,t.push(s),o.push(r),l}},60139:e=>{function t(e){return function(){return e}}var o=function(){};o.thatReturns=t,o.thatReturnsFalse=t(!1),o.thatReturnsTrue=t(!0),o.thatReturnsNull=t(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},663620:(e,t,o)=>{var n=o(60139);e.exports=n},968337:(e,t,o)=>{function n(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach((function(t){t&&Object.keys(t).forEach((function(o){e[o]=t[o]}))})),e}function i(e){return Object.prototype.toString.call(e)}function s(e){return"[object Function]"===i(e)}function r(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var l={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var a={"http:":{validate:function(e,t,o){var n=e.slice(t);return o.re.http||(o.re.http=new RegExp("^\\/\\/"+o.re.src_auth+o.re.src_host_port_strict+o.re.src_path,"i")),o.re.http.test(n)?n.match(o.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,o){var n=e.slice(t);return o.re.no_http||(o.re.no_http=new RegExp("^"+o.re.src_auth+"(?:localhost|(?:(?:"+o.re.src_domain+")\\.)+"+o.re.src_domain_root+")"+o.re.src_port+o.re.src_host_terminator+o.re.src_path,"i")),o.re.no_http.test(n)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:n.match(o.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,o){var n=e.slice(t);return o.re.mailto||(o.re.mailto=new RegExp("^"+o.re.src_email_name+"@"+o.re.src_host_strict,"i")),o.re.mailto.test(n)?n.match(o.re.mailto)[0].length:0}}},c="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function d(e){var t=e.re=o(136066)(e.__opts__),n=e.__tlds__.slice();function l(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||n.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),n.push(t.src_xn),t.src_tlds=n.join("|"),t.email_fuzzy=RegExp(l(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(l(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(l(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(l(t.tpl_host_fuzzy_test),"i");var a=[];function c(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){var o=e.__schemas__[t];if(null!==o){var n={validate:null,link:null};if(e.__compiled__[t]=n,"[object Object]"===i(o))return!function(e){return"[object RegExp]"===i(e)}(o.validate)?s(o.validate)?n.validate=o.validate:c(t,o):n.validate=function(e){return function(t,o){var n=t.slice(o);return e.test(n)?n.match(e)[0].length:0}}(o.validate),void(s(o.normalize)?n.normalize=o.normalize:o.normalize?c(t,o):n.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===i(e)}(o)?c(t,o):a.push(t)}})),a.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};var d=Object.keys(e.__compiled__).filter((function(t){return t.length>0&&e.__compiled__[t]})).map(r).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+d+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+d+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function u(e,t){var o=e.__index__,n=e.__last_index__,i=e.__text_cache__.slice(o,n);this.schema=e.__schema__.toLowerCase(),this.index=o+t,this.lastIndex=n+t,this.raw=i,this.text=i,this.url=i}function _(e,t){var o=new u(e,t);return e.__compiled__[o.schema].normalize(o,e),o}function h(e,t){if(!(this instanceof h))return new h(e,t);var o;t||(o=e,Object.keys(o||{}).reduce((function(e,t){return e||l.hasOwnProperty(t)}),!1)&&(t=e,e={})),this.__opts__=n({},l,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=n({},a,e),this.__compiled__={},this.__tlds__=c,this.__tlds_replaced__=!1,this.re={},d(this)}h.prototype.add=function(e,t){return this.__schemas__[e]=t,d(this),this},h.prototype.set=function(e){return this.__opts__=n(this.__opts__,e),this},h.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,o,n,i,s,r,l,a;if(this.re.schema_test.test(e))for((l=this.re.schema_search).lastIndex=0;null!==(t=l.exec(e));)if(i=this.testSchemaAt(e,t[2],l.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+i;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(a=e.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||a<this.__index__)&&null!==(o=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(s=o.index+o[1].length,(this.__index__<0||s<this.__index__)&&(this.__schema__="",this.__index__=s,this.__last_index__=o.index+o[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&e.indexOf("@")>=0&&null!==(n=e.match(this.re.email_fuzzy))&&(s=n.index+n[1].length,r=n.index+n[0].length,(this.__index__<0||s<this.__index__||s===this.__index__&&r>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=s,this.__last_index__=r)),this.__index__>=0},h.prototype.pretest=function(e){return this.re.pretest.test(e)},h.prototype.testSchemaAt=function(e,t,o){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,o,this):0},h.prototype.match=function(e){var t=0,o=[];this.__index__>=0&&this.__text_cache__===e&&(o.push(_(this,t)),t=this.__last_index__);for(var n=t?e.slice(t):e;this.test(n);)o.push(_(this,t)),n=n.slice(this.__last_index__),t+=this.__last_index__;return o.length?o:null},h.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,o){return e!==o[t-1]})).reverse(),d(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,d(this),this)},h.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},h.prototype.onCompile=function(){},e.exports=h},136066:(e,t,o)=>{e.exports=function(e){var t={};t.src_Any=o(329369).source,t.src_Cc=o(499413).source,t.src_Z=o(335045).source,t.src_P=o(373189).source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");return t.src_pseudo_letter="(?:(?![><｜]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><｜]|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+"[><｜]|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,3}[a-zA-Z0-9%/]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+t.src_ZCc+").|\\!(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]+',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-(?!-)|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|[><｜]|\\(|"+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},288668:(e,t,o)=>{var n=o(883369),i=o(90619),s=o(572385);function r(e){var t=-1,o=null==e?0:e.length;for(this.__data__=new n;++t<o;)this.add(e[t])}r.prototype.add=r.prototype.push=i,r.prototype.has=s,e.exports=r},282908:e=>{e.exports=function(e,t){for(var o=-1,n=null==e?0:e.length;++o<n;)if(t(e[o],o,e))return!0;return!1}},690939:(e,t,o)=>{var n=o(902492),i=o(637005);e.exports=function e(t,o,s,r,l){return t===o||(null==t||null==o||!i(t)&&!i(o)?t!=t&&o!=o:n(t,o,s,r,e,l))}},902492:(e,t,o)=>{var n=o(646384),i=o(967114),s=o(518351),r=o(916096),l=o(664160),a=o(701469),c=o(644144),d=o(936719),u="[object Arguments]",_="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,o,m,g,f){var x=a(e),b=a(t),v=x?_:l(e),y=b?_:l(t),P=(v=v==u?h:v)==h,w=(y=y==u?h:y)==h,A=v==y;if(A&&c(e)){if(!c(t))return!1;x=!0,P=!1}if(A&&!P)return f||(f=new n),x||d(e)?i(e,t,o,m,g,f):s(e,t,v,o,m,g,f);if(!(1&o)){var C=P&&p.call(e,"__wrapped__"),j=w&&p.call(t,"__wrapped__");if(C||j){var E=C?e.value():e,S=j?t.value():t;return f||(f=new n),g(E,S,o,m,f)}}return!!A&&(f||(f=new n),r(e,t,o,m,g,f))}},274757:e=>{e.exports=function(e,t){return e.has(t)}},967114:(e,t,o)=>{var n=o(288668),i=o(282908),s=o(274757);e.exports=function(e,t,o,r,l,a){var c=1&o,d=e.length,u=t.length;if(d!=u&&!(c&&u>d))return!1;var _=a.get(e),h=a.get(t);if(_&&h)return _==t&&h==e;var p=-1,m=!0,g=2&o?new n:void 0;for(a.set(e,t),a.set(t,e);++p<d;){var f=e[p],x=t[p];if(r)var b=c?r(x,f,p,t,e,a):r(f,x,p,e,t,a);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!i(t,(function(e,t){if(!s(g,t)&&(f===e||l(f,e,o,r,a)))return g.push(t)}))){m=!1;break}}else if(f!==x&&!l(f,x,o,r,a)){m=!1;break}}return a.delete(e),a.delete(t),m}},518351:(e,t,o)=>{var n=o(562705),i=o(611149),s=o(977813),r=o(967114),l=o(668776),a=o(321814),c=n?n.prototype:void 0,d=c?c.valueOf:void 0;e.exports=function(e,t,o,n,c,u,_){switch(o){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!u(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return s(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=l;case"[object Set]":var p=1&n;if(h||(h=a),e.size!=t.size&&!p)return!1;var m=_.get(e);if(m)return m==t;n|=2,_.set(e,t);var g=r(h(e),h(t),n,c,u,_);return _.delete(e),g;case"[object Symbol]":if(d)return d.call(e)==d.call(t)}return!1}},916096:(e,t,o)=>{var n=o(458234),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,o,s,r,l){var a=1&o,c=n(e),d=c.length;if(d!=n(t).length&&!a)return!1;for(var u=d;u--;){var _=c[u];if(!(a?_ in t:i.call(t,_)))return!1}var h=l.get(e),p=l.get(t);if(h&&p)return h==t&&p==e;var m=!0;l.set(e,t),l.set(t,e);for(var g=a;++u<d;){var f=e[_=c[u]],x=t[_];if(s)var b=a?s(x,f,_,t,e,l):s(f,x,_,e,t,l);if(!(void 0===b?f===x||r(f,x,o,s,l):b)){m=!1;break}g||(g="constructor"==_)}if(m&&!g){var v=e.constructor,y=t.constructor;v==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y||(m=!1)}return l.delete(e),l.delete(t),m}},668776:e=>{e.exports=function(e){var t=-1,o=Array(e.size);return e.forEach((function(e,n){o[++t]=[n,e]})),o}},90619:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},572385:e=>{e.exports=function(e){return this.__data__.has(e)}},321814:e=>{e.exports=function(e){var t=-1,o=Array(e.size);return e.forEach((function(e){o[++t]=e})),o}},618446:(e,t,o)=>{var n=o(690939);e.exports=function(e,t){return n(e,t)}},823493:(e,t,o)=>{var n=o(23279),i=o(513218);e.exports=function(e,t,o){var s=!0,r=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(o)&&(s="leading"in o?!!o.leading:s,r="trailing"in o?!!o.trailing:r),n(e,t,{leading:s,maxWait:t,trailing:r})}},615071:(e,t,o)=>{o.d(t,{Z:()=>y});var n=o(487462),i=o(263366),s=o(894578);o(45697);function r(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var l=o(667294),a=o(973935);const c=!1;var d=o(500220),u="unmounted",_="exited",h="entering",p="entered",m="exiting",g=function(e){function t(t,o){var n;n=e.call(this,t,o)||this;var i,s=o&&!o.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?s?(i=_,n.appearStatus=h):i=p:i=t.unmountOnExit||t.mountOnEnter?u:_,n.state={status:i},n.nextCallback=null,n}(0,s.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===u?{status:_}:null};var o=t.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(e){var t=null;if(e!==this.props){var o=this.state.status;this.props.in?o!==h&&o!==p&&(t=h):o!==h&&o!==p||(t=m)}this.updateStatus(!1,t)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var e,t,o,n=this.props.timeout;return e=t=o=n,null!=n&&"number"!=typeof n&&(e=n.exit,t=n.enter,o=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:o}},o.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===h?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===_&&this.setState({status:u})},o.performEnter=function(e){var t=this,o=this.props.enter,n=this.context?this.context.isMounting:e,i=this.props.nodeRef?[n]:[a.findDOMNode(this),n],s=i[0],r=i[1],l=this.getTimeouts(),d=n?l.appear:l.enter;!e&&!o||c?this.safeSetState({status:p},(function(){t.props.onEntered(s)})):(this.props.onEnter(s,r),this.safeSetState({status:h},(function(){t.props.onEntering(s,r),t.onTransitionEnd(d,(function(){t.safeSetState({status:p},(function(){t.props.onEntered(s,r)}))}))})))},o.performExit=function(){var e=this,t=this.props.exit,o=this.getTimeouts(),n=this.props.nodeRef?void 0:a.findDOMNode(this);t&&!c?(this.props.onExit(n),this.safeSetState({status:m},(function(){e.props.onExiting(n),e.onTransitionEnd(o.exit,(function(){e.safeSetState({status:_},(function(){e.props.onExited(n)}))}))}))):this.safeSetState({status:_},(function(){e.props.onExited(n)}))},o.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},o.setNextCallback=function(e){var t=this,o=!0;return this.nextCallback=function(n){o&&(o=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},o.onTransitionEnd=function(e,t){this.setNextCallback(t);var o=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this),n=null==e&&!this.props.addEndListener;if(o&&!n){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],s=i[0],r=i[1];this.props.addEndListener(s,r)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},o.render=function(){var e=this.state.status;if(e===u)return null;var t=this.props,o=t.children,n=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,i.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return l.createElement(d.Z.Provider,{value:null},"function"==typeof o?o(e,n):l.cloneElement(l.Children.only(o),n))},t}(l.Component);function f(){}g.contextType=d.Z,g.propTypes={},g.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:f,onEntering:f,onEntered:f,onExit:f,onExiting:f,onExited:f},g.UNMOUNTED=u,g.EXITED=_,g.ENTERING=h,g.ENTERED=p,g.EXITING=m;const x=g;var b=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return n=t,void((o=e).classList?o.classList.remove(n):"string"==typeof o.className?o.className=r(o.className,n):o.setAttribute("class",r(o.className&&o.className.baseVal||"",n)));var o,n}))},v=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,o){var n=t.resolveArguments(e,o),i=n[0],s=n[1];t.removeClasses(i,"exit"),t.addClass(i,s?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,o)},t.onEntering=function(e,o){var n=t.resolveArguments(e,o),i=n[0],s=n[1]?"appear":"enter";t.addClass(i,s,"active"),t.props.onEntering&&t.props.onEntering(e,o)},t.onEntered=function(e,o){var n=t.resolveArguments(e,o),i=n[0],s=n[1]?"appear":"enter";t.removeClasses(i,s),t.addClass(i,s,"done"),t.props.onEntered&&t.props.onEntered(e,o)},t.onExit=function(e){var o=t.resolveArguments(e)[0];t.removeClasses(o,"appear"),t.removeClasses(o,"enter"),t.addClass(o,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var o=t.resolveArguments(e)[0];t.addClass(o,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var o=t.resolveArguments(e)[0];t.removeClasses(o,"exit"),t.addClass(o,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,o){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,o]},t.getClassNames=function(e){var o=t.props.classNames,n="string"==typeof o,i=n?""+(n&&o?o+"-":"")+e:o[e];return{baseClassName:i,activeClassName:n?i+"-active":o[e+"Active"],doneClassName:n?i+"-done":o[e+"Done"]}},t}(0,s.Z)(t,e);var o=t.prototype;return o.addClass=function(e,t,o){var n=this.getClassNames(t)[o+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===o&&i&&(n+=" "+i),"active"===o&&e&&e.scrollTop,n&&(this.appliedClasses[t][o]=n,function(e,t){e&&t&&t.split(" ").forEach((function(t){return n=t,void((o=e).classList?o.classList.add(n):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(o,n)||("string"==typeof o.className?o.className=o.className+" "+n:o.setAttribute("class",(o.className&&o.className.baseVal||"")+" "+n)));var o,n}))}(e,n))},o.removeClasses=function(e,t){var o=this.appliedClasses[t],n=o.base,i=o.active,s=o.done;this.appliedClasses[t]={},n&&b(e,n),i&&b(e,i),s&&b(e,s)},o.render=function(){var e=this.props,t=(e.classNames,(0,i.Z)(e,["classNames"]));return l.createElement(x,(0,n.Z)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(l.Component);v.defaultProps={classNames:""},v.propTypes={};const y=v},500220:(e,t,o)=>{o.d(t,{Z:()=>n});const n=o(667294).createContext(null)},442279:(e,t)=>{function o(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function n(e,t){return e===t}function i(e){var t=arguments.length<=1||void 0===arguments[1]?n:arguments[1],o=null,i=null;return function(){for(var n=arguments.length,s=Array(n),r=0;r<n;r++)s[r]=arguments[r];return null!==o&&o.length===s.length&&s.every((function(e,n){return t(e,o[n])}))||(i=e.apply(void 0,s)),o=s,i}}function s(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var o=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+o+"]")}return t}function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return function(){for(var t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];var l=0,a=i.pop(),c=s(i),d=e.apply(void 0,[function(){return l++,a.apply(void 0,arguments)}].concat(n)),u=function(e,t){for(var n=arguments.length,i=Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];var r=c.map((function(o){return o.apply(void 0,[e,t].concat(i))}));return d.apply(void 0,o(r))};return u.resultFunc=a,u.recomputations=function(){return l},u.resetRecomputations=function(){return l=0},u}}t.zB=function(e){var t=arguments.length<=1||void 0===arguments[1]?l:arguments[1];if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var o=Object.keys(e);return t(o.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t,n){return e[o[n]]=t,e}),{})}))};var l=t.P1=r(i)},499413:e=>{e.exports=/[\0-\x1F\x7F-\x9F]/},373189:e=>{e.exports=/[!-#%-\*,-/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E49\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},335045:e=>{e.exports=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/},329369:e=>{e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},17314:(e,t,o)=>{o.d(t,{Z:()=>c});var n,i,s=o(813653),r=o(861470),l=0,a=0;const c=function(e,t,o){var c=t&&o||0,d=t||new Array(16),u=(e=e||{}).node||n,_=void 0!==e.clockseq?e.clockseq:i;if(null==u||null==_){var h=e.random||(e.rng||s.Z)();null==u&&(u=n=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==_&&(_=i=16383&(h[6]<<8|h[7]))}var p=void 0!==e.msecs?e.msecs:Date.now(),m=void 0!==e.nsecs?e.nsecs:a+1,g=p-l+(m-a)/1e4;if(g<0&&void 0===e.clockseq&&(_=_+1&16383),(g<0||p>l)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=p,a=m,i=_;var f=(1e4*(268435455&(p+=122192928e5))+m)%4294967296;d[c++]=f>>>24&255,d[c++]=f>>>16&255,d[c++]=f>>>8&255,d[c++]=255&f;var x=p/4294967296*1e4&268435455;d[c++]=x>>>8&255,d[c++]=255&x,d[c++]=x>>>24&15|16,d[c++]=x>>>16&255,d[c++]=_>>>8|128,d[c++]=255&_;for(var b=0;b<6;++b)d[c+b]=u[b];return t||(0,r.Z)(d)}},808683:e=>{e.exports={ResponseCodeType:{OK:1,OK_WITH_ERROR:2,ERROR_GENERAL:3,ERROR_NOT_FOUND:4,ERROR_MISSING_FIELD:5,ERROR_LOGIC:6,ERROR_INTERNAL_RESOURCE:7,ERROR_EXTERNAL_RESOURCE:8,ERROR_BAD_FIELD:9,OK_DUPLICATE_ROW_USED_OLD:10},FeedProfileValidationResultCode:{PENDING:0,SUCCESS:1,UNKNOWN_FAILURE:2,BAD_URL_OR_CREDENTIAL:3,UNSUPPORTED_PROTOCOL:4,BAD_FEED_FORMAT:5,EMPTY_FEED_PROFILE:6,HTML:7},ErrorCode:{DATABASE_SERVER_ERROR:1,INVALID_REQUEST_ERROR:2,ACCESS_DENIED_ERROR:3,MERCHANT_PROFILE_ERROR:100,MERCHANT_EXTERNAL_ID_EXISTED:101,FEED_PROFILE_ERROR:200,PAYMENT_RECEIVER_PROFILE_ERROR:300,OMS_PROFILE_ERROR:400,PRODUCT_GROUP_NAME_ALREADY_EXISTS_ERROR:500,PRODUCT_GROUP_FILTERS_ALREADY_EXISTS_ERROR:501,PRODUCT_GROUP_SOURCE_ID_ALREADY_EXISTS_ERROR:502},MerchantActionType:{CREATE_MERCHANT:1,UPDATE_MERCHANT_COMMON_PROFILE:2,UPDATE_MERCHANT_FEED_PROFILE:3,DELETE_MERCHANT_FEED_PROFILE:4,UPDATE_MERCHANT_OMS_PROFILE:5,DELETE_MERCHANT_OMS_PROFILE:6,UPDATE_MERCHANT_PAYMENT_RECEIVER_PROFILE:7,DELETE_MERCHANT_PAYMENT_RECEIVER_PROFILE:8,UPDATE_MERCHANT_APPROVAL_STATUS:9,ACTIVATE_MERCHANT:10,DEACTIVATE_MERCHANT:11,UPDATE_PRODUCT_PIN_MERCHANT_APPROVAL_STATUS:21,ACTIVATE_PRODUCT_PIN_MERCHANT:22,DEACTIVATE_PRODUCT_PIN_MERCHANT:23,ADD_NOTES:12,DELETE_MERCHANT:13,DISABLE_FEED_PROFILE:14,ENABLE_FEED_PROFILE:15,CREATE_PRODUCT_GROUP:16,EDIT_PRODUCT_GROOUP:17,DISABLE_PRODUCT_GROUP:18,ENABLE_PRODUCT_GROUP:19,DELETE_PRODUCT_GROUP:20,APPLY_SUGGESTED_PRODUCT_GROUP:26,UNAPPLY_SUGGESTED_PRODUCT_GROUP:27,CONNECT_SHOPIFY_MERCHANT:24,DISCONNECT_SHOPIFY_MERCHANT:25,CREATE_FEED_PROFILE:28},WorkflowStatType:{PRE_INGESTION_VALIDATION_PASSED:1,PRE_INGESTION_FETCH_SAME_SIGNATURE:2,PRE_INGESTION_FETCH_INACTIVE_FEED:3,ORIGINAL_PRODUCT_COUNT:4,INGESTION_PASSED:5,INDEXING_PASSED:6,PRE_INGESTION_VALIDATION_FETCH_ERROR:100,PRE_INGESTION_VALIDATION_ENCODING_ERROR:101,PRE_INGESTION_VALIDATION_DELIMITER_ERROR:102,PRE_INGESTION_VALIDATION_REQUIRED_COLUMNS_MISSING:103,PRE_INGESTION_VALIDATION_IMAGE_LINK_INVALID:104,PRE_INGESTION_VALIDATION_ITEMID_MISSING:105,PRE_INGESTION_VALIDATION_TITLE_MISSING:106,PRE_INGESTION_VALIDATION_DESCRIPTION_MISSING:107,PRE_INGESTION_VALIDATION_PRODUCT_CATEGORY_MISSING:108,PRE_INGESTION_VALIDATION_PRODUCT_CATEGORY_INVALID:109,PRE_INGESTION_VALIDATION_PRODUCT_LINK_MISSING:110,PRE_INGESTION_VALIDATION_IMAGE_LINK_MISSING:111,PRE_INGESTION_VALIDATION_AVAILABILITY_INVALID:112,PRE_INGESTION_VALIDATION_PRODUCT_PRICE_INVALID:113,PRE_INGESTION_VALIDATION_TITLE_LENGTH_TOO_LONG:114,PRE_INGESTION_VALIDATION_DESCRIPTION_LENGTH_TOO_LONG:115,PRE_INGESTION_VALIDATION_CONDITION_INVALID:116,PRE_INGESTION_VALIDATION_GENDER_INVALID:117,PRE_INGESTION_VALIDATION_AGE_GROUP_INVALID:118,PRE_INGESTION_VALIDATION_SIZE_TYPE_INVALID:119,PRE_INGESTION_VALIDATION_PARSE_LINE_ERROR:120,PRE_INGESTION_VALIDATION_LINK_FORMAT_WARNING:121,PRE_INGESTION_VALIDATION_LINK_FORMAT_ERROR:122,PRE_INGESTION_VALIDATION_DUPLICATE_PRODUCTS:123,PRE_INGESTION_VALIDATION_DUPLICATE_LINKS:124,PRE_INGESTION_VALIDATION_SALES_PRICE_INVALID:125,PRE_INGESTION_VALIDATION_PRODUCT_CATEGORY_DEPTH_WARNING:126,PRE_INGESTION_VALIDATION_ADWORDS_SAME_AS_LINK:127,PRE_INGESTION_VALIDATION_INTERNAL_SERVICE_ERROR:128,PRE_INGESTION_VALIDATION_DUPLICATE_HEADERS:129,PRE_INGESTION_VALIDATION_TAX_INVALID:130,PRE_INGESTION_VALIDATION_SHIPPING_INVALID:131,PRE_INGESTION_VALIDATION_SHIPPING_WEIGHT_INVALID:132,PRE_INGESTION_VALIDATION_MULTIPACK_INVALID:133,PRE_INGESTION_VALIDATION_ADWORDS_FORMAT_WARNING:134,PRE_INGESTION_VALIDATION_ADWORDS_FORMAT_ERROR:135,PRE_INGESTION_IMAGE_LINK_WARNING:136,PRE_INGESTION_ADDITIONAL_IMAGE_LINK_WARNING:137,PRE_INGESTION_FEED_LENGTH:138,PRE_INGESTION_VALIDATION_INVALID_DOMAIN:139,PRE_INGESTION_NO_VERIFIED_DOMAIN:140,PRE_INGESTION_VALIDATION_ADULT_INVALID:141,PRE_INGESTION_LINK_LENGTH_TOO_LONG:142,PRE_INGESTION_MALFORMED_XML:143,PRE_INGESTION_INVALID_EXPIRATION_DATE:144,PRE_INGESTION_INVALID_AVAILABILITY_DATE:145,PRE_INGESTION_INVALID_SALE_DATE:146,PRE_INGESTION_INVALID_WEIGHT_UNIT:147,PRE_INGESTION_INVALID_IS_BUNDLE:148,PRE_INGESTION_INVALID_UPDATED_TIME:149,PRE_INGESTION_INVALID_REDIRECT:150,PRE_INGESTION_PRICE_MISSING:151,PRE_INGESTION_FEED_TOO_SMALL:152,PRE_INGESTION_CUSTOM_LABEL_LENGTH_TOO_LONG:153,PRE_INGESTION_PRODUCT_TYPE_LENGTH_TOO_LONG:154,PRE_INGESTION_TOO_MANY_ADDITIONAL_IMAGE_LINK:155,PRE_INGESTION_SHOPIFY_NO_PRODUCTS:156,PRE_INGESTION_VALIDATION_INVALID_IOS_DEEP_LINK:161,PRE_INGESTION_VALIDATION_INVALID_ANDROID_DEEP_LINK:162,POST_INGESTION_IMAGE_DOWNLOAD_SUCCESS:1e3,POST_INGESTION_IMAGE_DOWNLOAD_ERROR:1001,POST_INGESTION_PIN_CREATON_SUCCESS:1002,POST_INGESTION_PIN_CREATION_ERROR:1003,INVALID_ITEM_FORMAT:1004,IMAGE_DOWNLOAD_CONNECTION_TIMEOUT:1006,IMAGE_FORMAT_UNRECOGNIZE:1007,LINE_LEVEL_INTERNAL_ERROR:1008,IMAGE_DOWNLOAD_POLICY_VIOLATION:1009,POST_INGESTION_IMAGE_DOWNLOAD_ERROR_NOT_FOUND:1010,POST_INGESTION_IMAGE_DOWNLOAD_ERROR_FORBIDDEN_ACCESS:1011,PRE_INGESTION_VALIDATION_MAX_ITEMS_PER_ITEM_GROUP_EXCEEDED:1012,POST_INGESTION_PRODUCT_COUNT_LARGE_DELTA:1013,POST_INGESTION_PRODUCT_COUNT_LARGE_DELTA_FAILURE:1014},OverallWorkflowStatus:{COMPLETED:0,FAILED:1,PROCESSING:2,COMPLETED_EARLY:3,UNDER_REVIEW:4,DISAPPROVED:5,QUEUED_FOR_PROCESSING:6,UNDER_APPEAL:7},UrsaTaskType:{SHOPIFY_START_BULK_OPS_TASK:1,SHOPIFY_POLL_BULK_OPS_TASK:2,SHOPIFY_START_BULK_OPS_STAGING_TASK:3,SHOPIFY_POLL_BULK_OPS_STAGING_TASK:4,SHOPIFY_START_BULK_OPS_DEV_TASK:5,SHOPIFY_POLL_BULK_OPS_DEV_TASK:6},CatalogProductGroupFeatureableStatusCode:{FEATUREABLE:1,UNFEATURABLE_NOT_ENOUGH_PINS:2,UNFEATURABLE_NOT_ENOUGH_UNIQUE_PINS:3,UNFEATURABLE_EXCEEDED_PINS_LIMIT:4},CatalogProductGroupFilterKey:{ITEM_ID:1,AVAILABILITY:2,BRAND:3,CONDITION:4,GOOGLE_PRODUCT_CATEGORY_0:5,GOOGLE_PRODUCT_CATEGORY_1:6,GOOGLE_PRODUCT_CATEGORY_2:7,GOOGLE_PRODUCT_CATEGORY_3:8,GOOGLE_PRODUCT_CATEGORY_4:9,GOOGLE_PRODUCT_CATEGORY_5:10,GOOGLE_PRODUCT_CATEGORY_6:11,PRODUCT_TYPE_0:12,PRODUCT_TYPE_1:13,PRODUCT_TYPE_2:14,PRODUCT_TYPE_3:15,PRODUCT_TYPE_4:16,CUSTOM_LABEL_0:17,CUSTOM_LABEL_1:18,CUSTOM_LABEL_2:19,CUSTOM_LABEL_3:20,CUSTOM_LABEL_4:21,MIN_PRICE:22,MAX_PRICE:23,ITEM_GROUP_ID:24,GENDER:25,CURRENCY:26},CatalogProductGroupHierarchyType:{GOOGLE_PRODUCT_CATEGORY:1,PRODUCT_TYPE:2},CatalogProductGroupType:{MERCHANT_CREATED:0,ALL_PRODUCTS:1,BEST_DEALS:2,PINNER_FAVORITES:3,TOP_SELLERS:4,BACK_IN_STOCK:5,NEW_ARRIVALS:6,SHOPIFY_COLLECTIONS:7,I2PC:8},CatalogProductGroupFilterLogicalOperator:{AND:0,OR:1},CatalogProductGroupStatus:{ACTIVE:0,INACTIVE:1,SUGGESTED:2},MerchantMetadataField:{ALL:0,FEED_INGESTED_AT_LEAST_ONCE:1,LAST_SUCCESSFUL_INGESTION:2,PREFERENCE_MAP:3,DOMAIN_WHITELIST:4,LAST_LOW_AVAILABILITY_EMAIL_SENT_TIME_DEPRECATED:5},MerchantMetadataPreferenceKey:{DISMISS_INGESTION_STATUS_POPUP:1,DATA_SOURCE_PENDING_GOT_IT_DISMISSED:2,DATA_SOURCE_VERIFIED_GOT_IT_DISMISSED:3,PRODUCT_GROUPS_CREATE_GOT_IT_DISMISSED:4,PRODUCT_GROUPS_PROMOTE_GOT_IT_DISMISSED:5,ADD_DATA_SOURCE_GOT_IT_DISMISSED:6,FEED_PROFILES_NEW_BADGE_SEEN:7,PRODUCT_GROUPS_SELECTED_METRICS:8,SHOPIFY_COLLECTION_MODAL_GOT_IT_DISMISSED:9,SHOPIFY_COLLECTION_CALLOUT_GOT_IT_DISMISSED:10,PRODUCT_GROUPS_NEW_BADGE_SEEN:11,PRODUCT_GROUPS_METRICS_SELECTED_NUM_OF_DAYS:12,I2PC_MODAL_GOT_IT_DISMISSED:13},MerchantActionSourceType:{WEBAPP:1,TPP_API:2,NGAPI_EXTERNAL:3,SHOPIFY_INTEGRATION:4},MerchantActionUpdatedDataType:{FEED_PROFILE_STATUS:1,MERCHANT_APPROVAL_STATUS:2,PRODUCT_GROUP_ENTITY:3,PRODUCT_GROUP_STATUS:4},CampaignImportingJobRecordType:{FILE_PARSING:1,CONTENT_VALIDATION:2,CAMPAIGN_CREATION:11,AD_GROUP_CREATION:21},CampaignImportingJobStatus:{STARTED:1,SUCCEEDED:2,FAILED:3,OTHER:10},ShopifyBulkOpStatusCode:{NOT_STARTED:0,IN_PROGRESS:1,COMPLETED:2,FAILED:3,PAUSED:4,SUPPRESSED:5,DELETED:7,INTERNAL_ERROR:9,OTHER:10,SLOW_RETRY:11},ShopifyBulkOpErrorCode:{NONE:0,FAILED_TO_GET_ACCESS_TOKEN:1001,FAILED_TO_UPDATE_BULK_OP_STATUS:1002,FAILED_TO_GET_BULK_URL:1003,FAILED_TO_INSPECT_INGESTION_STATUS:1101,FAILED_TO_SCHEDULE_INGESTION:1102,FAILED_TO_TRIGGER_INGESTION:1103,FAILED_TO_PROCESS_POLL_RESULT_OVERALL:1201,FAILED_TO_START_BULK_OP:1301,FAILED_TO_POLL_BULK_OP_STATUS:1302},GetBatchedShopifyBulkOpStatusOrderBy:{LAST_SUCCESSFUL_BULK_OP_TIME:1,LAST_BULK_CALL_TIME:2,LAST_POLL_CALL_TIME:3}}},559637:(e,t,o)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]"]=function(){return o(337234).Z}},205418:(e,t,o)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/_created"]=function(){return o(337234).Z}},679875:(e,t,o)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/_followers"]=function(){return o(337234).Z}},992127:(e,t,o)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/_following"]=function(){return o(337234).Z}},52193:(e,t,o)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/_saved"]=function(){return o(337234).Z}},38101:(e,t,o)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/_shop"]=function(){return o(337234).Z}},907254:(e,t,o)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/story_pins"]=function(){return o(337234).Z}},331137:(e,t,o)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/topics"]=function(){return o(337234).Z}},832753:(e,t,o)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/tried"]=function(){return o(337234).Z}},333905:(e,t,o)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/video_pins"]=function(){return o(337234).Z}},402039:(e,t,o)=>{let n;o.d(t,{Z:()=>s}),void 0===n&&(n=o.g);const i=function(e,t){const o=(i=t)===n.setTimeout?function(e,t){return n.setTimeout(e,t)}:i===n.setInterval?function(e,t){return n.setInterval(e,t)}:i===n.clearTimeout?function(e){return n.clearTimeout(e)}:i===n.clearInterval?function(e){return n.clearInterval(e)}:i;var i;return function(e,t,n,...i){return o(e,t,n,...i)}},s={setTimeout:i(0,n.setTimeout),setInterval:i(0,n.setInterval),clearTimeout:i(0,n.clearTimeout),clearInterval:i(0,n.clearInterval)}},105265:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(116303),i=o(883119),s=o(785893);function r({user:e,size:t="md",hasOutline:o}){const{first_name:r,image_medium_url:l,username:a}=e;return(0,s.jsx)(i.iP,{role:"link",rounding:"circle",href:`/${a}/`,children:(0,s.jsx)(n.Z,{size:t,src:null!=l?l:"",name:r||a||"",outline:o})})}},608360:(e,t,o)=>{o.d(t,{Z:()=>_});var n=o(667294),i=o(333312),s=o(223815),r=o(941646),l=o(898781),a=o(61877),c=o(883119),d=o(785893);const u=({handleBlockUser:e,handleClickReport:t,handleDelete:o,handleOnEdit:u,handleRemoveMention:_,handleHighlight:h,handleRemoveHighlight:p,showHighlightEducator:m,iconColor:g,small:f})=>{const x=(0,l.ZP)(),[b,v]=(0,n.useState)(!1),y=(0,n.useRef)(null),P=e=>{const t=(e||{}).event||{};t.preventDefault&&(t.preventDefault(),t.stopPropagation()),v(!b)};if(!(e||t||o||u||_||h))return null;const w={highlight:x._('Highlight', 'Highlight a community post or comment', 'Highlight a community post or comment'),remove:x._('Remove highlight', 'Remove highlight for a community post or comment', 'Remove highlight for a community post or comment'),edit:x._('Edit', 'Edit a community post or comment', 'Edit a community post or comment'),delete:x._('Delete', 'Delete a community post or comment', 'Delete a community post or comment'),report:x._('Report this content', 'Report a community post or comment', 'Report a community post or comment'),removeMention:x._('Remove @mention', 'closeup.activityItem.removeMention', 'Button that allows user to remove their @mention in a comment on a pin'),blockUser:x._('Block user', 'closeup.activityItem.blockUser', 'Block comment author')};return(0,d.jsx)(c.kC,{alignItems:"end",direction:"column",justifyContent:"start",children:(0,d.jsxs)(c.xu,{children:[(0,d.jsx)(c.xu,{children:(0,d.jsx)(r.Z,{id:"flyout-toggle",children:(0,d.jsx)(c.hU,{accessibilityExpanded:b,accessibilityHaspopup:!0,accessibilityLabel:x._('more options', 'accessible label for button to see more options on report content', 'accessible label for button to see more options on report content'),icon:"ellipsis",iconColor:g||"gray",onClick:P,size:f?"sm":"md",ref:y})})}),m&&(0,d.jsx)(c.mh,{zIndex:a.lI,children:(0,d.jsx)(s.Z,{children:(0,d.jsx)(i.default,{anchor:y.current,experienceIds:[503461],idealDirection:"down",placementId:12,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center"})})}),b&&(0,d.jsxs)(c.Lt,{id:"dropdown-flyout",anchor:y.current,idealDirection:"down",onDismiss:P,isWithinFixedContainer:!0,children:[h&&(0,d.jsx)(c.Lt.Item,{onSelect:()=>{h(),P()},option:{label:w.highlight,value:w.highlight},dataTestId:"dropdown-item-highlight"}),p&&(0,d.jsx)(c.Lt.Item,{onSelect:()=>{p(),P()},option:{label:w.remove,value:w.remove},dataTestId:"dropdown-item-removeHighlight"}),u&&(0,d.jsx)(c.Lt.Item,{onSelect:()=>u(),option:{label:w.edit,value:w.edit},dataTestId:"dropdown-item-edit"}),o&&(0,d.jsx)(c.Lt.Item,{onSelect:()=>o(),option:{label:w.delete,value:w.delete},dataTestId:"dropdown-item-delete"}),t&&(0,d.jsx)(c.Lt.Item,{onSelect:()=>t(),option:{label:w.report,value:w.report},dataTestId:"dropdown-item-report"}),_&&(0,d.jsx)(c.Lt.Item,{onSelect:()=>{_(),P()},option:{label:w.removeMention,value:w.removeMention},dataTestId:"dropdown-item-removeMention"}),e&&(0,d.jsx)(c.Lt.Item,{onSelect:()=>e(),option:{label:w.blockUser,value:w.blockUser},dataTestId:"dropdown-item-blockUser"})]})]})})};u.defaultProps={handleBlockUser:null,handleClickReport:null,handleDelete:null,handleOnEdit:null,handleRemoveMention:null};const _=u},123630:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(667294),i=o(182750),s=o(883119),r=o(785893);function l(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class a extends n.PureComponent{constructor(...e){super(...e),l(this,"parseText",(()=>{const{tags:e,taggedUsers:t,text:o,size:n}=this.props;if(!e.length||!t||e.length!==t.length)return this.renderRegularText(o,"1");let i=0,l=[];return e.forEach(((e,t)=>{const n=o.substring(i,e.offset);i=e.offset+e.length;const s=o.substring(e.offset,i);l=l.concat(this.renderRegularText(n,`${t}a`)).concat(this.renderTaggedText(s,t,`${t}b`))})),l=l.concat(this.renderRegularText(o.substring(i),"2")),(0,r.jsx)(s.xv,{inline:!0,size:n,overflow:"normal",children:l})})),l(this,"renderRegularText",((e,t)=>(0,r.jsx)(s.xv,{inline:!0,size:this.props.size,overflow:"normal",children:this.props.allowLink?(0,r.jsx)(i.Z,{children:e}):e},t))),l(this,"renderTaggedText",((e,t,o)=>(0,r.jsx)(s.xv,{color:"shopping",inline:!0,size:this.props.size,weight:"bold",overflow:"normal",children:(0,r.jsx)(s.rU,{inline:!0,href:`/${this.props.taggedUsers[t].username}`,underline:"hover",children:e})},o)))}render(){return(0,r.jsx)("span",{style:{whiteSpace:"pre-wrap",wordWrap:"break-word"},children:this.parseText()})}}l(a,"defaultProps",{allowLink:!0,size:"200"})},199939:(e,t,o)=>{o.d(t,{Z:()=>_});var n=o(667294),i=o(123630),s=o(322741),r=o(986644),l=o(883119),a=o(898781),c=o(785893);function d(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class u extends n.PureComponent{constructor(...e){super(...e),d(this,"state",{truncate:!!this.props.text&&this.props.text.length>(this.props.maxCharLength||r.lr)+this.revealText.length}),d(this,"showFullText",(()=>this.setState({truncate:!1})))}get revealText(){return this.props.inUnifiedComments?this.props.i18n._('... More', 'click to see more of a long post', 'click to see more of a long post'):this.props.i18n._('... See more', 'click to see more of a long post', 'click to see more of a long post')}render(){const{allowLink:e,allowReveal:t,maxCharLength:o,size:a,tags:d,taggedUsers:u,text:_}=this.props,{truncate:h}=this.state,p=h?_.substring(0,o||r.lr).trim():_;return(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(i.Z,{allowLink:e,size:a,taggedUsers:u,tags:d,text:p}),h&&!t&&(0,c.jsx)(l.xv,{inline:!0,weight:"bold",overflow:"normal",children:this.revealText}),h&&t&&(0,c.jsx)(s.Z,{color:"default",handleClick:this.showFullText,text:this.revealText,size:a})]})}}d(u,"defaultProps",{allowLink:!0,allowReveal:!1,size:"200",tags:[],taggedUsers:[],text:""});const _=function(e){const t=(0,a.ZP)();return(0,c.jsx)(u,{...e,i18n:t})}},322741:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(883119),i=o(785893);function s({color:e="subtle",handleClick:t,size:o="100",text:s}){return(0,i.jsx)(n.xu,{display:"inlineBlock",children:(0,i.jsx)(n.iP,{onTap:t,rounding:"pill",children:(0,i.jsx)(n.xv,{color:e,size:o,weight:"bold",children:s})})})}},182750:(e,t,o)=>{o.d(t,{Z:()=>h});var n=o(667294),i=o(954931),s=o(968337),r=o.n(s),l=o(89254),a=o(610248),c=o(883119),d=o(785893);const u=new(r());u.tlds(a),u.add("#",{validate(e,t,o){const n=e.slice(t);return o.re.hashtag||(o.re.hashtag=new RegExp("^([a-zA-Z0-9_]){1,15}(?!_)(?=$|"+o.re.src_ZPCc+")")),o.re.hashtag.test(n)?!(t>=2&&"#"===n[t-2])&&n.match(o.re.hashtag)[0].length:0},normalize(e){e.url=`https://pinterest.com/search/pins/?q=${encodeURIComponent(e.text)}&rs=hashtag_pinrep`}});const _=({decoratedHref:e,decoratedText:t,index:o,isTrusted:n})=>(0,d.jsx)(c.rU,{href:e,onClick:({event:e})=>{e.stopPropagation()},target:n?null:"blank",children:t},o);class h extends n.PureComponent{parseString(e){if(""===e)return e;const t=(o=e,u.match(o));var o;if(!t)return e;const n=[];let s=0;return t.forEach(((t,o)=>{t.index>s&&n.push(e.substring(s,t.index));let r=t.url;const a=(0,i.Z)(t.url)&&!t.url.match(/help.pinterest/g);if(a){const e=(0,l.Z)(t.url);r=r.replace(e.origin,"")}const c=t.text,u=(0,d.jsx)(_,{decoratedHref:r,decoratedText:c,index:o,isTrusted:a});n.push(u),s=t.lastIndex})),e.length>s&&n.push(e.substring(s)),1===n.length?n[0]:n}parse(e,t=0){return"string"==typeof e?this.parseString(e):(0,n.isValidElement)(e)&&"a"!==e.type&&"button"!==e.type?(0,n.cloneElement)(e,{key:t},this.parse(e.props.children)):Array.isArray(e)?e.map(((e,t)=>this.parse(e,t))):e}render(){return(0,d.jsx)("span",{children:this.parse(this.props.children)})}}},986644:(e,t,o)=>{o.d(t,{A7:()=>i,YD:()=>s,lr:()=>n});const n=170,i=(e,t,o)=>{const n=new Date(e),i=(new Date).getTime()-n.getTime();return Math.floor(i/1e3)<60?t._('now', 'timestamp for a comment or post that was created within the last minute', 'timestamp for a comment or post that was created within the last minute'):o(e,!0)},s=e=>{const t=e.first_name||e.full_name||e.username;return t&&t.length>60?t.substring(0,60).trim().concat("..."):t}},283855:(e,t,o)=>{o.d(t,{K:()=>r,Q:()=>s});var n=o(667294);const i=(0,n.createContext)(null),s=i.Provider;function r(){const e=(0,n.useContext)(i);return null==e?void 0:e.featuredCommentId}},964569:(e,t,o)=>{o.d(t,{Z:()=>_});var n=o(702664),i=o(6637),s=o(778821),r=o(875495),l=o(195139),a=o(975209),c=o(874934),d=o(107656);const u={[d.o.aggregatedComment]:"AggregatedCommentReplyResource",[d.o.pin]:"AggregatedCommentResource",[d.o.didIt]:"DidItCommentsResource"};function _(){const e=(0,n.useDispatch)(),{aggregatedCommentCreated:t,updateCommentCount:o}=(0,c.nf)();return async({fromUnifiedComment:n,objectId:c,objectType:d,orbacSubjectId:_,pinId:h,replyToCommentId:p,tags:m,text:g})=>{const f=u[d],x={objectId:c,pinId:h,tags:m,text:g,replyToCommentId:p,..._?{orbacSubjectId:_}:{}};let b=s.DV.AGGREGATED_COMMENTS;n&&(b="pin"===d?s.DV.UNIFIED_COMMENTS:s.DV.AGGREGATED_COMMENT_REPLIES);const v=await i.Z.create(f,x).callCreate({showError:!1}),y=v.resource_response.data;return t(c,y),e((0,r.vX)({feedType:b,feedId:c,itemIds:[y.id],itemType:y.type})),"pin"===d&&h?e((0,l.R)(h,1)):"aggregatedComment"===d?o(c,1):e((0,a.L8)(c,1)),y.id||v}}},28754:(e,t,o)=>{o.d(t,{Z:()=>u});var n=o(702664),i=o(6637),s=o(541776),r=o(778821),l=o(875495),a=o(195139),c=o(975209),d=o(874934);function u(){const e=(0,n.useDispatch)(),{aggregatedCommentDeleted:t,updateCommentCount:o}=(0,d.nf)();return async({aggregatedCommentId:n,aggregatedPinId:d,feedType:u,orbacSubjectId:_,parentId:h,type:p,updateParentCommentCount:m})=>{await i.Z.create("AggregatedCommentResource",{commentId:n,..._?{orbacSubjectId:_}:{}}).callDelete({showError:!1}),h&&(e((0,l.EX)({feedId:d||h,feedType:u||r.DV.AGGREGATED_COMMENTS,itemIds:[n],itemType:"aggregatedcomment"})),t(h,n),m&&(p||0===p)&&(p===s.Rv.TOP?e((0,a.R)(h,-1)):p===s.Rv.REPLY_TO_AGGREGATED?o(h,-1):e((0,c.L8)(h,-1))))}}},201658:(e,t,o)=>{o.d(t,{Z:()=>q});var n=o(667294),i=o(985913),s=o(91564),r=o(784590),l=o(883119),a=o(702664),c=o(745091),d=o(395141),u=o(6637),_=o(407043),h=o(60598),p=o(391254),m=o(887831),g=o(898781),f=o(785893);function x(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class b extends n.Component{constructor(...e){super(...e),x(this,"_videoContainerRef",null),x(this,"removeVideoTag",(()=>{this._videoContainerRef&&this._videoContainerRef.childNodes[0]&&this._videoContainerRef.removeChild(this._videoContainerRef.childNodes[0])})),x(this,"clear",(({event:e})=>{e.stopPropagation(),this.removeVideoTag(),this.props.handleRemoveClick()}))}get isPin(){const{display:e,imagePreviewSrc:t,videoUrls:o}=this.props;return!("pin"!==e||!t&&!o)}renderProgressBar(){const{progress:e}=this.props,t=100===e||0===e?"uploadProgressBar transition":"uploadProgressBar";return(0,f.jsx)("div",{className:t,style:{width:`${e}%`}})}renderDropZone(){return(0,f.jsxs)(l.xu,{children:[(0,f.jsx)(l.kC,{alignItems:"center",justifyContent:"center",children:(0,f.jsx)(l.kC,{alignItems:"center",justifyContent:"center",children:(0,f.jsx)(l.JO,{color:"default",icon:"camera",accessibilityLabel:this.props.i18n._('Add a Photo', 'Add a photo as part of a form', 'Add a photo as part of a form'),size:32})})}),(0,f.jsx)(l.xu,{marginTop:2,paddingX:12,children:(0,f.jsx)(l.xv,{align:"center",color:"default",weight:"bold",children:this.props.i18n._('Drag and drop or click to upload', 'Label on drag/drop area for uploading a pin', 'Label on drag/drop area for uploading a pin')})})]})}renderImage(){const{height:e,imagePreviewSrc:t,width:o}=this.props,n=this.props.i18n._('Your Upload', 'Image a pinner just uploaded to a form', 'Image a pinner just uploaded to a form');return this.isPin?(0,f.jsx)("img",{alt:n,src:t}):(0,f.jsx)(l.xu,{height:e,width:o,children:(0,f.jsx)(l.Ee,{alt:n,src:t,color:"white",naturalHeight:e,naturalWidth:o})})}renderResetButton(){return(0,f.jsx)(l.xu,{top:!0,left:!0,position:"absolute",margin:2,children:(0,f.jsx)(l.hU,{accessibilityLabel:this.props.i18n._('Remove Photo', 'Remove photo from a form', 'Remove photo from a form'),bgColor:"lightGray",icon:"clear",iconColor:"darkGray",onClick:this.clear,size:"sm"})})}renderContent(){const{height:e,imagePreviewSrc:t,isHovering:o,isVideo:i,isVideoComplete:s,isOver:r,thumbnail:a,videoUrls:c,allowReset:d=!0,width:u}=this.props,_=c?(0,f.jsx)("video",{height:this.isPin?"auto":e,width:u,autoPlay:!0,controls:!0,loop:!0,poster:a||"",children:Object.keys(c).map((e=>(0,f.jsx)("source",{src:c[e],type:"hls"===e?"m3u8":"video/mp4"},e)))}):null,h=r?"secondary":"default";return(0,f.jsxs)(n.Fragment,{children:[(0,f.jsx)(l.zd,{rounding:2,height:"100%",children:(0,f.jsxs)(l.xu,{color:h,height:"100%",width:"100%",justifyContent:"center",alignItems:"center",display:"flex",children:[!t&&!i&&this.renderDropZone(),i&&!c&&(0,f.jsxs)(l.xu,{children:[s&&(0,f.jsx)(l.xv,{align:"center",weight:"bold",children:this.props.i18n._('Processing Video', 'Loading message shown while user video is uploading', 'Loading message shown while user video is uploading')}),(0,f.jsx)(l.xu,{paddingY:4,children:(0,f.jsx)(l.$j,{show:!0,accessibilityLabel:this.props.i18n._('Video uploading', 'Loading spinner while video uploads', 'Loading spinner while video uploads')})})]}),_,t&&this.renderImage()]})}),(t||c)&&d&&o&&this.renderResetButton()]})}render(){const{connectDropTarget:e,height:t,imagePreviewSrc:o,onClick:n,videoUrls:i,width:s,hoverHandlers:{onMouseOver:r,onMouseLeave:a}}=this.props,c=this.isPin?"auto":t,d={width:s,border:this.isPin?0:"2px dashed #767676",borderRadius:"10px",cursor:o?"default":"pointer",height:c,marginLeft:"auto",marginRight:"auto",outline:"none",padding:0},u=(0,f.jsxs)(l.xu,{position:"relative",children:[(0,f.jsx)(p.Z,{unsafeCSS:"\n.uploadProgressBar {\n  background-color: #e60023;\n  border-radius: 8px;\n  height: 16px;\n  opacity: 1;\n  position: absolute;\n  transition: opacity 85ms ease-in, width 85ms ease-in;\n  z-index: 10;\n\n  &.transition {\n    opacity: 0;\n    transition: opacity 85ms ease-in, width 85ms ease-in;\n  }\n}\n"}),this.renderProgressBar(),o||i?(0,f.jsx)("div",{onMouseEnter:r,onMouseLeave:a,style:{...d},children:this.renderContent()}):(0,f.jsx)("button",{style:d,onClick:n,onMouseEnter:r,onMouseLeave:a,children:this.renderContent()})]});return e((0,f.jsx)("div",{children:u}))}}const v=(0,h.GR)((e=>e.accepts),{drop:(e,t)=>{e.onDrop&&e.onDrop(e,t)}},((e,t)=>({connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop()})))((function(e){const t=(0,g.ZP)(),{isHovering:o,hoverHandlers:n}=(0,m.Z)();return(0,f.jsx)(b,{...e,i18n:t,isHovering:o,hoverHandlers:n})}));function y(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const P=["video/quicktime","video/mp4"];class w extends n.Component{constructor(...e){var t;super(...e),t=this,y(this,"state",{imagePreviewSrc:this.props.existingImageSrc||"",isVideo:!1,isVideoComplete:!1,thumbnail:null,videoUrls:null,errorFlyout:null,progress:0}),y(this,"mounted",!1),y(this,"containerRef",null),y(this,"fileInputRef",null),y(this,"xhr",null),y(this,"CHECK_VIDEO_TIMEOUT",null),y(this,"ERROR_MESSAGE",this.props.i18n._('Unable to upload video. Please try again later.', 'Error shown when we can\'t accept video uploads', 'Error shown when we can\'t accept video uploads')),y(this,"handleFileDrop",((e,t)=>{if(t&&(!this.xhr||4===this.xhr.readyState)){const e=t.getItem().files[0];this.handleFile(e)}})),y(this,"handleFile",(e=>{const{onImageUploadStart:t}=this.props;e.size>2e9?this.showError(this.props.i18n._('The video is too large. The maximum size is 2 GB.', 'Error if a user tries to upload a video that is too large', 'Error if a user tries to upload a video that is too large')):(this.props.allowVideo&&P.includes(e.type)&&this.setState({isVideo:!0}),this.loadMedia(e),t&&t())})),y(this,"showError",(e=>{const t=(0,f.jsx)(l.J2,{color:"red",anchor:this.containerRef,idealDirection:this.props.idealErrorDirection,onDismiss:()=>this.setState({errorFlyout:null}),size:"sm",shouldFocus:!1,children:(0,f.jsx)(l.xu,{padding:3,children:(0,f.jsx)(l.xv,{color:"inverse",weight:"bold",children:(0,f.jsx)("span",{children:e})})})});this.removePreview(t)})),y(this,"openFileDialog",(()=>{this.state.imagePreviewSrc||this.state.isVideo||(this.props.logContextEvent({event_type:101,component:192,element:1156}),this.fileInputRef&&this.fileInputRef.click())})),y(this,"openFile",(e=>{const t=e.target.files[0];this.handleFile(t)})),y(this,"removePreview",(e=>{this.setState({imagePreviewSrc:"",progress:0,isVideo:!1,isVideoComplete:!1,videoUrls:null,errorFlyout:e}),this.fileInputRef&&(this.fileInputRef.value=""),this.xhr&&this.xhr.abort&&(this.xhr.abort(),this.xhr=null),this.CHECK_VIDEO_TIMEOUT&&clearTimeout(this.CHECK_VIDEO_TIMEOUT),this.props.onReset&&this.props.onReset()})),y(this,"checkForMedia",(async function(e){const o=await u.Z.create("VIPResource",{upload_ids:[e]}).callGet();if(o.resource_response&&o.resource_response.data&&o.resource_response.data[e]){const n=o.resource_response.data[e],{status:i,signature:s}=n;"processing"===i||"registered"===i?t.CHECK_VIDEO_TIMEOUT=setTimeout((()=>t.checkForMedia(e)),1e3):"succeeded"===i?t.handleMediaUploadSuccess(s,e):t.showError(t.ERROR_MESSAGE)}else t.showError(t.ERROR_MESSAGE)})),y(this,"loadMedia",(e=>{const{isVideo:t}=this.state,o=t?"video":"triedit-image";u.Z.create("VIPResource",{type:o}).callCreate().then((t=>{var o,n;const{upload_id:i,upload_url:s,upload_parameters:r}=null!==(o=null===(n=t.resource_response)||void 0===n?void 0:n.data)&&void 0!==o?o:{};this.uploadMedia(e,i,s,r)}),(()=>{this.showError(this.ERROR_MESSAGE)}))})),y(this,"uploadMedia",((e,t,o,n)=>{const{isVideo:i}=this.state,s=new XMLHttpRequest;s.open("POST",o,!0),s.onload=()=>{(e=>e>=200&&e<400)(s.status)?this.setState({errorFlyout:null,isVideoComplete:i}):this.showError(this.props.i18n._('Something went wrong. Please try again later.', 'Error if video fails to upload', 'Error if video fails to upload')),this.checkForMedia(t)},s.upload.onprogress=e=>{const t=Math.round(99*e.loaded/e.total);this.setState({progress:t})};const r=new FormData;for(const l in n)r.append(l,n[l]);r.append("file",e),s.send(r),this.xhr=s}))}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}async handleMediaUploadSuccess(e,t){const{isVideo:o}=this.state,{width:n,height:i}=this.props;if(o){const o=await u.Z.create("VideoUrlsResource",{signatures:[e]}).callGet();this.handleVideoUploadSuccess(o,e,t)}else{const t=((e,t="1200x")=>e&&`https://i.pinimg.com/${t}/${e.substring(0,2)}/${e.substring(2,4)}/${e.substring(4,6)}/${e}.jpg`||"")(e);this.setState({imagePreviewSrc:t,progress:100}),this.props.onImageUploadFinished({image:{url:t,width:n,height:i}})}}handleVideoUploadSuccess(e,t,o){if(!this.mounted)return;const n=e.resource_response.data,i=`https://i.pinimg.com/${n[t].metadata.thumbnail}`,s=n[t].urls;this.setState({videoUrls:s,thumbnail:i,progress:100});const r=new XMLHttpRequest;r.onload=()=>{const e=new FileReader;e.readAsDataURL(r.response),e.onloadend=()=>{var t;this.props.onImageUploadFinished({video:{uploadId:o,imageBase64:null!==(t=e.result)&&void 0!==t?t:""}})}},r.open("GET",i),r.responseType="blob",r.send()}render(){const{FILE:e}=d.hm,{errorFlyout:t,imagePreviewSrc:o,isVideo:n,isVideoComplete:i,progress:s,thumbnail:r,videoUrls:a}=this.state,{allowReset:c,allowVideo:u,display:_,height:h,width:p}=this.props,m=u?"image/*,video/mp4,video/quicktime":"image/*";return(0,f.jsxs)(l.xu,{ref:e=>{this.containerRef=e},children:[(0,f.jsx)(l.xu,{display:"visuallyHidden",children:(0,f.jsx)("input",{accept:m,onChange:this.openFile,ref:e=>{this.fileInputRef=e},type:"file"})}),(0,f.jsx)(v,{allowReset:c,onClick:this.openFileDialog,handleRemoveClick:this.removePreview,imagePreviewSrc:o,accepts:[e],onDrop:this.handleFileDrop,height:h,width:p,progress:s,isVideo:n,isVideoComplete:i,videoUrls:a,thumbnail:r,display:_}),t]})}}y(w,"defaultProps",{onImageUploadStart:()=>{}});const A=function(e){const{logContextEvent:t}=(0,_.v)(),o=(0,g.ZP)();return(0,f.jsx)(w,{...e,i18n:o,logContextEvent:t})};var C=o(683365),j=o(499128),E=o(266898),S=o(975209),I=o(343341),T=o(14890);function z(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const k=1e3,D=/#[^(. #,\/$%\^&\*;:{}=\`~()\[\]@|<>)]*$/;class R extends n.PureComponent{constructor(e){super(e),z(this,"setTextAreaRef",(e=>{this._textAreaRef=e})),z(this,"handleTextInputChange",(({value:e})=>{this.setState({notes:e.substring(0,k)}),e.length>k?this.forceUpdate():this.handleHashtagTypeahead(e)})),z(this,"handleHashtagTypeahead",(e=>{const t=D.exec(e),o=t?t[0]:"";!this.state.inTypeahead&&o?this.setState({inTypeahead:!0,typeaheadValue:o}):this.state.inTypeahead&&(o?this.setState({typeaheadValue:o}):this.setState({inTypeahead:!1,typeaheadValue:""}))})),z(this,"addHashtag",(e=>{this.setState((t=>({inTypeahead:!1,notes:t.notes.replace(D,e),typeaheadValue:""})))})),z(this,"uploadImageAndCreateDidIt",(()=>{const e={image_url:this.state.imageUrlToSend};u.Z.create("DidItImageUploadResource",e).callCreate().then((e=>{const{data:{image_signature:t}}=e.resource_response;return this.createUpdateDidIt(t)})).catch((()=>this.createUpdateDidIt()))})),z(this,"handleImageReset",(()=>this.setState({imageUrlToSend:null}))),z(this,"handleFinishImageUpload",(e=>{e.image&&this.setState({imageUrlToSend:e.image.url})})),z(this,"handleDoneClick",(()=>{const{pinId:e,logContextEvent:t}=this.props;t({event_type:101,view_type:101,component:192,element:1112,object_id_str:e}),this.setState({submitted:!0}),this.handleDoneSubmission()})),z(this,"handleDoneSubmission",(()=>{const{imageUrlToSend:e}=this.state,{pinActivity:t}=this.props;if(e){if(!t||e!==t.oldImageUrl)return this.uploadImageAndCreateDidIt();if(t.imageSignatures&&t.imageSignatures.length>0)return this.createUpdateDidIt(t.imageSignatures[0])}return this.createUpdateDidIt()})),z(this,"handleCancel",(()=>{const{onDoneStateChanged:e}=this.props;e&&e(!1)})),z(this,"handleDeleteConfirmation",(e=>{const{aggregatedPinDataId:t,deleteUserDidItData:o,isDoneByMe:n,loggedInUser:{username:i},onDoneStateChanged:s,pinId:r,logContextEvent:l}=this.props;this.setState({showDeleteModal:!1}),e&&(l({event_type:101,view_type:101,component:192,element:1264,object_id_str:r}),o({aggregatedPinDataId:t,pinId:r,username:i,id:e,isOwnedByMe:!0}),s&&s(n))})),z(this,"handleShowDeleteModal",(()=>this.setState({showDeleteModal:!0})));const t=e.pinActivity||{};this.state={id:t.id||null,imageUrlToSend:t.oldImageUrl||null,inTypeahead:!1,notes:t.notes||"",showDeleteModal:!1,submitted:!1,typeaheadValue:""}}createUpdateDidIt(e){const{aggregatedPinDataId:t,createUserDidItData:o,isDoneByMe:n,loggedInUser:{username:i},onDoneStateChanged:s,pinId:r,toastManagerContext:l,updateUserDidItData:a}=this.props,{id:c,notes:d}=this.state;if(!d)return;n?c&&a({id:c,pinId:r,details:d,image_signatures:e?[e]:[]}):o({aggregatedPinDataId:t,username:i,details:d,image_signatures:e?[e]:[],pin_id:r}),s&&s(!n);-1===window.location.href.indexOf(i+"/tried")&&l.showToast((({hideToast:e})=>(0,f.jsx)(j.ZP,{duration:3e3,href:`/${i}/tried/`,onHide:e,text:this.props.i18n._('Nice work! Pins you\'ve tried live on your profile', 'Congratulations after trying a pin', 'Congratulations after trying a pin')})))}render(){const{imageUrlToSend:e,notes:t,showDeleteModal:o,submitted:n}=this.state,{isDoneByMe:i,pinActivity:s}=this.props,r=!!e&&(s||{}).oldImageUrl!==e,a=!!e,d=s&&s.notes!==t,u=!!t&&""!==t.trim(),_=!a||!u||!d&&!r;return(0,f.jsxs)(l.xu,{children:[(0,f.jsx)(l.xu,{marginTop:4,paddingX:12,children:(0,f.jsx)(l.xu,{column:12,children:(0,f.jsx)(l.xu,{paddingY:e?0:10,dangerouslySetInlineStyle:{__style:{transition:"padding-top 0.2s ease"}},children:(0,f.jsx)(l.xu,{display:"flex",column:12,marginBottom:2,color:"transparent",rounding:2,alignItems:"center",justifyContent:"center",children:(0,f.jsx)(A,{display:"image",existingImageSrc:e,onImageUploadFinished:this.handleFinishImageUpload,idealErrorDirection:"up",onReset:this.handleImageReset,height:366,width:366})})})})}),(0,f.jsx)(l.xu,{height:e?"auto":0,opacity:e?1:0,dangerouslySetInlineStyle:{__style:{transition:"opacity 0.2s ease",transitionDelay:"0.2s",visibility:e?"visible":"hidden"}},children:(0,f.jsxs)(l.xu,{width:366,margin:3,marginStart:"auto",marginEnd:"auto",children:[(0,f.jsx)(l.xu,{ref:this.setTextAreaRef,children:(0,f.jsx)(l.Kx,{id:"trynotes",onChange:this.handleTextInputChange,placeholder:this.props.i18n._('Add a note or tip', 'Tip input for tried it', 'Tip input for tried it'),value:t})}),this.state.inTypeahead&&this._textAreaRef?(0,f.jsx)(C.Z,{addHashtag:this.addHashtag,anchor:this._textAreaRef,query:this.state.typeaheadValue,idealDirection:"up"}):null,t.length>900&&(0,f.jsx)(l.xu,{paddingY:1,children:(0,f.jsxs)(l.xv,{size:"200",align:"end",children:[" ",t.length,"/",k," "]})})]})}),(0,f.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"end",children:[o&&(0,f.jsx)(c.Z,{didItData:s,onDeleteConfirmation:this.handleDeleteConfirmation}),n?(0,f.jsx)(l.xu,{marginEnd:2,children:(0,f.jsx)(l.$j,{accessibilityLabel:this.props.i18n._('submit', 'accessible label for loading spinner on submit button', 'accessible label for loading spinner on submit button'),show:!0})}):null,(0,f.jsxs)(l.xu,{display:"flex",marginBottom:3,marginEnd:4,children:[i?(0,f.jsx)(l.xu,{marginEnd:1,children:(0,f.jsx)(l.zx,{onClick:this.handleShowDeleteModal,text:this.props.i18n._('Delete', 'delete button in modal for tried-it info', 'delete button in modal for tried-it info'),size:"md"})}):(0,f.jsx)(l.xu,{marginEnd:1,children:(0,f.jsx)(l.zx,{onClick:this.handleCancel,text:this.props.i18n._('Cancel', 'cancel button in modal for tried-it info', 'cancel button in modal for tried-it info'),size:"md"})}),(0,f.jsx)(l.xu,{children:(0,f.jsx)(l.zx,{color:"red",disabled:_,onClick:this.handleDoneClick,text:this.props.i18n._('Done', 'done button in modal for tried-it info', 'done button in modal for tried-it info'),size:"md"})})]})]})]})}}const O=(0,T.compose)((0,a.connect)(null,((e,t)=>({createUserDidItData:(0,T.bindActionCreators)(S.DD,e),deleteUserDidItData:(0,T.bindActionCreators)(S.lg,e),updateUserDidItData:(0,T.bindActionCreators)(S.IU,e)}))),E.Z)((function(e){const{logContextEvent:t}=(0,_.v)(),o=(0,g.ZP)();return(0,f.jsx)(R,{...e,i18n:o,logContextEvent:t,toastManagerContext:(0,I.F9)()})}));function L(e){if(!e)return null;const{details:t,images:o,image_signatures:n,id:i}=e;return{id:i,imageSignatures:n,notes:t,oldImageUrl:o[0]["200x"].url}}class B extends n.Component{constructor(...e){var t,o,n;super(...e),n=e=>{const{onDoneStateChanged:t,pinActivityResource:o}=this.props;t&&t(e),e&&o&&o.refresh&&o.refresh()},(o="onDoneStateChanged")in(t=this)?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n}render(){const{onDoneStateChanged:e,pinActivityResource:t,pinTitle:o,userDidItDataId:n,...i}=this.props;return!t||t&&t.isLoaded?(0,f.jsx)(l.xu,{rounding:2,children:(0,f.jsx)(O,{onDoneStateChanged:this.onDoneStateChanged,pinActivity:L(t&&t.data),...i})}):(0,f.jsx)(s.Z,{})}}function M(e){const t=(0,r.Z)({name:"DidItUserPinActivityResource",options:{aggregated_pin_data_id:e.aggregatedPinDataId,username:"me"},noCache:!0});return(0,f.jsx)(B,{...e,pinActivityResource:t})}function F(e){const t=(0,r.Z)({name:"DidItActivityResource",options:{user_did_it_data_id:e.userDidItDataId,username:"me"},noCache:!0});return(0,f.jsx)(B,{...e,pinActivityResource:t})}function N(e){return e.isDoneByMe&&e.userDidItDataId?(0,f.jsx)(F,{...e}):e.isDoneByMe?(0,f.jsx)(M,{...e}):(0,f.jsx)(B,{...e})}var Z=o(802933),U=o(432730);const G=(0,o(307061).Z)((e=>{const{title:t}=e.richMetadata;return t?{...e,title:t}:null}));var H=o(121151);class V extends n.PureComponent{render(){const{aggregatedPinDataId:e,isDoneByMe:t,loggedInUser:o,onDoneStateChanged:n,onHide:r,pinId:a,pinResource:c,pinTitle:d,userDidItDataId:u}=this.props;if(!c.isLoaded)return(0,f.jsx)(s.Z,{});const{title:_}=G((0,U.Z)((0,Z.Z)({pin:c.data})))||{},h=d||_?(0,i.Z)(this.props.i18n._('Add a photo of {{pinTitle}}', 'Adding photo of a pin', 'Adding photo of a pin'),{pinTitle:d||_}):this.props.i18n._('Add a photo', 'Adding a photo', 'Adding a photo');return(0,f.jsx)(H.ZP,{accessibilityModalLabel:h,heading:h,onDismiss:r,size:500,children:(0,f.jsx)(l.xu,{color:"default",rounding:2,display:"flex",justifyContent:"center",children:(0,f.jsx)(N,{aggregatedPinDataId:e,isDoneByMe:t,loggedInUser:o,onDoneStateChanged:n,pinId:a,pinTitle:d||_,userDidItDataId:u})})})}}function W(e){const t=(0,g.ZP)(),o=(0,r.Z)({name:"PinResource",options:{field_set_key:"detailed",id:e.pinId}});return(0,f.jsx)(V,{...e,pinResource:o,i18n:t})}var $=o(946984);function Y(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class K extends n.PureComponent{constructor(...e){super(...e),Y(this,"state",{showModal:!1}),Y(this,"onTriedItButtonClick",this.props.requireAuth((({event:e})=>{e&&e.stopPropagation(),this.handleModalStateChange(!0),this.props.logContextEvent({event_type:101,view_type:101,component:this.props.thriftComponentType,element:1141,object_id_str:this.props.pinId,aux_data:{is_create:!this.props.isDoneByMe}})}))),Y(this,"handleHideModal",(()=>{this.handleModalStateChange(!1),this.props.logContextEvent({event_type:101,view_type:101,component:192,element:75,object_id_str:this.props.pinId})})),Y(this,"onModalDoneStateChanged",(e=>{this.handleModalStateChange(!1,e)})),Y(this,"handleModalStateChange",((e,t)=>{const{onDoneStateChanged:o,onToggleModal:n}=this.props;this.setState({showModal:e},(()=>{e||o&&o("boolean"==typeof t&&t),n&&n(e)}))}))}render(){const{aggregatedPinDataId:e="",isDoneByMe:t=!1,loggedInUser:o={id:"",username:""},pinId:i="",pinTitle:s,userDidItDataId:r}=this.props;return(0,f.jsxs)(n.Fragment,{children:[this.props.children({onTriedItButtonClick:this.onTriedItButtonClick}),this.state.showModal?(0,f.jsx)(W,{aggregatedPinDataId:e,isDoneByMe:t,loggedInUser:o,onDoneStateChanged:this.onModalDoneStateChanged,onHide:this.handleHideModal,pinId:i,pinTitle:null!=s?s:"",userDidItDataId:r}):null]})}}function q(e){const{logContextEvent:t}=(0,_.v)(),o=(0,$.Z)();return(0,f.jsx)(K,{...e,requireAuth:o,logContextEvent:t})}},184451:(e,t,o)=>{o.d(t,{Z:()=>x});var n=o(667294),i=o(702664),s=o(565733),r=o(620006),l=o(717615),a=o(784590),c=o(19121),d=o(231947),u=o(349700),_=o(407043),h=o(898781),p=o(883119),m=o(785893);function g(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class f extends n.Component{constructor(...e){super(...e),g(this,"renderScheduledPin",((e,t)=>{const o=Math.floor((e.scheduled_ts-(new Date).getTime()/1e3)/86400),i=(0,u.nk)(this.props.i18n._('{{ timeFromNow }}d', '"d" here stands for "days", the whole string means how many days e.g. 1 day, 2 days', '"d" here stands for "days", the whole string means how many days e.g. 1 day, 2 days'),{timeFromNow:o}),s=`+ ${t}`,r=t>0?(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(p.xu,{height:"100%",width:"100%",position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.5,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000"}}}),(0,m.jsx)(p.xu,{height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:!0,bottom:!0,left:!0,right:!0,children:(0,m.jsx)(p.xv,{color:"inverse",size:"200",weight:"bold",children:s})})]}):(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(p.xu,{height:"100%",width:"100%",position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.1,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000"}}}),(0,m.jsxs)(p.xu,{alignItems:"center",bottom:!0,display:"flex",justifyContent:"start",left:!0,paddingX:3,paddingY:2,position:"absolute",width:"100%",children:[(0,m.jsx)(p.JO,{accessibilityLabel:this.props.i18n._('scheduled time', 'Time scheduled for publishing the pin', 'Time scheduled for publishing the pin'),color:"light",icon:"clock",size:12}),(0,m.jsx)(p.xu,{display:"inlineBlock",marginStart:1,children:(0,m.jsx)(p.xv,{color:"inverse",size:"200",children:i})})]})]}),{image:l,title:a=""}=e,c=l&&l["236x"];return(0,m.jsxs)(n.Fragment,{children:[c&&(0,m.jsx)(p.Ee,{alt:a,color:"lightGray",fit:"cover",naturalHeight:c.height,naturalWidth:c.width,src:c.url}),r]})})),g(this,"renderEmtpyPlaceholder",(()=>(0,m.jsx)(p.xu,{color:"secondary",height:"100%",width:"100%"})))}render(){const{username:e,pinResource:{isLoaded:t},pins:o}=this.props;if(!t||!o||0===o.length)return null;const n=o.length;return(0,m.jsx)(p.xu,{marginBottom:10,children:(0,m.jsxs)(p.W2,{children:[(0,m.jsx)(r.Z,{label:this.props.i18n._('Scheduled Pins', 'Title for the scheduled Pin section under the pin tab of profile page', 'Title for the scheduled Pin section under the pin tab of profile page'),sublabel:(0,s.Z)(n,this.props.i18n)}),(0,m.jsx)(p.iP,{role:"link",href:`/${e}/scheduled-pins/`,rounding:4,children:(0,m.jsx)(p.xu,{"data-test-id":"scheduled-pins-nav-link",height:126,marginStart:3,marginEnd:3,overflow:"hidden",rounding:4,children:Array(6).fill().map(((e,t)=>(0,m.jsx)(p.xu,{display:"inlineBlock",height:126,marginEnd:5===t?0:1,overflow:"hidden",position:"relative",width:126,children:t<n?this.renderScheduledPin(o[t],5===t?n-6:0):this.renderEmtpyPlaceholder()},t)))})})]})})}}function x(e){const{logContextEvent:t}=(0,_.v)(),o=(0,h.ZP)(),n=(0,c.Z)(),s=(0,l.Z)(),r={orbac_subject_id:(0,d.lJ)(n,s)||void 0},u=(0,a.Z)({name:"ScheduledPinsResource",options:r}),p=(0,i.useSelector)((e=>e.scheduledPins));return(0,m.jsx)(f,{...e,i18n:o,pinResource:u,pins:p,logContextEvent:t})}},285970:(e,t,o)=>{o.r(t),o.d(t,{default:()=>I});var n=o(667294),i=o(702664),s=o(898781),r=o(883119),l=o(201658),a=o(785893);function c(e){const t=(0,s.ZP)();return(0,a.jsx)(l.Z,{thriftComponentType:172,...e,children:({onTriedItButtonClick:o})=>(0,a.jsx)(r.zx,{onClick:({event:e})=>o(e),text:t._('Add', 'Add a try to a pin', 'Add a try to a pin'),disabled:e.isDoneByMe})})}function d(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class u extends n.Component{constructor(...e){super(...e),d(this,"state",{isDoneByMe:!1}),d(this,"handleModalStateChanged",(e=>this.setState({isDoneByMe:e})))}render(){var e,t,o,n,i,s,l,d,u;const{loggedInUser:_,pin:h}=this.props,p=`/pin/${h.id}/`,m=null===(e=h.images)||void 0===e||null===(t=e["136x136"])||void 0===t?void 0:t.url,g=null===(o=h.images)||void 0===o||null===(n=o["136x136"])||void 0===n?void 0:n.height,f=null===(i=h.images)||void 0===i||null===(s=i["136x136"])||void 0===s?void 0:s.width,x=h.rich_summary&&h.rich_summary.display_name||h.description,b={aggregatedPinDataId:null===(l=h.aggregated_pin_data)||void 0===l?void 0:l.id,isDoneByMe:this.state.isDoneByMe,loggedInUser:_,onDoneStateChanged:this.handleModalStateChanged,pinId:h.id,pinTitle:x};return(0,a.jsxs)(r.xu,{display:"flex",alignItems:"center",justifyContent:"between",paddingY:2,children:[(0,a.jsxs)(r.xu,{column:10,display:"flex",alignItems:"center",children:[(0,a.jsx)(r.xu,{column:2,children:(0,a.jsx)(r.iP,{role:"link",href:p,rounding:2,children:(0,a.jsx)(r.zd,{rounding:2,wash:!0,children:(0,a.jsx)(r.Ee,{alt:null!==(d=h.title)&&void 0!==d?d:"",color:null!==(u=h.dominant_color)&&void 0!==u?u:"#fff",naturalHeight:null!=g?g:1,naturalWidth:null!=f?f:1,src:null!=m?m:""},m)})},p)}),(0,a.jsx)(r.xu,{column:10,paddingX:2,children:(0,a.jsx)(r.xv,{weight:"bold",children:(0,a.jsx)(r.rU,{href:p,children:x})},p)})]}),(0,a.jsx)(r.xu,{column:2,children:(0,a.jsx)(c,{...b})})]})}}var _=o(784590);function h({loggedInUser:e}){const t=(0,s.ZP)(),o=(0,_.Z)({name:"UserPinsResource",options:{prepend:!1,username:e.username,field_set_key:"did_it_grid_item",page_size:10}});t._('Tried any of these? Add a photo:', 'Text suggesting users to Try a Pin they alread saved', 'Text suggesting users to Try a Pin they alread saved');const n=(e=>e.isLoaded?e.data.filter((e=>e.is_whitelisted_for_tried_it)):[])(o).slice(0,5);return(0,a.jsxs)(r.xu,{children:[(0,a.jsx)(r.$j,{show:!o.isLoaded,accessibilityLabel:t._('Pins to try are loading', ' - ', ' -- ')}),o.isLoaded&&(0,a.jsxs)(r.W2,{children:[(0,a.jsxs)(r.xu,{display:"flex",direction:"column",alignItems:"center",paddingY:6,children:[(0,a.jsxs)(r.xv,{align:"center",weight:"bold",children:[" ",t._('Pins you try live here', ' - ', ' -- ')," "]}),(0,a.jsx)(r.xu,{column:12,mdColumn:6,children:(0,a.jsx)(r.xv,{align:"center",color:"subtle",weight:"bold",children:t._('Add notes and photos to recipes you made, places you traveled and other ideas you tried', ' - ', ' -- ')})})]}),!!n.length&&(0,a.jsxs)(r.xu,{column:12,display:"flex",paddingY:6,children:[(0,a.jsx)(r.xu,{display:"none",mdColumn:1,mdDisplay:"flex"}),(0,a.jsxs)(r.xu,{column:12,mdColumn:10,children:[(0,a.jsx)(r.xu,{margin:1,paddingY:2,children:(0,a.jsx)(r.xv,{weight:"bold",children:t._('Tried any of these? Add a photo or note:', 'Text suggesting users to Try a Pin they alread saved', 'Text suggesting users to Try a Pin they alread saved')})}),n.map((t=>(0,a.jsx)(u,{pin:t,loggedInUser:e},t.id)))]})]})]})]})}var p=o(556023),m=o(966113),g=o(700380),f=o(430323),x=o(499128),b=o(407043),v=o(343341),y=o(304903);function P(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class w extends n.Component{constructor(...e){super(...e),P(this,"removeReportedActivity",(e=>{const{toastManagerContext:t}=this.props;t.showToast((({hideToast:e})=>(0,a.jsx)(x.ZP,{duration:3e3,href:m.Z.settings.POLICY_COMMUNITY_GUIDELINES,onHide:e,text:this.props.i18n._('Thanks! We\u2019ll take this down if it goes against our guidelines.', 'Statement that a tried item has successfully been reported', 'Statement that a tried item has successfully been reported')})))})),P(this,"handleScroll",(0,g.Z)((()=>{const{didItUserFeedResource:{isFetching:e,isAtEnd:t}}=this.props;if(e||t)return;const o=(0,y.Uy)(window);(0,y.aZ)(window)-(0,y.S$)()-200<o&&this.fetchMoreData()}),100))}componentDidMount(){window.addEventListener("scroll",this.handleScroll),this.props.logContextEvent({event_type:13,view_type:4,view_parameter:3071})}componentWillUnmount(){window.removeEventListener("scroll",this.handleScroll)}fetchMoreData(){const{didItUserFeedResource:{isFetching:e,isAtEnd:t,fetchMore:o}}=this.props;e||(t?window.removeEventListener("scroll",this.handleScroll):o())}render(){const{feedItems:e,i18n:t,isOwnProfile:o,didItUserFeedResource:{isLoaded:n},triedItUser:i}=this.props;if(!n)return(0,a.jsx)(r.W2,{children:(0,a.jsx)(r.xu,{margin:6,children:(0,a.jsx)("div",{className:"loadingSpinner",children:(0,a.jsx)(r.$j,{accessibilityLabel:this.props.i18n._('Tried it feed', ' - ', ' -- '),show:!0})})})});const s=o?3106:3107;return!e.length&&o?(0,a.jsx)(h,{loggedInUser:i}):(0,a.jsx)(r.W2,{children:(0,a.jsx)(f.Z,{view:4,viewParameter:s,component:212,children:(0,a.jsx)(r.xu,{display:"flex",column:12,justifyContent:"center",children:(0,a.jsxs)(r.xu,{column:12,mdColumn:10,children:[o&&(0,a.jsx)(r.xu,{paddingY:2,children:(0,a.jsx)(r.xv,{align:"center",size:"300",children:t._('Your Tried Pins are only visible to you', 'didItProfileFeed.render.triedItEducation', 'Message letting user know that tried pins are visible only to self')})}),e.map((e=>(0,a.jsx)(r.xu,{children:(0,a.jsx)(p.Z,{didItDataId:e.id,removeReportedActivity:this.removeReportedActivity,viewType:4})},e.id)))]})})})})}}function A(e){const{logContextEvent:t}=(0,b.v)(),o=(0,s.ZP)(),n=(0,v.F9)(),r=(0,i.useSelector)((({feeds:t})=>(t[`userDidItData:${e.triedItUser.username}`]||[]).reduce(((e,t)=>"userdiditdata"===t.type?e.concat({type:t.type,id:t.id}):e),[]))),l=(0,_.Z)({name:"DidItUserFeedResource",options:{username:e.triedItUser.username,redux_normalize_feed:!0},noCache:!0});return(0,a.jsx)(w,{...e,didItUserFeedResource:l,feedItems:r,toastManagerContext:n,i18n:o,logContextEvent:t})}var C=o(86551),j=o(19121),E=o(276775),S=o(357805);function I(){const e=(0,C.Z)(),t=(0,j.Z)(),{username:o}=(0,E.UO)();return(0,S.S)(o,e.data?e.data.id:null,13671),e.data?(0,a.jsx)(A,{isOwnProfile:!(!t.isAuth||!t.username)&&t.username===o,triedItUser:e.data}):null}},745091:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(121151),i=o(898781),s=o(883119),r=o(785893);function l({onDeleteConfirmation:e,didItData:t}){const o=(0,i.ZP)(),l=t&&t.id,a=o._('Are you sure?', 'Confirmation dialog for deleting data', 'Confirmation dialog for deleting data');return(0,r.jsx)(n.ZP,{accessibilityModalLabel:o._('Are you sure you want to delete the did it photo?', 'Label for a modal showing to confirm deleting a did it photo', 'Label for a modal showing to confirm deleting a did it photo'),heading:a,onDismiss:()=>e(null),size:"sm",role:"alertdialog",footer:(0,r.jsxs)(s.xu,{display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:[(0,r.jsx)(s.xu,{padding:1,children:(0,r.jsx)(s.zx,{fullWidth:!0,onClick:()=>e(null),size:"lg",text:o._('Cancel', 'Cancel the deleting data in a modal form', 'Cancel the deleting data in a modal form')})}),(0,r.jsx)(s.xu,{padding:1,children:(0,r.jsx)(s.zx,{fullWidth:!0,color:"red",onClick:()=>e(l),size:"lg",text:o._('Delete', 'Confirmation of deleting data', 'Confirmation of deleting data')})})]}),children:(0,r.jsx)(s.xu,{paddingX:4,paddingY:2,children:(0,r.jsx)(s.xv,{children:o._('This will remove this photo', 'Confirmation dialog for deleting data', 'Confirmation dialog for deleting data')})})})}},91564:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(898781),i=o(883119),s=o(785893);function r(){const e=(0,n.ZP)();return(0,s.jsx)(i.xu,{alignItems:"center",color:"default",display:"flex",height:155,justifyContent:"center",rounding:2,width:300,dangerouslySetInlineStyle:{__style:{outline:"none"}},children:(0,s.jsx)(i.$j,{accessibilityLabel:e._('Tried it', ' - ', ' -- '),show:!0})})}},556023:(e,t,o)=>{o.d(t,{Z:()=>ke});var n=o(667294),i=o(702664),s=o(745091),r=o(898781),l=o(201658),a=o(883119),c=o(785893);function d(e){const t=(0,r.ZP)();return(0,c.jsx)(l.Z,{thriftComponentType:193,...e,children:({onTriedItButtonClick:e})=>(0,c.jsx)("button",{style:{background:"none",border:"none",padding:"0"},onClick:e,children:(0,c.jsx)(a.xu,{paddingY:1,paddingX:2,children:(0,c.jsx)(a.xv,{weight:"bold",children:t._('Save', 'comment save button', 'comment save button')})})})})}var u=o(428837),_=o(121151),h=o(6637),p=o(66699);const m="__SafeLinkFlag__",g=({html:e,onClick:t})=>{const o=t||null,n=[],i=(e=(e=e||"").replace(/#[^(\-\\.\s#,\/$%\^&\*;:{}=\`~()\[\]@|<>)]+/gi,(e=>(n.push({url:`/search/pins/?q=${encodeURIComponent(e)}&rs=hashtag_closeup`,text:e}),m)))).replace(/<a[\s]+href=['"]([^'"<>]+)['"][^>]*>([^<]*)<\/a>/gi,((e,t,o)=>(n.push({url:t,text:o}),m)));return(0,c.jsx)(a.xu,{"data-test-id":"safe-link",children:i.split(new RegExp("(__SafeLinkFlag__)")).filter((e=>e.length>0)).map(((e,t)=>{let i=e;if(e===m&&n.length){const{url:e,text:t}=n.shift();i=(0,c.jsx)(a.rU,{onClick:o||void 0,href:e,inline:!0,underline:"hover",children:t})}return(0,c.jsx)(a.xv,{color:"shopping",weight:"bold",inline:!0,children:i},t)}))})};var f=o(833785);function x(e){var t;const{item:{images:o,pin:n}}=e,i=o.length>0,s=i?o[0]["750x"]:null;if(!i||!s)return null;const r=o[0]["750x"].url;return(0,c.jsx)(a.zd,{rounding:2,wash:!0,children:(0,c.jsx)(a.Ee,{alt:null!==(t=n.title)&&void 0!==t?t:"",src:r,color:"#efefef",naturalWidth:s.width,naturalHeight:s.height},r)})}var b=o(102243),v=o(19121),y=o(14890),P=o(107656),w=o(105265),A=o(941646);const C=({accessibilityModalLabel:e,cancelButtonText:t,confirmButtonText:o,detail:n,heading:i,onConfirm:s,onDismiss:r})=>(0,c.jsx)(_.ZP,{accessibilityModalLabel:e,heading:i,onDismiss:r,size:"md",children:(0,c.jsxs)(a.xu,{children:[(0,c.jsx)(a.xu,{padding:4,children:(0,c.jsx)(a.xv,{children:n})}),(0,c.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"end",children:[(0,c.jsx)(a.xu,{margin:2,children:(0,c.jsx)(A.Z,{id:"confirm-modal-cancel",children:(0,c.jsx)(a.zx,{fullWidth:!0,onClick:r,text:t})})}),(0,c.jsx)(a.xu,{margin:2,children:(0,c.jsx)(A.Z,{id:"confirm-modal-confirm",children:(0,c.jsx)(a.zx,{fullWidth:!0,color:"red",onClick:()=>{s(),r()},text:o})})})]})]})});var j=o(367216),E=o(160380),S=o(266898),I=o(641012),T=o(407043),z=o(36243);function k(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const D={isTextChanged:!1,showConfirmDiscardModal:!1,submissionInProgress:!1,textValue:"",userMentionOverLimitError:!1};class R extends n.Component{constructor(...e){super(...e),k(this,"state",{...D,tags:this.props.tags||[],textValue:this.props.text||"",isEmojiTrayOpen:!1}),k(this,"handleFocus",(()=>{this.props.onEnter()})),k(this,"handleChange",(({text:e,mentions:t})=>{t.length<this.state.tags.length&&this.props.logContextEvent({event_type:8906,aux_data:{tag_type:1}});const o=(this.props.text||"")!==e;this.setState({isTextChanged:o,textValue:e,tags:t,userMentionOverLimitError:t.length>I.b7})})),k(this,"handleOnClickEdit",(()=>{const{onEditItem:e}=this.props;let t={};const{textValue:o,tags:n}=this.state;t={contentMarkdown:o,imageSignatures:"",objectIds:[],tags:JSON.stringify(n)},e&&e(t),this.setState({submissionInProgress:!1})})),k(this,"handleOnClickPost",(()=>{this.state.userMentionOverLimitError||(this.setState({submissionInProgress:!0,isEmojiTrayOpen:!1}),this.handleOnClickPostFinal())})),k(this,"handleOnClickPostFinal",(()=>{const{onAddItem:e}=this.props;let t={};const{textValue:o,tags:n}=this.state;t={contentMarkdown:o,imageSignatures:"",objectIds:[],tags:JSON.stringify(n)},e&&e(t),this.setState(D)})),k(this,"handleOnFinalDiscardItem",(()=>{const{onCancelItem:e}=this.props;this.setState(D),e()})),k(this,"isSubmitEditDisabled",(()=>{const{isTextChanged:e}=this.state;return!e})),k(this,"toggleShowConfirmDiscardModal",(()=>{const{showConfirmDiscardModal:e}=this.state;this.setState({showConfirmDiscardModal:!e,isEmojiTrayOpen:!1})})),k(this,"renderConfirmDiscardModal",(()=>{const{statusType:e}=this.props;let t,o;return"textInFlightEdit"===e?(t=this.props.i18n._('Your changes will be discarded', 'Confirmation dialog before discarding changes', 'Confirmation dialog before discarding changes'),o=this.props.i18n._('Discard changes', 'Clear edits', 'Clear edits')):(t=this.props.i18n._('Once you delete a draft, you can\u2019t undo it', 'Confirmation before discarding changes', 'Confirmation before discarding changes'),o=this.props.i18n._('Delete', 'delete draft of a post or comment', 'delete draft of a post or comment')),(0,c.jsx)(C,{accessibilityModalLabel:this.props.i18n._('Confirm discard composer', 'Confirm discarding a post or comment', 'Confirm discarding a post or comment'),heading:this.props.i18n._('Are you sure?', 'Confirm discarding a post or comment', 'Confirm discarding a post or comment'),cancelButtonText:this.props.i18n._('Cancel', 'Cancel discarding a post or comment', 'Cancel discarding a post or comment'),confirmButtonText:o,detail:t,onConfirm:this.handleOnFinalDiscardItem,onDismiss:this.toggleShowConfirmDiscardModal})})),k(this,"getReplyToEntity",(e=>[e?`@${e.user.username} `:"",e?[{offset:0,object_id:e.user.id,length:e.user.username.length+1,tag_type:1}]:[]]))}get isAggregatedComment(){const{objectType:e}=this.props;return e===P.o.pin||e===P.o.didIt||e===P.o.aggregatedComment}render(){const{avatarSize:e,replyToObject:t,privatePin:o,statusType:n,viewingUser:i}=this.props,{isTextChanged:s,isEmojiTrayOpen:r,showConfirmDiscardModal:l,submissionInProgress:d,tags:u,textValue:_,userMentionOverLimitError:h}=this.state,p={background:"transparent",border:"0",display:s?"inline-block":"block",minHeight:"textStaticDisplay"===n?"":"50px",fontSize:"16px",outline:"0",overflowX:"hidden",resize:"none",whiteSpace:"pre-wrap",width:"100%"},[m,g]=this.getReplyToEntity(t),f=(0,c.jsx)(a.xu,{children:(0,c.jsx)(a.xv,{color:"error",size:"100",align:"end",children:(0,z.bl)(!1,this.props.i18n)})});let x,b;x=this.isAggregatedComment&&o?this.props.i18n._('Add a public comment', 'Add a comment', 'Add a comment'):this.isAggregatedComment?this.props.i18n._('Add a comment', 'Prompt to add a comment', 'Prompt to add a comment'):this.props.i18n._('Reply', 'Adding text to a community comment', 'Adding text to a community comment'),b=this.isAggregatedComment?this.props.i18n._('Done', 'Post a top level comment on a pin or tried it', 'Post a top level comment on a pin or tried it'):this.props.i18n._('Reply', 'Posting a reply to a post or comment', 'Posting a reply to a post or comment');const v=s;return"textInflightCreation"===n?(0,c.jsxs)(a.xu,{column:12,display:"flex",justifyContent:"center",children:[(0,c.jsxs)(a.xu,{width:"100%",children:[(0,c.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,c.jsx)(a.xu,{marginEnd:2,children:(0,c.jsx)(w.Z,{user:i,size:e})}),(0,c.jsx)(a.xu,{borderStyle:"sm",padding:3,rounding:4,flex:"grow",children:(0,c.jsx)(E.Z,{focusOnMount:!0,initialMentions:g,initialText:m,onAddMention:()=>{this.props.logContextEvent({event_type:8905,aux_data:{tag_type:1}})},onChange:this.handleChange,onSearchMentionCancel:()=>{this.props.logContextEvent({event_type:8908,aux_data:{tag_type:1}})},onSuggestionsPopoverOpen:()=>{this.props.logContextEvent({event_type:8907,aux_data:{tag_type:1}})},openEmojiTrayOnLoad:r,placeholder:x,privatePin:o})})]}),h&&f,(0,c.jsxs)(a.xu,{display:"flex",justifyContent:"end",marginTop:4,children:[(0,c.jsx)(A.Z,{id:"activity-item-create-cancel",children:(0,c.jsx)(a.zx,{color:"gray",onClick:v?this.toggleShowConfirmDiscardModal:this.handleOnFinalDiscardItem,text:this.props.i18n._('Cancel', 'Cancel making post or comment', 'Cancel making post or comment')})}),(0,c.jsx)(a.xu,{marginStart:2,children:(0,c.jsx)(A.Z,{id:"activity-item-create-submit",children:(0,c.jsx)(a.zx,{color:"red",disabled:!s||d||!_.length,onClick:this.handleOnClickPost,text:b})})})]})]}),l&&this.renderConfirmDiscardModal()]}):"textInFlightEdit"===n?(0,c.jsxs)(a.xu,{column:12,display:"flex",justifyContent:"center",children:[(0,c.jsxs)(a.xu,{width:"100%",children:[(0,c.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",children:(0,c.jsx)(a.xu,{borderStyle:"sm",padding:3,rounding:4,flex:"grow",children:(0,c.jsx)(E.Z,{focusOnMount:!0,initialMentions:u,initialText:_,onAddMention:()=>{this.props.logContextEvent({event_type:8905,aux_data:{tag_type:1}})},onChange:this.handleChange,onSearchMentionCancel:()=>{this.props.logContextEvent({event_type:8908,aux_data:{tag_type:1}})},onSuggestionsPopoverOpen:()=>{this.props.logContextEvent({event_type:8907,aux_data:{tag_type:1}})},placeholder:x})})}),h&&f,(0,c.jsxs)(a.xu,{display:"flex",justifyContent:"end",marginTop:4,children:[(0,c.jsx)(a.zx,{color:"gray",onClick:v?this.toggleShowConfirmDiscardModal:this.handleOnFinalDiscardItem,text:this.props.i18n._('Cancel', 'Cancel making post or comment', 'Cancel making post or comment')}),(0,c.jsx)(a.xu,{marginStart:2,children:(0,c.jsx)(a.zx,{color:"red",disabled:this.isSubmitEditDisabled()||d,onClick:this.handleOnClickEdit,text:this.props.i18n._('Save', 'comment save button', 'comment save button')})})]})]}),l&&this.renderConfirmDiscardModal()]}):(0,c.jsx)(a.xu,{alignItems:"center",display:"flex",justifyContent:"between",rounding:2,children:(0,c.jsx)("div",{"aria-label":this.props.i18n._('Add comment field', 'ActivityItemCreate.textbox.accessibilityLabel', 'Textbox for comment field.'),onKeyDown:this.handleFocus,onClick:this.handleFocus,role:"textbox",tabIndex:"0",style:{cursor:"text",width:"100%"},children:(0,c.jsxs)(a.xu,{column:12,display:"flex",children:[(0,c.jsx)(a.xu,{width:48,children:(0,c.jsx)(w.Z,{user:i,size:e})}),(0,c.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:"26px"}},width:"100%",height:48,alignItems:"center",display:"flex",marginStart:4,padding:4,borderStyle:"sm",children:[(0,c.jsx)("textarea",{"data-test-id":"communityItemTextBox",maxLength:2e3,name:"communityItemTextBox",onFocus:this.handleFocus,placeholder:x,rows:1,style:p}),(0,c.jsx)(j.Z,{isEmojiTrayOpen:r,onClick:()=>{this.setState({isEmojiTrayOpen:!r})}})]})]})})})}}k(R,"defaultProps",{imageSignature:"",onEnter:()=>{},showWelcomeEducation:!1,text:"",widthAuto:!1});const O=(0,S.Z)((function(e){const{logContextEvent:t}=(0,T.v)(),o=(0,r.ZP)(),n=(0,v.Z)(),i=n.isAuth?{image_medium_url:n.imageMediumUrl,type:"user",username:n.username,full_name:n.fullName,first_name:"",id:""}:{};return(0,c.jsx)(R,{...e,i18n:o,viewingUser:i,logContextEvent:t})}));var L=o(608360),B=o(814449),M=o(298361),F=o(986644);function N({createdAt:e,user:t,isHighlighted:o}){const n=(0,r.ZP)(),i=(0,M.Z)(),s=(0,c.jsx)(a.xv,{color:"subtle",size:"200",children:(0,F.A7)(e,n,i)}),l=(0,c.jsxs)(a.xv,{color:"subtle",size:"200",children:["· ",n._('Highlighted', 'pin.comments.highlight', 'Identifier for highlighted comments')]});return(0,c.jsxs)(a.xu,{display:"flex",alignItems:"start",marginStart:-1,marginEnd:-1,children:[(0,c.jsx)(a.xu,{paddingX:1,children:(0,c.jsx)(a.xv,{size:"200",weight:"bold",children:(0,c.jsx)(a.rU,{href:`/${t.username}/`,children:(0,F.YD)(t)})})}),(0,c.jsx)(a.xu,{paddingX:1,children:s}),o&&(0,c.jsx)(a.xu,{paddingX:1,children:l})]})}var Z=o(857079),U=o(482664),G=o(947599),H=o(123630),V=o(402039),W=o(199939),$=o(784590),Y=o(283855);const K=(0,n.lazy)((()=>o.e(1921).then(o.bind(o,301921))));function q({allowLink:e=!1,avatarSize:t="sm",commentCount:o,contentImage:i,contentImageSignature:s,contentText:l,flyout:d,handleOnEditCancel:u,handleOnEdited:_,handleHelpfulClick:h,handleLikeClick:p,handleLikeCountClick:m,handleReplyClick:g,handleReplyCountClick:f,helpfulCount:x,hideAddObjects:b,hideReplyCount:v,inEditMode:y,isHighlighted:P,isLikedByMe:C,isMarkedHelpfulByMe:j,isPlainComment:E,parentObject:S,pins:I,reactionCounts:T,responsePin:z,slotIndex:k,taggedUsers:D,tags:R,truncateText:L,commentId:B,createdAt:M,commentAuthor:F,type:q,isORBACProfileManager:X}){const Q=(0,Y.K)(),J=(0,r.ZP)(),[ee,te]=(0,n.useState)(B===Q),{isLoaded:oe}=(0,$.Z)({name:"PinResource",dangerouslyDisableFetch:!z,options:{id:null==z?void 0:z.id,field_set_key:"detailed"}});(0,n.useEffect)((()=>{B===Q&&V.Z.setTimeout((()=>{te(!1)}),1500)}),[]);const ne=oe&&!!z;return(0,c.jsx)(A.Z,{id:"canonical-comment",children:(0,c.jsxs)(a.xu,{display:"flex",marginBottom:E?4:0,children:[(0,c.jsx)(a.xu,{marginEnd:2,children:(0,c.jsx)(w.Z,{user:F,size:t})}),(0,c.jsxs)(a.xu,{flex:"grow",marginStart:2,children:[(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{borderColor:y?"transparent":void 0,transition:"1000ms",backgroundColor:ee?"lightGray":null}},borderStyle:"sm",padding:y?0:3,rounding:4,children:y?(0,c.jsx)(O,{addedObjects:I,addedImage:i,hideAddObjects:b,imageSignature:s,objectType:q,onAddItem:()=>{},onCancelItem:u,onEditItem:_,onEnter:()=>{},parentObjectId:S.id,statusType:"textInFlightEdit",tags:R,text:l,widthAuto:!0}):(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(N,{createdAt:M,user:F,isHighlighted:P}),L?(0,c.jsx)(W.Z,{allowLink:e,allowReveal:!0,size:"100",taggedUsers:D,tags:R,text:l}):(0,c.jsx)(H.Z,{allowLink:e,size:"100",tags:R,taggedUsers:D,text:l}),z&&ne&&(0,c.jsx)(G.Z,{fallback:(0,c.jsx)(Z.Z,{accessibilityLabel:J._('Loading comment reply Pin preview', 'Loading pin previews for comment reply comments component', 'Loading pin previews for comment reply comments component')}),children:(0,c.jsx)(a.xu,{marginTop:1,maxWidth:"21%",children:(0,c.jsx)(K,{pinId:z.id,authDesktopSurface:"CommentReply",slotIndex:k})})})]})}),!X&&!ne&&!y&&!E&&(0,c.jsx)(a.xu,{padding:1,children:(0,c.jsx)(U.Z,{commentCount:o,flyout:y?null:d,hideReplyCount:v,isLikedByMe:C,onLikeClick:p,onLikeCountClick:m,onReplyClick:g,onReplyCountClick:f,reactionCounts:T,isMarkedHelpfulByMe:j,onHelpfulClick:h,helpfulCount:x,small:!0})})]})]})})}var X=o(499128),Q=o(964569),J=o(28754),ee=o(395129),te=o(482546),oe=o(541776),ne=o(379725),ie=o(366428),se=o(349700),re=o(623568),le=o(802201),ae=o(2361),ce=o(844949),de=o(343341),ue=o(874934);const _e=({aggregatedCommentId:e,apdId:t,creatorId:o,depth:s,didItOwnerId:l,isManagedView:d,objectType:u,onUpdate:h,parentObjectId:m,pinDomainOwnerId:g,pinId:f,slotIndex:x,viewerId:b,showHighlightEducator:v,numHighlights:y,canSetHighlight:w,isORBACProfileManager:A})=>{const{logContextEvent:j}=(0,T.v)(),E=(0,r.ZP)(),{isLoaded:S}=(0,$.Z)({name:"PinResource",options:{id:f,field_set_key:"detailed"}}),{showToast:I}=(0,de.F9)(),{reportComment:z}=(0,ce.f)(),k=(0,ue.lV)(),{aggregatedCommentsHiddenForUser:D,deleteCommentMention:R,toggleAggregatedCommentHelpful:M,toggleAggregatedCommentHighlight:F,toggleAggregatedCommentLike:N,updateAggregatedComment:Z}=(0,ue.nf)(),U=(0,Q.Z)(),G=(0,J.Z)(),H=k[e],{nativeEngagementsHiddenForUser:V}=(0,ae.G)(),[W,Y]=(0,n.useState)(!1),[K,_e]=(0,n.useState)(!1),[he,pe]=(0,n.useState)(!1),[me,ge]=(0,n.useState)(!1),[fe,be]=(0,n.useState)(!1),[ve,Pe]=(0,n.useState)(!1),we=(0,i.useDispatch)();(0,n.useEffect)((()=>{we((0,ne.U2)("AggregatedCommentResource",{options:{commentId:e}}))}),[we,e]),(0,n.useEffect)((()=>{h&&h()}),[h]);const Ae=(0,le.S6)();let Ce="";if(f){const e=Ae(f);if(Ce="pin",e){const t=(0,re.iR)(e.videos);e.story_pin_data_id?Ce="story":t&&(Ce="video")}}if(!H||!H.user)return null;const{comment_response_pin:je,comment_count:Ee,created_at:Se,helpful_count:Ie,marked_helpful_by_me:Te,reaction_by_me:ze,reaction_counts:ke,tagged_users:De,tags:Re,text:Oe,user:{id:Le,username:Be},highlighted_by_pin_owner:Me}=H,Fe=s===xe,Ne=ke[1],Ze=()=>{N({aggregatedCommentId:e,isLikedByMe:!!ze})},Ue=()=>{M({aggregatedCommentId:e,isMarkedHelpfulByMe:!!Te})},Ge=t=>(0,c.jsx)(a.zx,{text:E._('Undo', 'closeup.pinActionDropDown.commentHighlightToast.UndoButton', 'Undo comment highlight or comment highlight removal'),size:"lg",onClick:()=>{F({aggregatedCommentId:e,pinId:f,isHighlighted:t})}},"button-key"),He=()=>{y&&y>=3?I((({hideToast:e})=>(0,c.jsx)(X.ZP,{onHide:e,text:E._('Only 3 comments can be highlighted', 'closeup.pinActionDropDown.commentHighlightMaxNumberToast', 'Toast that tells user that at most 3 comments can be highlighted.')}))):(F({aggregatedCommentId:e,pinId:f,isHighlighted:!1}),I((({hideToast:e})=>(0,c.jsx)(X.ZP,{onHide:e,text:E._('Comment highlighted', 'closeup.pinActionDropDown.commentHighlightToast', 'Toast that tells user that they have successfully highlighted a comment.'),button:Ge(!0)}))))},Ve=()=>{F({aggregatedCommentId:e,pinId:f,isHighlighted:!0}),I((({hideToast:e})=>(0,c.jsx)(X.ZP,{onHide:e,text:E._('Highlight removed', 'closeup.pinActionDropDown.commentHighlightRemovalToast', 'Toast that tells user that they have successfully removed a comment highlight.'),button:Ge(!1)})))},We=()=>{pe(!he)},$e=()=>{Y(!0)},Ye=()=>{Y(!1)},Ke=t=>{Z({commentId:e,tags:t.tags,text:t.contentMarkdown}),Y(!1)},qe=()=>{R(e),j({event_type:8909,component:13464,view_type:3,view_parameter:140,aux_data:{tag_id:b,tag_type:1}}),I((({hideToast:e})=>(0,c.jsx)(X.ZP,{onHide:e,text:E._('@mention removed!', 'closeup.pinActionDropDown.mentionRemovalToast', 'Toast that tells user that they have successfully removed the @mention of them in another user\'s Pin description')})))},Xe=()=>{ge(!0)},Qe=()=>{be(!0)},Je=()=>{Pe(!0)},et=()=>{ge(!1),be(!1),Pe(!1)},tt=()=>{z(e,null,null)},ot=()=>{const e=[Le,o,l,g].includes(b),t=b===Le,n=b!==Le,i=b!==Le,s=De.filter((({id:e})=>e===b)).length>0;return(0,c.jsx)(L.Z,{handleBlockUser:i?Je:null,handleClickReport:n?tt:null,handleDelete:e?Xe:null,handleOnEdit:t?$e:null,handleRemoveMention:s?qe:null,handleHighlight:w&&!Me?He:null,handleRemoveHighlight:w&&Me?Ve:null,showHighlightEducator:v,small:!0})};return(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(ie.F,{contextLogData:{objectId:H.id},impressionAuxFields:{commentId:H.id,pinId:f,pinType:Ce,parentId:m,parentType:u,commentType:P.o.aggregatedComment},componentType:u===P.o.pin?13696:13697,impressionType:"Comment",isPaused:!S,loggingId:H.id,slotIndex:x,viewType:3,children:({impressionTrackerRef:t})=>(0,c.jsx)(a.xu,{ref:t,"data-test-id":"aggregatedCommentContainer-comment",children:(0,c.jsx)(q,{avatarSize:Fe?"sm":"md",commentAuthor:H.user,commentCount:Ee,commentId:e,contentText:Oe,createdAt:Se,flyout:ot(),handleHelpfulClick:Ue,handleLikeClick:Ze,handleLikeCountClick:Qe,handleOnEditCancel:Ye,handleOnEdited:Ke,handleReplyClick:We,helpfulCount:Ie,hideAddObjects:!0,hideReplyCount:!0,inEditMode:W,isHighlighted:Me,isLikedByMe:!!ze,isMarkedHelpfulByMe:Te,parentObject:{id:m},reactionCounts:ke,responsePin:je,slotIndex:x,taggedUsers:De,tags:Re,truncateText:!0,type:P.o.aggregatedComment,isORBACProfileManager:A})})}),he&&(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:Fe?0:48}},"data-test-id":"aggregatedCommentContainer-replyComposer",children:(0,c.jsx)(a.xu,{display:"flex",marginTop:2,children:(0,c.jsx)(a.xu,{flex:"grow",children:(0,c.jsx)(O,{avatarSize:"sm",hideAddObjects:!0,onAddItem:async({contentMarkdown:t,tags:o})=>{let n,i=e;We(),_e(!0),Fe&&(i=m,n=e),await we(U({objectType:P.o.aggregatedComment,objectId:i,tags:o,text:t,replyToCommentId:n})),_e(!1)},onCancelItem:We,onEnter:()=>{},objectType:P.o.aggregatedComment,parentObjectId:m,replyToObject:Fe?H:null,statusType:"textInflightCreation"})})})}),Ee>0&&(0,c.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:48}},"data-test-id":"aggregatedCommentContainer-replyList",children:[(0,c.jsx)(ye,{baseIndex:x+1,commentCount:Ee,creatorId:o,didItOwnerId:l,depth:s,isManagedView:d,objectId:e,objectType:P.o.aggregatedComment,onUpdate:h,parentObjectId:m,pinDomainOwnerId:g,pinId:f,variant:"legacy",isORBACProfileManager:A}),(0,c.jsx)(a.$j,{accessibilityLabel:E._('Comments loading', ' - ', ' -- '),show:K})]}),me&&(0,c.jsx)(C,{accessibilityModalLabel:E._('Deleting a comment', 'closeup.deleteCommentModal.label', 'Label for deleting a comment'),heading:E._('Are you sure?', 'closeup.deleteCommentModal.heading', 'Are you sure to remove post or comment'),cancelButtonText:E._('Cancel', 'closeup.deleteCommentModal.cancelButton', 'Cancel deleting comment'),confirmButtonText:E._('Delete', 'closeup.deleteCommentModal.confirmButton', 'Delete comment'),detail:E._('This comment will be deleted', 'closeup.deleteCommentModal.detailText', 'confirmation before deleting comment'),onConfirm:()=>{we(G({aggregatedCommentId:e,aggregatedPinId:t,feedType:"aggregatedComments",type:Fe?oe.Rv.REPLY_TO_AGGREGATED:oe.Rv.TOP,parentId:m,updateParentCommentCount:!0}))},onDismiss:et}),fe&&(0,c.jsx)(_.ZP,{accessibilityModalLabel:E._('Users who have liked this.', 'closeup.comment.showLikeListModal.label', 'Label for a modal showing a list of users who have liked a Tried Item Comment'),heading:(0,p.Z)(E.ngettext('{{count}} Like', '{{count}} Likes', Ne, 'closeup.comment.showLikeListModal.heading', 'Number of likes a comment has'),{count:Ne.toString()}),onDismiss:et,size:"md",children:(0,c.jsx)(ee.Xd,{id:e})}),ve&&(0,c.jsx)(B.Z,{firstName:Be,onBlockUser:()=>{we((0,te.Ge)(Le)),D(Le),V(Le),et(),I((({hideToast:e})=>(0,c.jsx)(X.ZP,{onHide:e,text:(0,se.nk)(E._('You\'ve blocked {{ username }}', 'comment.blockAuthor.toast', 'confirmation toast that shows after user blocks comment author'),{username:Be}).join("")})))},onClearModal:et})]})};var he=o(322741),pe=o(829407),me=o(826067),ge=o(276775),fe=o(778821);const xe=2,be=({baseIndex:e=0,commentCount:t,creatorId:o,depth:i=0,didItOwnerId:s,feedItems:l,feedResourceName:d,initialLoadCount:u,isManagedView:_,objectId:h,objectType:p,onUpdate:m,parentObjectId:g,pinDomainOwnerId:f,pinId:x,privatePin:b,shouldFeatureComment:y=!1,variant:w,isORBACProfileManager:A})=>{var C,j;const{logContextEvent:E}=(0,T.v)(),S=(0,r.ZP)(),[I,z]=(0,n.useState)(!1),[k,D]=(0,n.useState)(!1),R=(0,v.Z)(),L=(0,Y.K)(),B=(0,ge.TH)(),{comment_is_hidden:M="0"}=(0,me.mB)(B.search),F=1===parseInt(M,10),{showOneToast:N}=(0,de.F9)(),Z=(0,Q.Z)();(0,pe.Z)((()=>{if(L&&F&&y){const e=S._('Sorry, the comment has been hidden', 'AggregatedCommentList.featuredComment.isHidden', 'Error message for featured comment is unavailable');N((({hideToast:t})=>(0,c.jsx)(X.ZP,{onHide:t,text:e})))}}));const{fetchMore:U,isAtEnd:G,isLoaded:H}=(0,$.Z)({name:d,options:{objectId:h,page_size:u||2,redux_normalize_feed:!0,featured_ids:y&&L&&!F?[L]:null}}),V=(0,le.S6)()(null!=x?x:""),W=V&&V.pinner?V.pinner.id:"",K=!!V&&V.story_pin_data_id,q=null!==(C=null==V||null===(j=V.aggregated_pin_data)||void 0===j?void 0:j.id)&&void 0!==C?C:"";(0,n.useEffect)((()=>{H&&m&&m()}),[H,m]);const J=()=>{z(!I)},ee=!!l&&H&&t>l.length&&!G,te=l?t-l.length:0,oe=(0,se.nk)(S.ngettext('{{commentCount}} comment', '{{commentCount}} comments', te, 'Show comments link with count', 'Show comments link with count'),{commentCount:String(te)}).join(""),ne=p===P.o.aggregatedComment,ie=p===P.o.pin&&(l&&0===l.length||0===t)&&H&&!k,re="default"===w,ae=0===i,ce=ae&&V&&V.highlighted_aggregated_comments?V.highlighted_aggregated_comments:[],ue=ae&&R.isAuth&&R.id===W;let fe=ue;return(0,c.jsxs)(a.xu,{"data-test-id":"aggregated-comment-list",marginTop:ne&&!re?2:0,paddingY:ne||re?0:2,children:[!!x&&ce.map(((t,n)=>(0,c.jsx)(a.xu,{marginBottom:2,children:(0,c.jsx)(_e,{aggregatedCommentId:t,apdId:q,creatorId:o,depth:i+1,didItOwnerId:s,isManagedView:_,objectType:p,onUpdate:m,parentObjectId:p===P.o.pin?x:h,pinDomainOwnerId:f,pinId:x,slotIndex:e+n,variant:w,viewerId:R.isAuth?R.id:"",canSetHighlight:ue,isORBACProfileManager:A})},t))),!!x&&(null==l?void 0:l.filter((e=>!ce.includes(e.id))).map((({id:t},n)=>{const r=fe;return fe=!1,(0,c.jsx)(a.xu,{marginBottom:2,children:(0,c.jsx)(_e,{aggregatedCommentId:t,apdId:q,creatorId:o,depth:i+1,didItOwnerId:s,isManagedView:_,objectType:p,onUpdate:m,parentObjectId:p===P.o.pin?x:h,pinDomainOwnerId:f,pinId:x,slotIndex:e+ce.length+n,variant:w,viewerId:R.isAuth?R.id:"",showHighlightEducator:r,numHighlights:ce.length,canSetHighlight:ue,isORBACProfileManager:A})},t)}))),(0,c.jsx)(a.$j,{accessibilityLabel:S._('Comments loading', ' - ', ' -- '),show:!H||k}),ee&&(0,c.jsx)(a.xu,{marginTop:3,children:(0,c.jsx)(he.Z,{handleClick:U,text:oe})}),ie&&(0,c.jsx)(a.xu,{paddingY:re?0:2,children:(0,c.jsx)(a.xv,{size:re?"100":"200",children:S._('Share feedback, ask a question or give a high five', ' - ', ' -- ')})}),!A&&p!==P.o.aggregatedComment&&!_&&(0,c.jsx)(a.xu,{display:"flex",marginTop:6,children:(0,c.jsx)(a.xu,{"data-test-id":"add-comment",flex:"grow",children:(0,c.jsx)(O,{hideAddObjects:!0,objectType:p,onAddItem:async({contentMarkdown:e,tags:t})=>{J(),D(!0);try{Z({objectType:p,objectId:h,pinId:x,tags:t,text:e}),p===P.o.pin&&E({event_type:7,object_id_str:x,aux_data:{num_user_mention_tags:(t?JSON.parse(t):[]).length,...K?{creator_id:o,story_pin_data_id:K}:{}}})}catch(n){}D(!1)},onCancelItem:J,onEnter:J,parentObjectId:g||"",privatePin:b,replyToObject:null,statusType:I?"textInflightCreation":"textStaticDisplay"})})})]})},ve=e=>(0,i.useSelector)((({feeds:t})=>t[`${fe.DV.AGGREGATED_COMMENTS}:${e}`])),ye=e=>{var t;return(0,c.jsx)(be,{...e,feedItems:null!==(t=ve(e.objectId))&&void 0!==t?t:[],feedResourceName:"AggregatedCommentReplyFeedResource"})},Pe=e=>{var t;return(0,c.jsx)(be,{...e,feedItems:null!==(t=ve(e.objectId))&&void 0!==t?t:[],feedResourceName:"DidItCommentsResource"})};var we=o(129274),Ae=o(837727),Ce=o(782534),je=o(946984),Ee=o(975209);function Se(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const Ie={background:"none",border:"none",padding:"0",width:"100%"},Te=({isLikedByMe:e,onClick:t})=>{const o=(0,r.ZP)(),n=(0,je.Z)({shouldStopEventPropagation:!1});return(0,c.jsx)(a.hU,{accessibilityLabel:o._('Like', ' - ', ' -- '),icon:"heart",iconColor:e?"red":"gray",onClick:n((()=>t())),size:"md"})};class ze extends n.PureComponent{constructor(...e){super(...e),Se(this,"state",{isLikedByMe:this.props.item.liked_by_me,isReportedByMe:!1,likeCount:this.props.item.like_count,showDeleteModal:!1,showEditModal:!1,showFlyout:!1,showLikesListModal:!1,showReportModal:!1,showShareFlyout:!1,isDeleteHover:!1,isReportHover:!1}),Se(this,"handleClickthrough",(()=>{const{handlePinClickLogging:e,logContextEvent:t,item:{id:o}}=this.props;e&&e(),t({event_type:101,component:172,element:1263,object_id_str:o})})),Se(this,"handleClickHashTag",(()=>{const{logContextEvent:e,item:{id:t}}=this.props;e({event_type:101,component:172,element:10194,object_id_str:t})})),Se(this,"handleToggleLikesListModal",(()=>this.setState((({showLikesListModal:e})=>({showLikesListModal:!e}))))),Se(this,"handleClickLike",(()=>{const{item:{id:e},viewType:t,logContextEvent:o}=this.props,{isLikedByMe:n,likeCount:i}=this.state;o({event_type:101,component:172,element:1353,object_id_str:e,view_type:t});const s=h.Z.create("DidItLikeResource",{didItDataId:e});var r,l;return this.setState({isLikedByMe:!n,likeCount:(r=i,l=n,l?r-1:r+1)}),n?s.callDelete({showError:!1}):s.callCreate()})),Se(this,"handleToggleFlyout",(()=>this.setState((({showFlyout:e})=>({showFlyout:!e,showShareFlyout:!1}))))),Se(this,"handleShowShareFlyout",(()=>this.setState({showShareFlyout:!0}))),Se(this,"handleDismissFlyout",(()=>{this.state.showEditModal||this.setState({showFlyout:!1,showShareFlyout:!1})})),Se(this,"handleShowReportModal",(()=>this.setState({showReportModal:!0}))),Se(this,"handleHideReportModal",(e=>()=>{const{item:{id:t},removeReportedActivity:o}=this.props;this.setState({showReportModal:!1}),o&&this.state.isReportedByMe&&e&&o(t)})),Se(this,"handleShowDeleteModal",(()=>this.setState({showDeleteModal:!0}))),Se(this,"handleDeleteConfirmation",(e=>{const{item:{id:t,pin:{aggregated_pin_data:o={},id:n},user:i},deleteUserDidItData:s,logContextEvent:r}=this.props;if(this.setState({showDeleteModal:!1}),!e||!i)return;const{username:l}=i;r({event_type:101,view_type:101,component:192,element:1264,object_id_str:n}),s({aggregatedPinDataId:null==o?void 0:o.id,id:t,isOwnedByMe:this.isOwnedByCurrentUser,pinId:n,username:l})})),Se(this,"handleToggleEditModal",(e=>this.setState({showEditModal:e,showFlyout:e}))),Se(this,"handleClickHelpful",(()=>{const{didItDataId:e,item:{marked_helpful_by_me:t},toggleHelpful:o}=this.props;o({didItDataId:e,isMarkedHelpfulByMe:!!t})})),Se(this,"handleDeleteMouseEnter",(()=>this.setState({isDeleteHover:!0}))),Se(this,"handleDeleteMouseLeave",(()=>this.setState({isDeleteHover:!1}))),Se(this,"handleReportMouseEnter",(()=>this.setState({isReportHover:!0}))),Se(this,"handleReportMouseLeave",(()=>this.setState({isReportHover:!1}))),Se(this,"renderFlyout",(()=>{var e,t,o;const{creatorId:n,item:{details:i,id:s,images:r,pin:l,privacy:u,user:_},viewer:h}=this.props,{aggregated_pin_data:p={},id:m,images:g={},link_domain:x={},rich_metadata:b={},title:v}=l||{},{showFlyout:y,showShareFlyout:P}=this.state,w=(x||{}).official_user||{},A=(b||{}).title,C={description:i,id:s,imageUrl:r.length>0?null==r||null===(e=r[0])||void 0===e||null===(t=e["550x"])||void 0===t?void 0:t.url:null===(o=g["136x136"])||void 0===o?void 0:o.url,name:A||this.props.i18n._('this idea', ' - ', ' -- '),type:Ae.d.DID_IT,url:`/pin/${m}/activity/tried/${s}`},j=this.isOwnedByCurrentUser||h.isAuth&&h.id===w.id||h.isAuth&&h.id===n;return(0,c.jsxs)(a.xu,{children:[(0,c.jsx)(a.xu,{ref:e=>{this.flyoutAnchor=e},children:(0,c.jsx)(a.hU,{accessibilityExpanded:y,accessibilityHaspopup:!0,accessibilityLabel:this.props.i18n._('more options', 'accessible label for button to see more options on report content', 'accessible label for button to see more options on report content'),icon:"ellipsis",onClick:this.handleToggleFlyout,size:"sm",iconColor:"gray"})}),y&&(0,c.jsx)(a.mh,{children:(0,c.jsx)(a.xu,{alignSelf:"end",children:(0,c.jsx)(a.J2,{anchor:this.flyoutAnchor,idealDirection:"down",onDismiss:this.handleDismissFlyout,size:P?"lg":"xs",children:P?(0,c.jsx)(f.Z,{onHide:this.handleToggleFlyout,sendType:Ae.d.DID_IT,sharedObject:C}):(0,c.jsx)(a.xu,{display:"flex",column:12,color:"default",position:"relative",rounding:2,alignSelf:"start",children:(0,c.jsxs)(a.sg,{span:12,children:["public"===u&&(0,c.jsx)("button",{style:Ie,onClick:this.handleShowShareFlyout,children:(0,c.jsx)(a.xu,{paddingY:1,paddingX:2,display:"flex",children:(0,c.jsx)(a.xv,{weight:"bold",children:this.props.i18n._('Share', ' - ', ' -- ')})})}),(0,c.jsx)(a.xu,{paddingY:1,paddingX:2,display:"flex",children:(0,c.jsx)(a.rU,{onClick:this.handleClickthrough,href:this.pinURL,children:(0,c.jsx)(a.xv,{weight:"bold",children:this.props.i18n._('Go to Pin', ' - ', ' -- ')})},this.pinURL)}),_&&(this.isOwnedByCurrentUser||j)?(0,c.jsxs)(a.xu,{children:[this.isOwnedByCurrentUser&&(0,c.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",children:(0,c.jsx)(d,{aggregatedPinDataId:null==p?void 0:p.id,isDoneByMe:this.isOwnedByCurrentUser,loggedInUser:_,onToggleModal:this.handleToggleEditModal,pinId:m,pinTitle:v,userDidItDataId:s})}),j&&(0,c.jsx)("button",{style:Ie,onClick:this.handleShowDeleteModal,children:(0,c.jsx)(a.xu,{"data-test-id":"flyout-delete-button",paddingY:1,paddingX:2,display:"flex",children:(0,c.jsx)(a.xv,{weight:"bold",children:this.props.i18n._('Delete', ' - ', ' -- ')})})})]}):(0,c.jsx)("button",{style:Ie,onClick:this.handleShowReportModal,children:(0,c.jsx)(a.xu,{paddingY:1,paddingX:2,display:"flex",children:(0,c.jsx)(a.xv,{weight:"bold",children:this.props.i18n._('Report this content', ' - ', ' -- ')})})})]})})})})})]})})),Se(this,"renderStatsBar",(()=>{const{item:{comment_count:e,done_at:t,pin:{link_domain:o},marked_helpful_by_me:n,helpful_count:i},isManagedView:s,viewer:r}=this.props,{isLikedByMe:l,likeCount:d,isDeleteHover:u,isReportHover:_}=this.state,h=(0,p.Z)(this.props.i18n.ngettext('{{likeCount}} like', '{{likeCount}} likes', d, ' - ', ' -- '),{likeCount:d}),m=(0,p.Z)(this.props.i18n.ngettext('{{commentCount}} comment', '{{commentCount}} comments', e, ' - ', ' -- '),{commentCount:e}),g=(o||{}).official_user||{},f=this.isOwnedByCurrentUser||r.isAuth&&r.id===g.id,x=this.props.getHumanizedTimeSince(t,!0);return(0,c.jsxs)(a.xu,{column:12,display:"flex",alignItems:"center",children:[(0,c.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,c.jsx)(a.xv,{size:"200",children:s?x:(0,c.jsx)(Ce.Z,{value:new Date(t),dateFormatType:Ce.k.LONG,useUTC:!1})}),e>0&&(0,c.jsx)(a.xu,{marginStart:6,children:(0,c.jsx)(a.xv,{size:"200",weight:"bold",children:m})}),d>0&&(0,c.jsx)(a.xu,{marginStart:6,"data-test-id":"did_it_show_likes_tap_area",children:(0,c.jsx)(a.iP,{onTap:this.handleToggleLikesListModal,children:(0,c.jsx)(a.xv,{size:"200",weight:"bold",children:h})})})]}),(0,c.jsxs)(a.kC,{alignItems:"stretch",flex:"grow",justifyContent:"end",children:[(0,c.jsx)(a.xu,{marginBottom:1,marginTop:1,display:"flex",justifyContent:d>0?"between":"end",children:r.isAuth&&(0,c.jsx)(Te,{isLikedByMe:l,onClick:this.handleClickLike})}),(0,c.jsx)(a.xu,{display:"flex",paddingY:3,children:(0,c.jsx)(U.N,{helpfulCount:i,isMarkedHelpfulByMe:n,onHelpfulClick:this.handleClickHelpful})})]}),s&&(0,c.jsx)(a.kC,{alignItems:"stretch",flex:"none",children:(0,c.jsx)(a.iP,{onMouseEnter:this.handleReportMouseEnter,onMouseLeave:this.handleReportMouseLeave,onTap:this.handleShowReportModal,rounding:"pill",children:(0,c.jsx)(a.xu,{padding:2,children:(0,c.jsx)(a.xv,{color:_?"default":"subtle",size:"200",weight:"bold",children:this.props.i18n._('Report', ' - ', ' -- ')})})})}),s&&f&&(0,c.jsx)(a.kC,{alignItems:"stretch",flex:"none",children:(0,c.jsx)(a.iP,{onMouseEnter:this.handleDeleteMouseEnter,onMouseLeave:this.handleDeleteMouseLeave,onTap:this.handleShowDeleteModal,rounding:"pill",children:(0,c.jsx)(a.xu,{padding:2,children:(0,c.jsx)(a.xv,{color:u?"default":"subtle",size:"200",weight:"bold",children:this.props.i18n._('Delete', ' - ', ' -- ')})})})})]})})),Se(this,"renderPinInfoBar",(()=>{var e,t;const{item:{images:o,pin:n,user:i},isManagedView:s}=this.props,{full_name:r}=i||{},{dominant_color:l,images:d={},rich_metadata:u={},title:_}=n,h=(u||{}).title;let p;p=this.isOwnedByCurrentUser&&h?(0,se.nk)(this.props.i18n._('You tried {{pinTitleForTriedByText}}', 'Navigating to a Pin from a try', 'Navigating to a Pin from a try'),{pinTitleForTriedByText:h}):h?(0,se.nk)(this.props.i18n._('{{fullName}} tried {{pinTitleForTriedByText}}', 'Navigating to a Pin from a try', 'Navigating to a Pin from a try'),{fullName:r,pinTitleForTriedByText:h}):this.isOwnedByCurrentUser?this.props.i18n._('See the Pin you tried', 'Navigating to a Pin from a try', 'Navigating to a Pin from a try'):this.props.i18n._('See the Pin that inspired it', 'call to action - navigating to a Pin from a try', 'call to action - navigating to a Pin from a try');return(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:o.length?{backgroundImage:"linear-gradient(to bottom, rgba(118, 118, 118, 0), rgba(0, 0, 0, 0.2) 33%, rgba(0, 0, 0, 0.5) 66%, rgba(0, 0, 0, 0.7))"}:{}},rounding:o.length?2:0,children:(0,c.jsx)(a.iP,{role:"link",onTap:this.handleClickthrough,href:this.pinURL,children:(0,c.jsxs)(a.xu,{paddingX:o.length?3:0,paddingY:3,display:"flex",alignItems:"center",children:[(0,c.jsxs)(a.xu,{marginEnd:2,display:"flex",flex:"grow",justifyContent:"start",alignItems:"center",children:[(0,c.jsx)(a.xu,{width:60,marginEnd:3,children:(0,c.jsx)(a.zd,{rounding:2,wash:!0,children:(0,c.jsx)(a.Ee,{alt:null!=_?_:"",color:null!=l?l:"transparent",naturalHeight:60,naturalWidth:60,src:null!==(e=null===(t=d["136x136"])||void 0===t?void 0:t.url)&&void 0!==e?e:""})})}),(0,c.jsxs)(a.xv,{color:o.length?"inverse":"default",size:s?"100":"300",weight:"bold",children:[" ",p," "]})]}),(0,c.jsx)(a.JO,{accessibilityLabel:this.props.i18n._('See pin', ' - ', ' -- '),color:o.length?"inverse":"default",icon:"arrow-forward",size:32})]})},this.pinURL)})}))}get isOwnedByCurrentUser(){const{viewer:e,item:t}=this.props;return!(!e.isAuth||!t.user||e.id!==t.user.id)}get pinURL(){return`/pin/${this.props.item.pin.id}/`}render(){var e;const{creatorId:t,isManagedView:o,item:n,viewType:i}=this.props,{likeCount:r,showDeleteModal:l,showLikesListModal:d,showReportModal:h}=this.state,{comment_count:m,details:f,id:v,images:y,pin:w,user:A,videos:C}=n,{aggregated_pin_data:j={},id:E}=w||{},{full_name:S,id:I,image_medium_url:T,username:z}=A||{},k=`/${z}/`;(0,p.Z)(this.props.i18n.ngettext('{{likeCount}} like', '{{likeCount}} likes', r, ' - ', ' -- '),{likeCount:r}),(0,p.Z)(this.props.i18n.ngettext('{{commentCount}} comment', '{{commentCount}} comments', m, ' - ', ' -- '),{commentCount:m});const D=!!(C&&C.length>0&&C[0].video_list&&C[0].video_list.V_HLSV4),R=!!(y.length>0&&y[0]&&y[0]["750x"]),O=R||D,L=82!==i,B=R&&L;return(0,c.jsxs)(a.xu,{display:"flex",direction:"column",alignItems:"stretch",justifyContent:"between",paddingY:7,children:[(0,c.jsxs)(a.xu,{display:"flex",column:12,alignItems:"center",children:[(0,c.jsx)(a.kC,{alignItems:"center",children:(0,c.jsx)(a.xu,{width:o?36:42,marginEnd:3,children:(0,c.jsx)(a.iP,{role:"link",rounding:"circle",onTap:this.handleClickthrough,href:k,children:(0,c.jsx)(a.zd,{rounding:"circle",wash:!0,children:(0,c.jsx)(a.Ee,{alt:null!=z?z:"",color:"#efefef",naturalHeight:42,naturalWidth:42,src:null!=T?T:""},T)})},k)})}),(0,c.jsx)(a.xu,{column:1,display:"flex",mdDisplay:"none"}),(0,c.jsxs)(a.xu,{alignItems:"center",column:12,display:"flex",justifyContent:"between",children:[(0,c.jsx)(a.xv,{size:o?"200":"300",children:(0,c.jsx)(a.rU,{onClick:this.handleClickthrough,href:k,children:S||""},k)}),!o&&this.renderFlyout()]})]}),(0,c.jsx)(a.xu,{marginTop:2,marginBottom:o?0:1,children:O&&(0,c.jsxs)(a.xu,{column:12,position:"relative",children:[D?(0,c.jsx)(b.Z,{item:n,viewType:i}):(0,c.jsx)(x,{item:n}),B&&(0,c.jsx)(a.xu,{column:12,position:"absolute",bottom:!0,children:this.renderPinInfoBar()})]})}),(0,c.jsxs)(a.xu,{marginStart:1,children:[R&&this.renderStatsBar(),f&&(0,c.jsx)(a.xu,{column:10,marginBottom:2,dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-line"}},children:(0,c.jsx)(a.xv,{size:o?"100":"300",children:(0,c.jsx)(g,{html:f,onClick:this.handleClickHashTag})})}),!R&&(0,c.jsxs)(a.xu,{children:[L&&this.renderPinInfoBar(),this.renderStatsBar()]}),(0,c.jsx)(a.xu,{column:12,children:(0,c.jsx)(Pe,{commentCount:m,creatorId:t,didItOwnerId:I,objectId:v,objectType:P.o.didIt,pinId:w.id,variant:"legacy"})})]}),l&&(0,c.jsx)(s.Z,{didItData:{id:v},onDeleteConfirmation:this.handleDeleteConfirmation}),d&&(0,c.jsx)(_.ZP,{accessibilityModalLabel:this.props.i18n._('Users who have liked this.', 'Label for a modal showing a list of users who have liked a Tried Item', 'Label for a modal showing a list of users who have liked a Tried Item'),allowScroll:!0,heading:(0,p.Z)(this.props.i18n.ngettext('{{count}} Like', '{{count}} Likes', r, ' - ', ' -- '),{count:r.toString()}),onDismiss:this.handleToggleLikesListModal,size:"md",children:(0,c.jsx)(ee.Jo,{id:v})}),h&&A&&(0,c.jsx)(we.N,{children:(0,c.jsx)(u.Z,{aggregatedPinDataId:null!==(e=null==j?void 0:j.id)&&void 0!==e?e:"",didItDataId:v,pinId:E,onClose:this.handleHideReportModal,username:z,users:[A]})})]})}}function ke(e){const{logContextEvent:t}=(0,T.v)(),o=(0,r.ZP)(),n=(0,M.Z)(),s=(0,i.useDispatch)(),l={deleteUserDidItData:(0,y.bindActionCreators)(Ee.lg,s),toggleHelpful:(0,y.bindActionCreators)(Ee.YH,s),updateUserDidItDataCommentCount:(0,y.bindActionCreators)(Ee.L8,s)},a=(0,i.useSelector)((({didItData:t})=>t[e.didItDataId]));return(0,c.jsx)(ze,{...e,...l,item:a,viewer:(0,v.Z)(),i18n:o,getHumanizedTimeSince:n,logContextEvent:t})}},395129:(e,t,o)=>{o.d(t,{Jo:()=>g,Xd:()=>m});var n=o(667294),i=o(700380),s=o(56291),r=o(784590),l=o(19121),a=o(281180),c=o(898781),d=o(883119),u=o(304903),_=o(785893);function h(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class p extends n.Component{constructor(...e){super(...e),h(this,"setRef",(e=>{e&&!this.list&&(this.list=e.parentElement,this.list&&this.list.addEventListener("scroll",this.handleScroll))})),h(this,"fetchMore",(()=>{const{feedResource:e}=this.props;e.isFetching||(e.isAtEnd?window.removeEventListener("scroll",this.handleScroll):e.fetchMore())})),h(this,"handleScroll",(0,i.Z)((()=>{const{feedResource:e}=this.props;if(e.isFetching||e.isAtEnd)return;const t=(0,u.Uy)(this.list);(0,u.aZ)(this.list)-(0,u.MX)(this.list)-50<t&&this.fetchMore()}),10))}componentWillUnmount(){this.list.removeEventListener("scroll",this.handleScroll)}render(){const{feedResource:{data:e,isLoaded:t},users:o,viewer:n}=this.props;if(!t)return(0,_.jsx)("div",{className:"loadingSpinner",children:(0,_.jsx)(d.$j,{accessibilityLabel:this.props.i18n._('Loading spinner for like list', 'Accessibility label for loading spinner for like list', 'Accessibility label for loading spinner for like list'),show:!0})});const i=e&&e.map((e=>e.id?{...e,...o[e.id]}:e));return(0,_.jsx)(d.xu,{"data-test-id":"liked-by-list",maxHeight:400,ref:this.setRef,children:i&&i.map((e=>(0,_.jsx)(d.xu,{paddingX:4,paddingY:3,children:(0,_.jsx)(s.Z,{isSelf:Boolean(n.isAuth&&n.id&&e.id===n.id),user:e})},e.id)))})}}function m(e){const t=(0,c.ZP)(),o=(0,l.Z)(),n=(0,a.kW)(),i=(0,r.Z)({name:"AggregatedCommentLikedByResource",options:{aggregatedCommentId:e.id},noCache:!0});return(0,_.jsx)(p,{...e,feedResource:i,users:n,viewer:o,i18n:t})}function g(e){const t=(0,c.ZP)(),o=(0,l.Z)(),n=(0,a.kW)(),i=(0,r.Z)({name:"DidItLikedByResource",options:{didItDataId:e.id},noCache:!0});return(0,_.jsx)(p,{...e,feedResource:i,users:n,viewer:o,i18n:t})}},102243:(e,t,o)=>{o.d(t,{Z:()=>_});var n=o(667294),i=o(572260),s=o(366284),r=o(898781),l=o(780280),a=o(883119),c=o(785893);function d(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class u extends n.Component{constructor(...e){super(...e),d(this,"state",{isFullscreen:!1,isPlaying:!1,showControls:!0,volumeLevel:0}),d(this,"handleTouch",(({event:e})=>{e.stopPropagation(),this.setState((e=>({isPlaying:!e.isPlaying})))})),d(this,"handleShowControls",(()=>this.setState({showControls:!0}))),d(this,"handleHideControls",(()=>this.setState({showControls:!1}))),d(this,"handleEnded",(e=>{e.event.stopPropagation(),this.setState({isPlaying:!1})})),d(this,"handlePause",(e=>{e.event.stopPropagation(),this.setState({isPlaying:!1})})),d(this,"handlePlay",(e=>{e.event.stopPropagation(),this.setState({isPlaying:!0})})),d(this,"handleToggleFullscreen",(e=>{const{event:t,fullscreen:o}=e;t.stopPropagation(),this.setState({isFullscreen:o})})),d(this,"handleVolumeChange",(e=>{const{event:t,volume:o}=e;t.stopPropagation(),this.setState({volumeLevel:o})}))}render(){const{item:e,requestContext:t,viewType:o}=this.props,{videos:n}=e;if(!n||0===n.length)return null;const r=n[0],{showControls:l,isFullscreen:d,isPlaying:u,volumeLevel:_}=this.state,{V_HLSV4:h}=r.video_list;if(!h)return null;const{height:p,width:m,thumbnail:g,url:f}=h||{},x=[{type:"video/m3u8",src:f}];return(0,c.jsx)(a.iP,{onMouseEnter:this.handleShowControls,onMouseLeave:this.handleHideControls,onTap:this.handleTouch,rounding:2,children:(0,c.jsx)(a.zd,{rounding:2,willChangeTransform:!((0,s.G6)(t.userAgent.browserName)&&d),wash:!0,children:(0,c.jsx)(i.ZP,{isAutoPlay:!1,contextLogData:{view:o,viewParameter:3071,component:172,objectId:e.id,video_id:r.id},accessibilityMaximizeLabel:this.props.i18n._('Maximize', 'Maximize button on video', 'Maximize button on video'),accessibilityMinimizeLabel:this.props.i18n._('Minimize', 'Minimize button on video', 'Minimize button on video'),accessibilityMuteLabel:this.props.i18n._('Mute', 'Mute button on video', 'Mute button on video'),accessibilityPauseLabel:this.props.i18n._('Pause', 'Pause button on video', 'Pause button on video'),accessibilityPlayLabel:this.props.i18n._('Play', 'Play button on video', 'Play button on video'),accessibilityProgressBarLabel:this.props.i18n._('Progress bar', 'trieditvideo.accessibilityProgressBarLabel', 'Video progress bar accessibility label'),accessibilityUnmuteLabel:this.props.i18n._('Unmute', 'Unmute button on video', 'Unmute button on video'),aspectRatio:Math.max((null!=m?m:1)/(null!=p?p:1),1),captions:"",controls:l,onEnded:this.handleEnded,onFullscreenChange:this.handleToggleFullscreen,onControlsPause:this.handlePause,onControlsPlay:this.handlePlay,onVolumeChange:this.handleVolumeChange,playing:u,onPlay:()=>{},onPlayError:()=>{},poster:g,src:x,volume:_})})})}}function _(e){const t=(0,r.ZP)(),o=(0,l.B)();return(0,c.jsx)(u,{...e,i18n:t,requestContext:o})}},890328:(e,t,o)=>{o.r(t),o.d(t,{default:()=>S});var n=o(667294),i=o(300267),s=o(702664),r=o(572551),l=o(301921),a=o(730320),c=o(104258),d=o(898781),u=o(883119),_=o(785893);function h({feed:e,isOwnProfile:t,pinsResource:o,surface:i,user:h}){var p;const m=(0,d.ZP)(),{fetchMore:g,isAtEnd:f,isFetching:x,isLoaded:b}=o,v=(null!==(p=o.data)&&void 0!==p?p:[]).filter((e=>"pin"===(null==e?void 0:e.type))),y=h&&h.id,P=(0,s.useSelector)((({feeds:t})=>y?t[`${e}:${y}`]:[])),w=t?3106:3107,A=(0,n.useCallback)((({data:e,itemIdx:t})=>(0,_.jsx)(l.default,{attributionOption:"hide",pin:e,pinId:e.id,authDesktopSurface:i,slotIndex:t,viewParameter:w,viewType:4})),[i,w]);if(b&&!t&&(!v||!v.length))return null;return(0,_.jsxs)(n.Fragment,{children:[b&&(P&&0!==P.length?null:(0,_.jsx)(a.Z,{marginTop:t?0:5,textSize:t?"400":"500",children:(0,_.jsx)(c.Z,{subject:"pins",surface:"profile",user:h})})),b&&P?(0,_.jsx)(r.default,{flexible:!0,columnWidth:236,isAtEnd:f,isFetching:x,isLoaded:b,Item:A,items:P,loadItems:()=>{x||f||g()},serverRender:!1,virtualize:!1}):null,x&&(0,_.jsx)(u.xu,{paddingY:3,position:"relative",children:(0,_.jsx)(u.$j,{accessibilityLabel:m._('Loading Pins on profile', 'profile.createdTab.loadingSpinner', 'Loading Pins on profile'),show:x})})]})}var p=o(620006),m=o(717615),g=o(86551),f=o(784590),x=o(184451),b=o(19121),v=o(778821),y=o(349700),P=o(407043),w=o(773285),A=o(578722),C=o(357805),j=o(276775),E=o(231947);function S(e){var t,o,s,r,l,a,c,S;const{logContextEvent:I}=(0,P.v)(),{checkExperiment:T}=(0,w.F)(),z=(0,d.ZP)(),{params:{username:k,userId:D}}=(0,j.$B)(),R=(0,b.Z)(),{anyEnabled:O}=T("web_story_pin_creator"),L=["holdout","holdout_2"].includes(T("story_pin_longterm_holdout",{dangerouslySkipActivation:!0}).group),B=T("web_created_tab_for_all",{dangerouslySkipActivation:!0}).anyEnabled,M=(0,m.Z)(),F=(0,g.Z)(),N=(0,i.Z)({user:F.data,viewer:R}),Z=(0,E.D3)(R,null!==(t=null!=D?D:null===(o=F.data)||void 0===o?void 0:o.id)&&void 0!==t?t:"",M),U=(0,f.Z)({name:"UserResource",options:{username:R.isAuth&&(null===(s=F.data)||void 0===s?void 0:s.username),field_set_key:"quick_create"},dangerouslyDisableFetch:N||!(L&&B)}),G=(0,f.Z)({name:"UserActivityPinsResource",options:{data:{filter_version:1},exclude_add_pin_rep:!N,field_set_key:R.isPartner&&N?"partner_grid_item":"grid_item",is_own_profile_pins:N,redux_normalize_feed:!0,user_id:null!=D?D:null===(r=F.data)||void 0===r?void 0:r.id,username:k}}),H=(0,A.s_)(),V=(0,f.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},exclude_add_pin_rep:!N,field_set_key:R.isPartner&&N?"partner_grid_item":H?"grid_item_ip_plays":"grid_item",is_own_profile_pins:N,redux_normalize_feed:!0,user_id:null!=D?D:null===(l=F.data)||void 0===l?void 0:l.id,username:k}}),W=()=>I({event_type:101,element:10949,component:13777,view_type:4,view_parameter:3106});(0,C.S)(k,F.data?F.data.id:null,13668);const{anyEnabled:$}=T("web_m10n_business_access_orbac_www"),{isAtEnd:Y}=V,K=F.data,{first_name:q}=K||{},{scheduled_pin_count:X=0}=$?{scheduled_pin_count:(0,E.DX)(R,K,M)}:K||{},Q=($?Z:N)&&R.isPartner&&X>0,J=V.isLoaded&&V.data&&V.data.length>0,ee=G.isLoaded&&G.data&&G.data.length>0,te=ee&&Y,oe=J&&!L||J&&L&&!(null===(a=U.data)||void 0===a||!a.quick_create_pin_count),ne=z._('No created Pins yet', 'profile.createdTab.notEligibleForCreatedPin', 'text letting user know there are no created pins');return(0,_.jsxs)(n.Fragment,{children:[Q&&(0,_.jsx)(x.Z,{username:null!=k?k:""}),J&&N&&!B&&(0,_.jsx)(u.xu,{children:(0,_.jsx)(p.Z,{label:z._('Your Idea Pins', 'profile.createdTab.ideaPinHeader', 'title for the Idea Pin section under the Created Tab on the profile page')})}),V.isLoaded&&(oe?(0,_.jsx)(u.xu,{"data-test-id":"story-pin-feed",children:(0,_.jsx)(h,{isOwnProfile:N,feed:v.DV.CREATED_TAB_STORY_PINS_FEED,pinsResource:V,surface:"CreatorProfileStoryPinGrid",user:F.data})}):N&&O&&!B&&(0,_.jsxs)(u.xu,{alignItems:"center","data-test-id":"empty-story-pin-state",direction:"column",display:"flex",marginBottom:2,children:[(0,_.jsx)(u.xv,{children:z._('Nothing to show...yet! Idea Pins you create will live here.', 'profile.createdTab.emptyIdeaPinState', 'text prompting creator that they do not have Idea Pins to display')}),(0,_.jsx)(u.xu,{paddingY:4,children:(0,_.jsx)(u.zx,{role:"link",href:"/idea-pin-builder/",onClick:W,size:"lg",text:z._('Create Idea Pin', 'profile.createdTab.createButton', 'Button that will re-direct user to Idea Pin Builder')})})]})),B&&L&&!N&&!(null!==(c=U.data)&&void 0!==c&&c.quick_create_pin_count)&&!ee&&(0,_.jsx)(u.xu,{paddingY:12,children:(0,_.jsx)(u.xu,{"data-test-id":"empty-story-pin-state",display:"flex",justifyContent:"center",paddingY:12,children:(0,_.jsx)(u.X6,{size:"500",children:ne})})}),B&&!oe&&!1===(null===(S=F.data)||void 0===S?void 0:S.has_published_pins)&&0===F.data.story_pin_count&&(N?(0,_.jsx)(u.xu,{paddingY:12,children:(0,_.jsxs)(u.xu,{alignItems:"center","data-test-id":"empty-story-pin-state",direction:"column",display:"flex",marginBottom:2,paddingY:12,children:[(0,_.jsx)(u.X6,{size:"500",children:O?z._('Inspire with an Idea Pin', 'profile.createdTab.selfEmptyPinState', 'text prompting creator to create an idea pin'):ne}),O&&(0,_.jsx)(u.xu,{paddingY:4,children:(0,_.jsx)(u.zx,{color:"red",href:"/idea-pin-builder/",onClick:W,role:"link",size:"lg",text:z._('Create', 'profile.createdTab.emptyStateCreateButton', 'Create button that will re-direct user to Idea Pin Builder')})})]})}):(0,_.jsx)(u.xu,{alignItems:"center","data-test-id":"empty-story-pin-state",direction:"column",display:"flex",marginBottom:2,paddingY:12,children:(0,_.jsx)(u.xu,{maxWidth:362,paddingY:12,children:(0,_.jsx)(u.X6,{align:"center",size:"500",children:z._('No Idea Pins yet, but there\'s tons of potential', 'profile.createdTab.otherEmptyPinState', 'text indicating where idea pins would display if they were created')})})})),te&&oe&&(N?(0,_.jsx)(p.Z,{showHeading:!0,label:z._('Other Pins', 'profile.createdTab.nonStoryPinHeaderAlt', 'header for non story pins section of user profile viewed by owner')}):(0,_.jsx)(u.xu,{"data-test-id":"public-view-pins-section-header",display:"flex",justifyContent:"center",marginTop:6,paddingY:4,children:(0,_.jsx)(u.X6,{size:"400",children:(0,y.nk)(z._('More by {{ firstName }}', 'profile.createdTab.nonStoryPinHeader', 'header for non story pins section of user profile viewed by public'),{firstName:q})})})),(Y||!Y&&V.data&&0===V.data.length||B&&!oe)&&ee&&(0,_.jsx)(u.xu,{"data-test-id":"other-pins-feed",children:(0,_.jsx)(h,{feed:v.DV.CREATED_TAB_ACTIVITY_PINS_FEED,isOwnProfile:N,pinsResource:G,surface:"CreatorProfileActivityPinGrid",user:F.data})})]})}},620006:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(883119),i=o(785893);function s(e){const{showHeading:t,label:o,sublabel:s}=e;return(0,i.jsxs)(n.xu,{alignContent:"center",alignItems:"center",direction:"column",display:"flex",justifyContent:"center",padding:4,children:[t?(0,i.jsx)(n.X6,{size:"400",children:o}):(0,i.jsx)(n.xv,{weight:"bold",children:o}),(0,i.jsx)(n.xu,{marginTop:1,children:(0,i.jsx)(n.xv,{color:"subtle",size:"100",children:s})})]})}},774026:(e,t,o)=>{o.r(t),o.d(t,{default:()=>c});var n=o(300267),i=o(850071),s=o(86551),r=o(19121),l=o(81636),a=o(785893);function c(e){const t=(0,s.Z)(),o=(0,r.Z)(),c=(0,n.Z)({user:t.data,viewer:o});let d;return o.isAuth&&c&&(d=o.id),(0,l.Q)({object_id_str:d,view_type:4,view_parameter:c?3106:3107}),t&&t.data?(0,a.jsx)(i.default,{}):null}},410004:(e,t,o)=>{o.r(t),o.d(t,{default:()=>D});var n=o(667294),i=o(976849),s=o(730320),r=o(104258),l=o(907301),a=o(898781),c=o(784590),d=o(883119),u=o(785893);function _({user:e}){const t=(0,a.ZP)(),{data:o,fetchMore:n,isAtEnd:_,isFetching:h,isLoaded:p}=(0,c.Z)({name:"BoardFollowingResource",options:{field_set_key:"profile_grid_item",username:e.username}});return(0,u.jsxs)(d.xu,{children:[(0,u.jsx)(d.gr,{isAtEnd:_,isFetching:h,fetchMore:n}),p&&(o&&o.length?(0,u.jsx)(l.Z,{itemWidth:317,children:o.map(((e,t)=>(0,u.jsx)(d.xu,{width:317,paddingX:1,paddingY:4,children:(0,u.jsx)("div",{className:"item",style:{position:"relative"},children:(0,u.jsx)(i.Z,{board:e,slotIndex:t,layout:"wide"})})},e.id)))}):(0,u.jsx)(s.Z,{children:(0,u.jsx)(r.Z,{subject:"boards",surface:"following",user:e})})),(0,u.jsx)(d.$j,{accessibilityLabel:t._('Loading additional boards', 'Label for the loading state spinner in the Boards section of the Following page', 'Label for the loading state spinner in the Boards section of the Following page'),show:h||!p})]})}var h=o(702664),p=o(116303),m=o(985913),g=o(70598),f=o(499128),x=o(19121),b=o(343341),v=o(5226);const y=()=>window;const P=(0,h.connect)(((e,{isFollowed:t,data:o})=>{const n=e.users[o.id];return{isFollowed:n?n.explicitly_followed_by_me:t}}),(e=>({followUser:t=>e((0,v.ZN)(t)),unfollowUser:t=>e((0,v.fv)(t))})))((function({data:e,followUser:t,inFollowExp:o,isFollowed:i,unfollowUser:s}){var r,l,c;const _=(0,a.ZP)(),h=(0,x.Z)(),{showOneToast:v}=(0,b.F9)(),y=`/${e.username}/`,P=h.isAuth&&h.id!==e.id,w=Boolean(null===(r=e.verified_identity)||void 0===r?void 0:r.verified),A=(0,m.Z)(_._('{{ pinnerFullName }} profile link', 'profileFollowers.link.accessibilityLabel', 'Accessibility label for user avatar'),{pinnerFullName:null!==(l=e.full_name)&&void 0!==l?l:""});return(0,u.jsxs)(d.xu,{display:"flex",alignItems:"center",justifyContent:"between",paddingY:2,"data-test-id":"profile-following",children:[(0,u.jsx)(d.xu,{width:72,children:(0,u.jsx)(d.rU,{accessibilityLabel:A,href:y,children:(0,u.jsx)(p.Z,{accessibilityLabel:"",name:null!==(c=e.full_name)&&void 0!==c?c:"",src:e.image_xlarge_url||void 0,verified:w})},`${y}:avatar`)}),(0,u.jsx)(d.xu,{width:332,paddingX:2,children:(0,u.jsx)(d.rU,{accessibilityLabel:A,href:y,children:(0,u.jsx)(d.xv,{weight:"bold",children:e.full_name})},`${y}:name`)}),(0,u.jsx)(d.xu,{column:3,display:"flex",justifyContent:"center",children:(0,u.jsx)(d.xu,{flex:"shrink",children:P&&(0,u.jsx)(g.Z,{followEventType:45,id:e.id,isFollowed:i,isUserMe:!1,onFollow:o=>{t(o),v((({hideToast:t})=>(0,u.jsx)(f.ZP,{onHide:t,text:(0,u.jsxs)(n.Fragment,{children:[(0,u.jsx)(d.xv,{children:_._('Now following', 'text that comes before a board/user name in toast', 'text that comes before a board/user name in toast')}),(0,u.jsx)(d.xv,{weight:"bold",children:e.full_name})]}),href:y,imageUrl:e.image_medium_url||e.image_large_url||void 0})))},onUnfollow:e=>{s(e)},textType:"FollowFollowing",unfollowEventType:46,viewType:4})})})]})}));function w({user:e,following:t}){const o=(0,a.ZP)(),{data:n,fetchMore:i,isFetching:s,isLoaded:r}=t;return e.isLoaded?(0,u.jsxs)(d.W2,{children:[(0,u.jsx)(d.Rk,{columnWidth:600,Item:P,gutterWidth:0,items:n||[],layout:"uniformRow",loadItems:i,minCols:1,scrollContainer:y,virtualize:!0}),r&&n&&0===n.length&&(0,u.jsx)(d.xu,{marginBottom:3,children:(0,u.jsx)(d.$j,{accessibilityLabel:o._('Loading additional followers', 'Label for the loading state spinner in the People section of the Follower/Following page', 'Label for the loading state spinner in the People section of the Follower/Following page'),show:s||!r})})]}):null}var A=o(86551),C=o(276775);const j=function(){const{params:e}=(0,C.$B)(),t=(0,c.Z)({name:"UserFollowingResource",options:{username:e.username}}),o=(0,A.Z)();return(0,u.jsx)(w,{following:t,user:o})};var E=o(301732),S=o(430323),I=o(407043),T=o(81636);function z(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class k extends n.PureComponent{constructor(e){super(e),z(this,"getOptions",(()=>Object.keys(this.options).map((e=>({label:this.options[e]?this.options[e].label:"",value:this.options[e]?this.options[e].value:""}))))),z(this,"handleSelectChange",(({value:e})=>{this.props.logContextEvent({event_type:101,view_type:4,view_parameter:51,element:this.options[e].elementType}),this.setState({selectedOption:e})})),z(this,"initOptions",(()=>({People:{elementType:1226,label:this.props.i18n._('People', 'The label for the People tab on the Following page', 'The label for the People tab on the Following page'),render:this.renderPeopleTab,value:"People"},Boards:{elementType:1225,label:this.props.i18n._('Boards', 'The label for the Boards tab on the Following page', 'The label for the Boards tab on the Following page'),render:this.renderBoardsTab,value:"Boards"},Topics:{elementType:1227,label:this.props.i18n._('Topics', 'The label for the Topics tab on the Following page', 'The label for the Topics tab on the Following page'),render:this.renderTopicsTab,value:"Topics"}}))),z(this,"renderPeopleTab",(()=>(0,u.jsx)(j,{}))),z(this,"renderBoardsTab",(()=>{const{user:{data:e}}=this.props;return e?(0,u.jsx)(_,{user:e}):null})),z(this,"renderTopicsTab",(()=>{const{user:{data:e}}=this.props;return e?(0,u.jsx)(E.ZP,{user:e}):null})),this.state={selectedOption:"People"},this.options=this.initOptions()}render(){const{user:e,username:t,viewer:o}=this.props,{isLoaded:n}=e;if(!n)return null;const{selectedOption:i}=this.state,s=this.options[i].render(),r=o.isAuth&&t===o.username?3106:3107;return(0,u.jsx)(S.Z,{view:4,viewParameter:r,component:224,children:(0,u.jsxs)(d.xu,{children:[(0,u.jsx)(d.W2,{children:(0,u.jsx)(d.xu,{column:12,display:"flex",justifyContent:"end",paddingY:2,children:(0,u.jsx)(d.xu,{flex:"shrink",children:(0,u.jsx)(d.EI,{id:"ProfileFollowingOptions",label:this.props.i18n._('Following', 'profile.profileFollowingContainer.profileFollowingOptions.label', 'Label for profile following options (i.e. people, boards, topics)'),labelDisplay:"hidden",onChange:this.handleSelectChange,options:this.getOptions(),size:"lg",value:i})})})}),(0,u.jsx)(d.W2,{children:s})]})})}}function D(){const{logContextEvent:e}=(0,I.v)(),t=(0,a.ZP)(),o=(0,x.Z)(),{username:n}=(0,C.UO)(),i=(0,A.Z)();let s;return o.isAuth&&o.username===n&&(s=o.id),(0,T.Q)({object_id_str:s,view_type:4,view_parameter:51}),(0,u.jsx)(k,{user:i,username:n,viewer:o,i18n:t,logContextEvent:e})}},45347:(e,t,o)=>{o.d(t,{Z:()=>g});var n=o(285970),i=o(890328),s=o(774026),r=o(410004),l=o(850071),a=o(727082),c=o(117855),d=o(958754),u=o(375553),_=o(256883),h=o(460465),p=o(134679),m=o(785893);function g({businessProfileTab:e}){const t={[p.u.CREATED]:i.default,[p.u.FOLLOWERS]:_.default,[p.u.FOLLOWING]:r.default,[p.u.PINS]:h.default,[p.u.SAVED]:l.default,[p.u.SHOP]:a.default,[p.u.STORY_PINS]:c.default,[p.u.TOPICS]:d.default,[p.u.TRIED]:n.default,[p.u.VIDEO_PINS]:u.default,[p.u.DECIDER]:s.default},o=e?t[e]:null;return o?(0,m.jsx)(o,{}):null}},698142:(e,t,o)=>{o.d(t,{Z:()=>be,x:()=>fe});var n=o(667294),i=o(702664),s=o(319915),r=o(124237),l=o(48061),a=o(121093),c=o(898781),d=o(773285),u=o(883119),_=o(785893);function h(e){const t=(0,c.ZP)(),{group:o}=(0,d.F)().checkExperiment("advertiser_growth_pinner_upgrade_to_business_banner"),{handleComplete:n,handleDismiss:i}=e;return(0,_.jsx)(u.xu,{width:"55%",marginStart:"auto",marginEnd:"auto",marginTop:2,marginBottom:2,children:(0,_.jsx)(u.QH,{dismissButton:{accessibilityLabel:t._('Dismiss Banner Button', 'PinnerUpgradeToBusinessBanner.primaryAction.accesibility', 'Dismis Banner Button accesibility Label of the Banner to upgrade pinners to business account'),onDismiss:i},imageData:{component:(0,_.jsx)(u.JO,{dangerouslySetSvgPath:{__path:"M8.6,0.2C4,0.2,0.2,4,0.2,8.6s3.8,8.5,8.5,8.5s8.5-3.8,8.5-8.5S13.3,0.2,8.6,0.2z M6.5,11.9c0,0.1-0.1,0.2-0.2,0.2H4.8  c-0.1,0-0.2-0.1-0.2-0.2V7.8c0-0.1,0.1-0.2,0.2-0.2h1.3c0.2,0,0.3,0.1,0.3,0.2V11.9z M9.5,11.9c0,0.1-0.1,0.2-0.2,0.2H8  c-0.1,0-0.2-0.1-0.2-0.2V4.6c0-0.1,0.1-0.2,0.2-0.2h1.4c0.1,0,0.2,0.1,0.2,0.2v7.3H9.5z M12.7,11.9c0,0.1-0.1,0.2-0.2,0.2H11  c-0.1,0-0.2-0.1-0.2-0.2V6.8c0-0.1,0.1-0.2,0.2-0.2h1.4c0.1,0,0.2,0.1,0.2,0.2V11.9z"},accessibilityLabel:"graph",color:"default",size:45})},message:t._('Upgrade to a free Pinterest business account to unlock tools that help drive traffic, grow your audience and sell more products', 'PinnerUpgradeToBusinessBanner.message', 'Message of the Banner to upgrade pinners to business account'),primaryAction:{label:t._('Upgrade', 'PinnerUpgradeToBusinessBanner.primaryAction', 'Upgrade action of the Banner to upgrade pinners to business account'),href:"/business/convert/",accessibilityLabel:t._('Upgrade Button', 'PinnerUpgradeToBusinessBanner.primaryAction.accesibility', 'Upgrade Button accesibility Label of the Banner to upgrade pinners to business account'),onClick:n},title:"enabled_variant_b"===o?t._('Get more clicks, traffic and sales!', 'PinnerUpgradeToBusinessBanner.title.variant_b', 'Title of the Banner to upgrade pinners to business account'):t._('Discover your top performing Pins', 'PinnerUpgradeToBusinessBanner.title.variant_a', 'Title of the Banner to upgrade pinners to business account')})})}const p=({placementId:e})=>(0,_.jsx)(a.Z,{placementId:e,eligibleIds:[503755],children:({complete:e,dismiss:t})=>(0,_.jsx)(h,{handleComplete:e,handleDismiss:t})});var m=o(227361),g=o.n(m),f=o(580496),x=o(965261),b=o(497529),v=o(826067),y=o(276775);function P({children:e,experience:t,isOwnProfile:o}){const n=(0,y.TH)(),i=(0,b.Z)(),s=!!(0,v.mB)(n.search).skipFac,r=t&&500980===t.experience_id&&!s;return o&&r&&i.dismissExperience(19,500980),e}var w=o(742656),A=o(468747),C=o(300267),j=o(615071),E=o(304903),S=o(407043),I=o(134679);function T({headerHeight:e,isOwnProfile:t,selectedTab:o,user:i}){var s;const{logContextEvent:r}=(0,S.v)(),l=(0,c.ZP)(),a=(0,y.k6)(),d=(0,n.useRef)(null),{id:h,username:p}=null!=i?i:{},[m,g]=(0,n.useState)(0),f=()=>{g((0,E.S$)())};(0,n.useEffect)((()=>(window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)})));const x={1:{tab:I.u.CREATED,text:l._('Created', 'profileHeader.tabs.created', 'Label for Created tab on profile header'),ref:d},0:{tab:I.u.SAVED,text:l._('Saved', 'profileHeader.tabs.saved', 'Label for Saved tab on profile header')},2:{tab:I.u.SHOP,text:l._('Shop', 'profileHeader.tabs.shop', 'Label for Shop tab on profile header')},3:{tab:I.u.TRIED,text:l._('Tried', 'profileHeader.tabs.tried', 'Label for Tried tab on profile header')}};function b({ref:e,tab:n,text:i}){return{href:`/${p}/${n}/`,id:`${n}-profile-tab`,isActive:o===n,onClick:()=>{return e=n,void r({event_type:101,component:I.D[e],object_id_str:h,view_type:4,view_parameter:t?3106:3107});var e},ref:e,text:i}}const v=[];if((null!==(s=null==i?void 0:i.eligible_profile_tabs)&&void 0!==s?s:[]).forEach((e=>{const{tab_type:t}=e,o=void 0===t?null:x[t];o&&v.push(b(o))})),v.length<2)return(0,_.jsx)(j.Z,{in:!!e&&m>e,timeout:300,classNames:"ProfileTabsFullName",unmountOnExit:!0,children:(0,_.jsx)(u.X6,{size:"400",children:null==i?void 0:i.full_name})});return(0,_.jsx)(u.xu,{children:(0,_.jsx)(u.mQ,{activeTabIndex:Math.max(v.findIndex((e=>e.isActive)),0),onChange:({event:e,activeTabIndex:t})=>{const o=v[t];o.onClick&&o.onClick(),0!==e.button||(e=>Boolean(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey))(e)||(e.preventDefault(),a.push(o.href))},tabs:v.map((({href:e,id:t,ref:o,text:n})=>({href:e,id:t,ref:o,text:n})))})})}var z=o(19121);function k({headerHeight:e,selectedTab:t,user:o}){const n=(0,z.Z)(),i=(0,C.Z)({user:o,viewer:n});return(0,_.jsx)(A.Z,{buttonsLeft:[],buttonsRight:[],headerHeight:e,shouldStick:!0,children:(0,_.jsx)(T,{headerHeight:e,isOwnProfile:i,selectedTab:t,user:o})})}var D=o(947411),R=o(874934),O=o(2361),L=o(281180),B=o(121151),M=o(349700);function F({firstName:e,onClearModal:t}){const o=(0,c.ZP)(),n=o._('User blocked', 'BlockConfirmation.heading', 'Heading of confirmation modal after blocking a user');return(0,_.jsx)(B.ZP,{accessibilityModalLabel:n,heading:n,onDismiss:t,size:"sm",footer:(0,_.jsx)(u.xu,{display:"flex",justifyContent:"end",marginStart:-1,marginEnd:-1,children:(0,_.jsx)(u.xu,{paddingX:1,children:(0,_.jsx)(u.zx,{color:"red",onClick:t,text:o._('OK', ' - ', ' -- ')})})}),children:(0,_.jsx)(u.xu,{padding:4,children:(0,_.jsx)(u.xv,{children:(0,M.nk)(o._('You\'ve blocked {{name}}', 'BlockConfirmation.message', 'Confirmation message after blocking a user'),{name:(0,_.jsx)("strong",{children:e})})})})})}var N=o(814449),Z=o(672643),U=o(529758),G=o(966113);function H({onDismiss:e}){const t=(0,c.ZP)();return(0,_.jsxs)(n.Fragment,{children:[(0,_.jsx)(u.rU,{href:G.Z.settings.POLICY_COPYRIGHT_URL,target:"blank",onClick:({dangerouslyDisableOnNavigation:t})=>{t(),e()},children:(0,_.jsxs)(u.xu,{alignItems:"center",justifyContent:"between",display:"flex",direction:"row",paddingY:6,children:[(0,_.jsx)(u.xu,{paddingX:6,children:(0,_.jsx)(u.xv,{weight:"bold",children:t._('This infringes my copyright', 'Copyright infringement statement', 'Copyright infringement statement')})}),(0,_.jsx)(u.xu,{paddingX:6,children:(0,_.jsx)(u.JO,{icon:"arrow-forward",accessibilityLabel:t._('Go to copyright infringement', ' - ', ' -- '),color:"default"})})]})}),(0,_.jsx)(u.iz,{}),(0,_.jsx)(u.rU,{href:G.Z.settings.ABOUT_TRADEMARK_FORM,target:"blank",onClick:({dangerouslyDisableOnNavigation:t})=>{t(),e()},children:(0,_.jsxs)(u.xu,{alignItems:"center",justifyContent:"between",display:"flex",direction:"row",paddingY:6,children:[(0,_.jsx)(u.xu,{paddingX:6,children:(0,_.jsx)(u.xv,{weight:"bold",children:t._('This infringes my trademark', 'Trademark infringement statement', 'Trademark infringement statement')})}),(0,_.jsx)(u.xu,{paddingX:6,children:(0,_.jsx)(u.JO,{icon:"arrow-forward",accessibilityLabel:t._('Go to trademark infringement', ' - ', ' -- '),color:"default"})})]})})]})}var V=o(281216);function W({reason:e,user:t,userBlocked:o,onChangeBlocked:i}){const s=(0,c.ZP)(),r={[V.b.SPAM]:{title:s._('Report spam?', 'Confirm report profile reason title', 'Confirm report profile reason title'),removals:[s._('Misleading content or behavior', 'Example of spam', 'Example of spam'),s._('Repetitive posts', 'Example of spam', 'Example of spam'),s._('Unsolicited commercial messages', 'Example of spam', 'Example of spam')]},[V.b.PORN]:{title:s._('Report nudity or pornography?', 'Confirm report profile reason title', 'Confirm report profile reason title'),removals:[s._('Sexualized nudity', 'Example of porn', 'Example of porn'),s._('Depictions of sexual acts', 'Example of porn', 'Example of porn'),s._('Fetish content', 'Example of porn', 'Example of porn')]},[V.b.SELF_INJURY]:{title:s._('Report self-harm?', 'Confirm report profile reason title', 'Confirm report profile reason title'),removals:[s._('Encouraging self-mutilation, eating disorders and drug abuse', 'Example of self-injury', 'Example of self-injury'),s._('Graphic depictions of self-harm', 'Example of self-injury', 'Example of self-injury')]},[V.b.MEDICAL_MISINFORMATION]:{title:s._('Report medical misinformation?', 'Confirm report profile reason title', 'Confirm report profile reason title'),removals:[s._('False cures for cancer or other chronic or terminal illnesses', 'Example of medical misinformation', 'Example of medical misinformation'),s._('Anti-vaccination advice', 'Example of medical misinformation', 'Example of medical misinformation')],nonRemovals:[s._('Diet advice, including cleanses and supplements that can boost the immune system', 'Example of a profile we will not remove', 'Example of a profile we will not remove'),s._('Teas, oils and herbs proposed for aromatic and sleep quality', 'Example of a profile we will not remove', 'Example of a profile we will not remove')]},[V.b.HATE_SPEECH]:{title:s._('Report hateful speech?', 'Confirm report profile reason title', 'Confirm report profile reason title'),removals:[s._('Attacks or slurs directed at protected groups', 'Example of hate speech', 'Example of hate speech'),s._('People or groups that advocate hate speech', 'Example of hate speech', 'Example of hate speech')],nonRemovals:[s._('Profanity', 'Example of a profile we will not remove', 'Example of a profile we will not remove'),s._('Attacks on public figures', 'Example of a profile we will not remove', 'Example of a profile we will not remove'),s._('Criticism of government, political or religious leaders', 'Example of a profile we will not remove', 'Example of a profile we will not remove')]},[V.b.HARASSMENT]:{title:s._('Report harassment?', 'Confirm report profile reason title', 'Confirm report profile reason title'),removals:[s._('Attacks directed at a specific private individual', 'Example of harassment', 'Example of harassment'),s._('Personally identifiable information', 'Example of harassment', 'Example of harassment')],nonRemovals:[s._('Attacks on public figures', 'Example of a profile we will not remove', 'Example of a profile we will not remove'),s._('Criticism of government, political or religious leaders', 'Example of a profile we will not remove', 'Example of a profile we will not remove')]},[V.b.VIOLENCE]:{title:s._('Report graphic violence?', 'Confirm report profile reason title', 'Confirm report profile reason title'),removals:[s._('Extreme graphic violence', 'Example of violence', 'Example of violence'),s._('Glorification or promotion of violence', 'Example of violence', 'Example of violence'),s._('Threats of physical harm', 'Example of violence', 'Example of violence')],nonRemovals:[s._('Historical, educational or newsworthy content', 'Example of a profile we will not remove', 'Example of a profile we will not remove'),s._('Political protests, advocacy or other social causes', 'Example of a profile we will not remove', 'Example of a profile we will not remove')]}},{full_name:l,username:a,id:d}=null!=t?t:{},h=l?`${l} (${a})`:a,p=(0,_.jsx)(u.xu,{paddingX:2,paddingY:2,children:(0,_.jsxs)(u.xu,{alignItems:"center",display:"flex",direction:"row",paddingX:2,children:[(0,_.jsxs)(u.xu,{paddingX:2,children:[(0,_.jsx)(u.X6,{size:"500",children:(0,M.nk)(s._('Block {{ name }}', 'Block a user heading', 'Block a user heading'),{name:l||(null==t?void 0:t.username)})}),(0,_.jsx)(u.xu,{marginTop:2,marginEnd:2,children:(0,_.jsx)(u.xv,{children:(0,M.nk)(s._('If you block {{ names }}, both of you can still view each other\'s profiles, but you can\'t message each other, follow or save each other\'s Pins.', 'Explanation of blocking a user', 'Explanation of blocking a user'),{names:(0,_.jsx)(u.rU,{href:`/${a}`,inline:!0,target:"blank",onClick:({dangerouslyDisableOnNavigation:e})=>e(),underline:"hover",children:h},"blockUserLink")})})})]}),(0,_.jsx)(u.xu,{paddingX:2,children:(0,_.jsx)(u.rs,{id:"blockUser",onChange:i(d,h),switched:o})})]})}),m=r[e],{removals:g,nonRemovals:f}=m;return(0,_.jsx)(n.Fragment,{children:(0,_.jsxs)(u.xu,{maxHeight:"60vh",overflow:"auto",children:[(0,_.jsxs)(u.xu,{paddingX:6,"data-test-id":"detail-text",children:[(0,_.jsx)(u.xu,{paddingY:4,children:(0,_.jsx)(u.X6,{children:m.title})}),(0,_.jsx)(u.xu,{paddingY:2,children:(0,_.jsx)(n.Fragment,{children:g.map(((e,t)=>(0,_.jsx)(u.xv,{children:"• "+e},`removals-${t}`)))})}),f&&(0,_.jsxs)(u.xu,{children:[(0,_.jsx)(u.xv,{weight:"bold",children:s._('We don\u2019t remove things like', 'Title for list of content we do not remove', 'Title for list of content we do not remove')}),(0,_.jsx)(u.xu,{paddingY:2,children:(0,_.jsx)(n.Fragment,{children:f.map(((e,t)=>(0,_.jsx)(u.xv,{children:"• "+e},`nonRemovals-${t}`)))})})]}),m.notes&&(0,_.jsx)(u.xv,{children:(0,M.nk)(s._('Note: {{ notes }}', 'Note to the user', 'Note to the user'),{notes:m.notes})})]}),(0,_.jsx)(u.xu,{paddingY:2,children:(0,_.jsx)(u.iz,{})}),p]})})}var $=o(6637),Y=o(499128),K=o(343341);function q(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const X="cover-image",Q="cover-video",J="report-type-step",ee="reason-step",te="confirm-step";class oe extends n.Component{constructor(...e){var t;super(...e),t=this,q(this,"state",{reason:null,reportType:null,step:J,showUserBlockedToastText:null}),q(this,"handleChangeReason",(e=>()=>this.setState({reason:e}))),q(this,"handleChangeReportType",(e=>()=>this.setState({reportType:e}))),q(this,"handleExperimentReportSpam",(e=>()=>this.setState({reason:"spam",reportType:e}))),q(this,"handleCopyrightReportClick",(()=>{const{user:e,history:t}=this.props,{username:o}=null!=e?e:{};t.push({pathname:`/copyright-reporting/${o}/`})})),q(this,"handleChangeStep",(e=>()=>{this.setState({step:e})})),q(this,"handleSubmitReport",(async function(){const{onClearModal:e,username:o,toastManagerContext:n}=t.props,{reportType:i,reason:s}=t.state,r={username:o,reason:s,reportObject:i};await $.Z.create("UserReportProfileResource",r).callCreate(),e(),n.showToast((({hideToast:e})=>(0,_.jsx)(Y.ZP,{text:t.props.i18n._('Thanks! Your feedback helps us improve Pinterest.', 'profileHeader.reportProfile.reportSentToast', 'User profile report was sent'),onHide:e})))})),q(this,"handleChangeBlocked",((e,t)=>()=>{const{isUserBlocked:e,blockUser:o,unblockUser:n,user:i}=this.props,{id:s}=null!=i?i:{};e?(n(s),this.showChangeBlock({name:t,showBlocked:!1})):(o(s),this.showChangeBlock({name:t,showBlocked:!0}))})),q(this,"showChangeBlock",(({name:e,showBlocked:t})=>{const o=t?(0,M.nk)(this.props.i18n._('{{ name }} blocked', 'Toast text for blocking user', 'Toast text for blocking user'),{name:e}):(0,M.nk)(this.props.i18n._('Unblocked {{ name }}', 'Toast text for unblocking user', 'Toast text for unblocking user'),{name:e});this.setState({showUserBlockedToastText:o.join("")})})),q(this,"hideUserBlockedToast",(()=>this.setState({showUserBlockedToastText:null})))}renderFooter(){const{onClearModal:e}=this.props,{reportType:t,reason:o,step:n}=this.state,i=n!==te,s=!t&&n===J||!o&&n===ee,r=!(n===te&&o===V.b.INTELLECTUAL_PROPERTY),l=i?this.props.i18n._('Next', 'Button to progress to next screen in report flow', 'Button to progress to next screen in report flow'):this.props.i18n._('Report', 'Button text to submit a report profile', 'Button text to submit a report profile');let a,c;n===J?(a=this.handleChangeStep(ee),c=e,"name"===t&&(a=this.handleChangeStep(te)),"BulkDmca"===t&&(a=this.handleCopyrightReportClick)):n===ee?(a=this.handleChangeStep(te),c=this.handleChangeStep(J)):(a=this.handleSubmitReport,c=this.handleChangeStep(ee),"name"===t&&(c=this.handleChangeStep(J)));const d=n===J?this.props.i18n._('Cancel', 'Cancel button', 'Cancel button'):this.props.i18n._('Back', 'Back button', 'Back button');return(0,_.jsxs)(u.xu,{display:"flex",direction:"row",justifyContent:"end",marginStart:-1,marginEnd:-1,children:[(0,_.jsx)(u.xu,{paddingX:1,children:(0,_.jsx)(u.zx,{onClick:c,text:d})}),r&&(0,_.jsx)(u.xu,{paddingX:1,children:(0,_.jsx)(u.zx,{color:"red",disabled:s,onClick:()=>{a()},text:l})})]})}renderReportTypes(){const{reportType:e}=this.state,{user:t,inBulkDmcaToolExp:o}=this.props,i=(null==t?void 0:t.profile_cover)&&t.profile_cover.source,s=[];return"video"===i?s.push({key:Q,title:this.props.i18n._('Inappropriate cover video', 'Cover video of profile', 'Cover video of profile')}):"image"===i&&s.push({key:X,title:this.props.i18n._('Inappropriate cover image', 'Cover image of profile', 'Cover image of profile')}),(0,_.jsxs)(u.xu,{maxHeight:"60vh",overflow:"auto",children:[(0,_.jsx)(u.xu,{paddingY:2,children:(0,_.jsx)(u.xv,{align:"center",color:"subtle",size:"200",children:this.props.i18n._('Why are you reporting this account?', 'What is the reason for reporting', 'What is the reason for reporting')})}),(0,_.jsx)(u.iz,{}),(0,_.jsxs)(u.xu,{"data-test-id":"report-spam-option",children:[(0,_.jsx)(u.__,{htmlFor:"ReportSpam",children:(0,_.jsxs)(u.xu,{alignItems:"center",paddingY:2,display:"flex",direction:"row",children:[(0,_.jsx)(u.xu,{paddingX:4,children:(0,_.jsx)(u.EU,{checked:"name"===e,id:"ReportSpam",name:"reportPinOptions",onChange:this.handleExperimentReportSpam("name"),value:"ReportSpam"})}),(0,_.jsx)(u.xu,{flex:"grow",children:(0,_.jsx)(u.xu,{marginBottom:1,children:(0,_.jsx)(u.xv,{weight:"bold",children:this.props.i18n._('Spam', 'Report user for spam', 'Report user for spam')})})})]})}),(0,_.jsx)(u.iz,{})]},"Option-ReportSpam"),o&&(0,_.jsx)(n.Fragment,{children:(0,_.jsxs)(u.xu,{children:[(0,_.jsx)(u.__,{htmlFor:"BulkDmca",children:(0,_.jsxs)(u.xu,{alignItems:"center",paddingY:2,display:"flex",direction:"row",children:[(0,_.jsx)(u.xu,{paddingX:4,children:(0,_.jsx)(u.EU,{checked:"BulkDmca"===e,id:"BulkDmca",name:"reportPinOptions",onChange:this.handleChangeReportType("BulkDmca"),value:"BulkDmca"})}),(0,_.jsx)(u.xu,{flex:"grow",children:(0,_.jsx)(u.xu,{marginBottom:1,children:(0,_.jsx)(u.xv,{weight:"bold",children:this.props.i18n._('Copyright infringement', 'Report users pins for copyright infringement', 'Report users pins for copyright infringement')})})})]})}),(0,_.jsx)(u.iz,{})]},"Option-BulkDmca")}),s.map(((t,o)=>(0,_.jsxs)(u.xu,{children:[(0,_.jsx)(u.__,{htmlFor:t.key,children:(0,_.jsxs)(u.xu,{alignItems:"center",paddingY:2,display:"flex",direction:"row",children:[(0,_.jsx)(u.xu,{paddingX:4,children:(0,_.jsx)(u.EU,{checked:t.key===e,id:t.key,name:"reportPinOptions",onChange:this.handleChangeReportType(t.key),value:t.key})}),(0,_.jsx)(u.xu,{flex:"grow",children:(0,_.jsx)(u.xu,{marginBottom:1,children:(0,_.jsx)(u.xv,{weight:"bold",children:t.title})})})]})}),s.length>o+1&&(0,_.jsx)(u.iz,{})]},`Option-${t.key}`)))]})}renderReasons(){const{reason:e}=this.state,t=[{key:V.b.SPAM,title:this.props.i18n._('Spam', 'Report profile option', 'Report profile option'),subtitle:this.props.i18n._('Misleading or repetitive posts', 'Report profile option description', 'Report profile option description')},{key:V.b.PORN,title:this.props.i18n._('Nudity or pornography', 'Report profile option', 'Report profile option'),subtitle:this.props.i18n._('Sexually explicit content', 'Report profile option description', 'Report profile option description')},{key:V.b.SELF_INJURY,title:this.props.i18n._('Self-harm', 'Report profile option', 'Report profile option'),subtitle:this.props.i18n._('Eating disorders, cutting, suicide', 'Report profile option description', 'Report profile option description')},{key:V.b.MEDICAL_MISINFORMATION,title:this.props.i18n._('Medical misinformation', 'Report profile option', 'Report profile option'),subtitle:this.props.i18n._('Harmful or misleading content about health and safety', 'Report profile option description', 'Report profile option description')},{key:V.b.HATE_SPEECH,title:this.props.i18n._('Hate speech or symbols', 'Report profile option', 'Report profile option'),subtitle:this.props.i18n._('Attacks directed at protected groups', 'Report profile option description', 'Report profile option description')},{key:V.b.HARASSMENT,title:this.props.i18n._('Harassment or privacy violations', 'Report profile option', 'Report profile option'),subtitle:this.props.i18n._('Threats, blackmail, personal attacks', 'Report profile option description', 'Report profile option description')},{key:V.b.VIOLENCE,title:this.props.i18n._('Graphic violence', 'Report profile option', 'Report profile option'),subtitle:this.props.i18n._('Violent images or promotion of violence', 'Report profile option description', 'Report profile option description')},{key:V.b.INTELLECTUAL_PROPERTY,title:this.props.i18n._('My intellectual property', 'Report profile option', 'Report profile option'),subtitle:this.props.i18n._('Copyright or trademark infringement', 'Report profile option description', 'Report profile option description')}];return(0,_.jsx)(u.xu,{maxHeight:"60vh",overflow:"auto",children:t.map(((o,n)=>(0,_.jsxs)(u.xu,{children:[(0,_.jsx)(u.__,{htmlFor:o.key,children:(0,_.jsxs)(u.xu,{alignItems:"center",paddingY:2,display:"flex",direction:"row",children:[(0,_.jsx)(u.xu,{paddingX:4,children:(0,_.jsx)(u.EU,{checked:o.key===e,id:o.key,name:"reportPinOptions",onChange:this.handleChangeReason(o.key),value:o.key})}),(0,_.jsxs)(u.xu,{flex:"grow",children:[(0,_.jsx)(u.xu,{marginBottom:1,children:(0,_.jsx)(u.xv,{weight:"bold",children:o.title})}),(0,_.jsx)(u.xv,{size:"200",children:o.subtitle})]})]})}),t.length>n+1&&(0,_.jsx)(u.iz,{})]},`Option-${o.key}`)))})}render(){const{onClearModal:e,user:t,isUserBlocked:o}=this.props,{step:n,reason:i,showUserBlockedToastText:s}=this.state,r=this.props.i18n._('Report account', 'Modal heading for report profile flow', 'Modal heading for report profile flow');let l;return l=n===J?this.renderReportTypes():n===ee?this.renderReasons():n===te&&i===V.b.INTELLECTUAL_PROPERTY?(0,_.jsx)(H,{onDismiss:e}):(0,_.jsx)(W,{reason:i,user:t,userBlocked:o,onChangeBlocked:this.handleChangeBlocked}),(0,_.jsxs)(B.ZP,{accessibilityModalLabel:r,onDismiss:e,heading:r,footer:this.renderFooter(),children:[l,(0,_.jsx)(u.xu,{fit:!0,dangerouslySetInlineStyle:{__style:{bottom:"15%",left:"50%",transform:"translateX(-50%)"}},paddingX:1,position:"fixed",children:s&&(0,_.jsx)(Y.ZP,{duration:2e3,onHide:this.hideUserBlockedToast,text:s})})]})}}function ne(e){const t=(0,c.ZP)(),{checkExperiment:o}=(0,d.F)(),{anyEnabled:n}=o("web_creators_bulk_dmca_tool");return(0,_.jsx)(oe,{...e,i18n:t,history:(0,y.k6)(),inBulkDmcaToolExp:n,toastManagerContext:(0,K.F9)()})}function ie({blockUser:e,currentModal:t,handleBlockUser:o,handleHideConfirmationModal:n,handleHideModal:i,isUserBlocked:s,unblockUser:r,user:l}){var a,c,d,u,h;switch(t){case"blockConfirmation":return(0,_.jsx)(F,{firstName:null!==(a=null==l?void 0:l.first_name)&&void 0!==a?a:"",onClearModal:n});case"blockUser":return(0,_.jsx)(N.Z,{firstName:null!==(c=null==l?void 0:l.first_name)&&void 0!==c?c:"",onBlockUser:o,onClearModal:i});case"reportProfile":return(0,_.jsx)(ne,{onClearModal:i,username:null!==(d=null==l?void 0:l.username)&&void 0!==d?d:"",user:l,isUserBlocked:s,blockUser:e,unblockUser:r});case"createPincode":const t=280;return(0,_.jsx)(U.Z,{onHide:i,objectId:null!==(u=null==l?void 0:l.id)&&void 0!==u?u:"",children:(0,_.jsx)(Z.ZP,{id:null!==(h=null==l?void 0:l.id)&&void 0!==h?h:"",images:[{height:t,url:(null==l?void 0:l.image_xlarge_url)||"",width:t}]})});default:return null}}var se=o(946984),re=o(482546);function le(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class ae extends n.Component{constructor(...e){var t;super(...e),le(this,"state",{currentModal:null,currentUserDetails:null!==(t=this.props.user)&&void 0!==t?t:{}}),le(this,"handleClickCreatePincode",this.props.requireAuth((()=>this.setState({currentModal:"createPincode"})))),le(this,"handleClickReportProfile",this.props.requireAuth((()=>this.setState({currentModal:"reportProfile"})))),le(this,"handleHideModal",(()=>this.setState({currentModal:null}))),le(this,"handleHideConfirmationModal",(()=>{this.refreshPage()})),le(this,"refreshPage",(()=>{window.location.reload(!0)})),le(this,"handleToggleBlock",this.props.requireAuth((()=>{const{isUserBlocked:e}=this.props;e?this.unblockUser():this.setState({currentModal:"blockUser"})}))),le(this,"unblockUser",(()=>{const{unblockUser:e,user:t}=this.props,{id:o}=null!=t?t:{};this._updateUserDetails({blocked_by_me:!1}),e(o).then((()=>this.refreshPage()))})),le(this,"handleBlockUser",(()=>{const{blockUser:e,user:t}=this.props,{id:o}=null!=t?t:{};this._updateUserDetails({blocked_by_me:!0}),e(o),this.setState({currentModal:"blockConfirmation"})})),le(this,"handleToggleFollow",(()=>{const{currentUserDetails:{explicitly_followed_by_me:e}}=this.state,t=!e;this._updateUserDetails({explicitly_followed_by_me:t})})),le(this,"_updateUserDetails",(e=>{const{currentUserDetails:t}=this.state,o={...t,...e};this.setState({currentUserDetails:o})}))}static getDerivedStateFromProps(e,t){var o;return(null===(o=e.user)||void 0===o?void 0:o.id)!==t.currentUserDetails.id?{...t,currentUserDetails:e.user}:null}renderModal(){const{currentModal:e}=this.state,{user:t,isUserBlocked:o,unblockUser:n,blockUser:i}=this.props;return(0,_.jsx)(ie,{blockUser:i,currentModal:e,handleBlockUser:this.handleBlockUser,handleHideConfirmationModal:this.handleHideConfirmationModal,handleHideModal:this.handleHideModal,isUserBlocked:o,unblockUser:n,user:t})}render(){const{minimalPartnerHeader:e,tab:t,user:o,headerHeight:i,setHeaderHeight:s}=this.props,{currentModal:r}=this.state;var l,a,c,d;return e?(0,_.jsx)(w.Z,{avatarUrl:null!==(l=null==o?void 0:o.image_medium_url)&&void 0!==l?l:"",merchantName:null!==(a=null==o?void 0:o.full_name)&&void 0!==a?a:"",text:null!==(c=null==o?void 0:o.full_name)&&void 0!==c?c:"",username:null!==(d=null==o?void 0:o.username)&&void 0!==d?d:""}):(0,_.jsxs)(n.Fragment,{children:[(0,_.jsx)(D.Z,{onClickReportProfile:this.handleClickReportProfile,onCreatePincodeClick:this.handleClickCreatePincode,onToggleBlock:this.handleToggleBlock,onToggleFollow:this.handleToggleFollow,setHeaderHeight:s,user:o}),(0,_.jsx)(k,{headerHeight:i,selectedTab:t,user:o}),r&&this.renderModal()]})}}function ce(e){var t,o,s,r;const l=(0,i.useDispatch)(),a=(0,L.kW)(),c=a&&a[null!==(t=null===(o=e.user)||void 0===o?void 0:o.id)&&void 0!==t?t:""]?a[null!==(s=null===(r=e.user)||void 0===r?void 0:r.id)&&void 0!==s?s:""]:e.user,d=(0,se.Z)(),{aggregatedCommentsHiddenForUser:u}=(0,R.nf)(),{nativeEngagementsHiddenForUser:h}=(0,O.G)(),[p,m]=(0,n.useState)(null);return(0,_.jsx)(ae,{...e,blockUser:e=>{l((0,re.Ge)(e)),u(e),h(e)},isUserBlocked:Boolean(null==c?void 0:c.blocked_by_me),unblockUser:e=>l((0,re.h2)(e)),user:c,requireAuth:d,headerHeight:p,setHeaderHeight:m})}var de=o(430323),ue=o(86551),_e=o(784450),he=o(920005),pe=o(806986),me=o(480622),ge=o(868065);const fe=({tab:e,userData:t})=>{const o={2:I.u.SHOP,1:I.u.CREATED,0:I.u.SAVED,3:I.u.TRIED};if(t&&e===I.u.DECIDER){var n;const e=null===(n=t.eligible_profile_tabs)||void 0===n?void 0:n.find((e=>e.is_default));return o[null==e?void 0:e.tab_type]||I.u.SAVED}return e};const xe=(0,_e.ZP)(19,(({clickedFollowingButton:e},t)=>({clickedFollowingButton:e,profile_ownership:t.profile_ownership,profile_user_id:t.profile_user_id})))((function({children:e,clickedFollowingButton:t,experience:o,history:i,minimalPartnerHeader:a,renderError:d,setPlacementExtraContext:h,showPulsar:m,tab:b,unsetError:v,username:y,pins:w}){const{logContextEvent:A}=(0,S.v)(),C=(0,c.ZP)(),j=(0,z.Z)(),E=0!==((e,t)=>Object.keys(t).filter((o=>{const n=t[String(o)];return(n.pinner||{}).id===e.id&&!n.is_repin})).map((e=>t[e])))(j,w).length,I=(0,n.useRef)(!1),T=(0,n.useRef)(t),k=(0,n.useRef)(E),D=(0,ue.Z)(),R=(0,me.f)().id,O=j&&j.isAuth&&D.data&&j.id===D.data.id;if((0,n.useEffect)((()=>{(0,x.Z)()}),[]),(0,n.useEffect)((()=>{"v3_get_board"!==g()(d,"apiHandler")||404!==g()(d,"http_status")||I.current||!D.data||D.error?D.error&&404===D.error.httpStatus&&i.replace("/?show_error=true"):(I.current=!0,r.Z.showHtmlError((0,M.nk)(C._('But here are some of {{ fullName }}\'s other boards!', ' - ', ' -- '),{fullName:D.data.full_name}).join(""),v(),C._('We couldn\'t find that page.', ' - ', ' -- ')))})),(0,n.useEffect)((()=>{A({event_type:13,view_type:4,aux_data:{pin_id:R}})}),[A,R]),(0,n.useEffect)((()=>{if(D.isLoaded){var e;let o={profile_ownership:O?"own":"other",profile_user_id:(null===(e=D.data)||void 0===e?void 0:e.id)||""};t&&t!==T.current&&(o={...o,clickedFollowingButton:!0}),h(o)}}),[t,D.isLoaded]),!D||!D.isLoaded||!D.data)return null;const L=j.isAuth&&y===j.username,B=fe({tab:b,userData:D.data}),F=L?3106:3107,N=(0,f.Z)(D.data),Z=(0,_.jsx)(pe.aG,{children:(0,_.jsxs)(n.Fragment,{children:[(0,_.jsx)(p,{placementId:19}),(0,_.jsx)(l.default,{placementId:19}),(0,_.jsxs)(u.xu,{children:[(0,_.jsx)(s.Z,{name:"ProfileHeaderContainer",children:(0,_.jsx)(he.c,{children:e=>(0,_.jsx)(ce,{minimalPartnerHeader:a,tab:B,top:e,user:D.data})})}),(0,_.jsx)(s.Z,{name:"ProfileContent",children:(0,_.jsx)(u.xu,{children:e})})]})]})}),U=N?(0,_.jsx)(P,{experience:o,initialViewerCreatedPins:k.current,isOwnProfile:L,username:y,children:Z}):Z;return(0,_.jsx)(de.Z,{view:4,viewParameter:F,objectId:D.data.id,children:(0,_.jsx)(n.Fragment,{children:U})})}));function be(e){const t=(0,i.useSelector)((({pins:e})=>e)),o=(0,ge.X2)(),n=o&&Object.keys(o).map((e=>o[e])).filter((e=>e.showTooltip)).length>0;return(0,_.jsx)(xe,{...e,clickedFollowingButton:n,pins:t})}},850071:(e,t,o)=>{o.r(t),o.d(t,{default:()=>at});var n=o(667294),i=o(333312);function s({hasCustomOrder:e,hasGroupBoard:t,isOwnProfile:o,mostRecentBoardSortOrder:n,requestContext:i,updatedBoardOrder:s}){if(!o)return"last_pinned_to";if(s)return s;if(n)return n;const r=null==i?void 0:i.experimentsClient.checkExperiment("web_gb_highlight_on_profile_default").anyEnabled;return e?"custom":!e&&t&&r?"group_boards_at_top":"last_pinned_to"}var r=o(300267),l=o(2819),a=o(6637),c=o(898781),d=o(717615),u=o(784590),_=o(19121),h=o(883119),p=o(407043),m=o(773285),g=o(231947),f=o(330899),x=o(785893);const b={alphabetical:10430,last_pinned_to:10431,custom:10434};function v({user:e,setVisibilityControlsModalOpen:t}){var o;const i=(0,f.x)(),{logContextEvent:r}=(0,p.v)(),{checkExperiment:v}=(0,m.F)(),y=(0,c.ZP)(),P=(0,_.Z)(),w=(0,d.Z)(),A=(0,g.Ms)(P,w),{data:C}=(0,u.Z)({name:"UserMetadataResource",options:{user:{id:A}}}),j=null==i?void 0:i.profileBoardView,E=null!==(o=null==i?void 0:i.boardSortOrder.get(A||""))&&void 0!==o?o:"",S=null==i?void 0:i.profilePinDensity,I=s({hasCustomOrder:Boolean(e.has_custom_board_sorting_order),isOwnProfile:!0,mostRecentBoardSortOrder:null==C?void 0:C.most_recent_board_sort_order,updatedBoardOrder:E});(0,n.useEffect)((()=>{if(C&&(!j||"list"===j)){const{profile_board_rep_view_type:e}=C,t=e&&"list"!==e?e:"wide";null==i||i.setProfileBoardView(t)}}),[C,j]);(0,n.useEffect)((()=>{if(C&&""===S){const{board_pin_rep_view_type:e}=C;null==i||i.setProfilePinDensity(null!=e?e:"regular")}}),[C,S]);const T=e=>()=>{r({event_type:101,component:13149,element:b[e]});a.Z.create("UserMetadataResource",{most_recent_board_sort_order:e,orbac_subject_id:(0,g.lJ)(P,w)}).callUpdate(),null==i||i.updateBoardSortOrder((0,g.Ms)(P,w),e)},{group:z}=v("web_shopping_list_controls",{dangerouslySkipActivation:!0}),k=["enabled","enabled_no_experience"].includes(z),D=[{label:k?y._('Sort by', 'profileHeader.actionBar.organizeFlyout.sortBoardsBy', 'Category heading on Organize menu on user profile'):y._('Sort boards by', 'profileHeader.actionBar.organizeFlyout.sortBoardsBy.deprecated', 'Category heading on Organize menu on user profile, to be deprecated'),items:[{label:y._('A to Z', 'profileHeader.actionBar.organizeFlyout.aToZ', 'Organize menu option to sort boards alphabetically'),isSelected:"alphabetical"===I,clickHandler:T("alphabetical")},{label:k?y._('Custom', 'profileHeader.actionBar.organizeFlyout.dragAndDrop', 'Organize menu option to sort boards by drag-and-drop'):y._('Drag and drop', 'profileHeader.actionBar.organizeFlyout.dragAndDrop.deprecated', 'Organize menu option to sort boards by drag-and-drop, to be deprecated'),isSelected:"custom"===I,clickHandler:T("custom")},{label:y._('Last saved to', 'profileHeader.actionBar.organizeFlyout.lastSavedTo', 'Organize menu option to sort boards by last saved to'),isSelected:"last_pinned_to"===I,clickHandler:T("last_pinned_to")}]},k&&t?{label:y._('Profile layout', 'profileHeader.actionBar.organizeFlyout.layout', 'Category heading on Organize menu on user profile'),items:[{label:y._('Edit board visibility', 'profileHeader.actionBar.organizeFlyout.manageVisibility', 'Organize menu option to control visibility of boards'),clickHandler:()=>{t(!0),r({event_type:101,view_type:215,view_parameter:3106,component:13996,element:12786})}}]}:null].map((e=>e)).filter(Boolean);return(0,x.jsx)(l.Z,{icon:"filter",label:y._('Organize', 'profileHeader.actionBar.organize', 'Accessibility label for button to open organization and view tools flyout'),children:({handleClose:e})=>D.map((({items:t,label:o})=>(0,x.jsx)(h.Lt.Section,{label:o,children:t.map((({clickHandler:t,isSelected:o,label:n})=>(0,x.jsx)(h.Lt.Item,{onSelect:()=>{e(),t()},option:{label:n,value:n},selected:o?{label:n,value:n}:null},n)))},o)))})}var y=o(702664),P=o(121093),w=o(806986);const A=110;function C({boardThumbs:e}){const t=(0,c.ZP)();return(0,x.jsx)(h.xu,{"aria-label":t._('Collage of images', 'profile.boardlessPinsUpsell.imageCollage', 'Collage of images on upsell'),role:"img",children:(0,x.jsx)(h.zd,{height:A,rounding:4,width:A,children:(0,x.jsx)(h.gM,{columns:2,cover:!0,height:A,gutter:1,renderImage:({index:t,width:o,height:n})=>{var i,s,r;const l=e[0],a=e.slice(1),c=0===t?l:a[t-1];return(0,x.jsx)(h.zd,{width:o,height:n,children:(0,x.jsx)(h.Ee,{alt:"",src:null!==(i=c.url)&&void 0!==i?i:"",color:"#EFEFEF",naturalHeight:null!==(s=c.height)&&void 0!==s?s:1,naturalWidth:null!==(r=c.width)&&void 0!==r?r:1,fit:"cover"})})},width:A})})})}function j(){const e=(0,c.ZP)(),t=(0,w.JI)();return(0,x.jsx)(P.Z,{eligibleIds:[503446],placementId:19,children:({complete:o,dismiss:n,experience:{display_data:i}})=>{const{button_text:s,images:r,subtitle:l,title:a}=i,c=r.map((e=>e["170x"]));return(0,x.jsx)(h.kC,{justifyContent:"center",children:(0,x.jsx)(h.xu,{maxWidth:960,paddingY:4,children:(0,x.jsx)(h.QH,{title:a,imageData:{component:(0,x.jsx)(C,{boardThumbs:c})},message:l,primaryAction:{label:s,accessibilityLabel:e._('Create board', 'profile.boardlessPinsUpsell.createButton', 'Button to create new board from upsell'),onClick:()=>{t(!0),o()}},dismissButton:{accessibilityLabel:e._('Dismiss', 'profile.boardlessPinsUpsell.dismissButton', 'Button to dismiss upsell'),onDismiss:n}})})})}})}var E=o(572551),S=o(301921),I=o(444445);const T=(0,n.lazy)((()=>Promise.all([o.e(67228),o.e(61673),o.e(95653)]).then(o.bind(o,395653))));function z({boardlessPinsNormalized:e,boardlessPinsResource:t,hasBoards:o,isOwnProfile:i,userId:s}){const r=(0,c.ZP)(),l=(0,w.JI)(),a=(0,w.Fj)(),d=i&&e.length>=5&&!o,{fetchMore:u,isAtEnd:_,isFetching:p,isLoaded:m}=t;return(0,x.jsxs)(n.Fragment,{children:[(0,x.jsxs)(h.xu,{padding:o?0:3,children:[o&&e.length>0&&(0,x.jsxs)(n.Fragment,{children:[(0,x.jsx)(h.xu,{marginTop:5,marginBottom:i?0:7,children:(0,x.jsx)(h.iz,{})}),i&&(0,x.jsxs)(h.xu,{alignItems:"center",display:"flex",justifyContent:"between",paddingX:5,paddingY:7,children:[(0,x.jsx)(h.X6,{size:"400",children:r._('Unorganized ideas', 'profileBoard.unorganizedIdeas.heading', 'Heading for unorganized ideas.')}),(0,x.jsx)(h.zx,{onClick:()=>{l(!0)},text:r._('Organize', 'profileBoard.unorganizedIdeas.organizeButton', 'Button for organizing boardless Pins')})]})]}),d&&(0,x.jsx)(j,{}),(0,x.jsx)(E.default,{columnWidth:I.yF,Item:({data:e,itemIdx:t})=>{const o=i?{type:"none"}:{type:"inline"};return(0,x.jsx)(S.default,{pinId:e.id,saveButtonOptions:o,authDesktopSurface:"BoardlessPins",slotIndex:t,viewParameter:i?3106:3107,viewType:4})},gutterWidth:I.$H,isAtEnd:_,isFetching:p,isGridCentered:!0,isLoaded:m,items:e,layout:"basicCentered",loadItems:u,serverRender:!0,virtualize:!1})]}),!!e&&e.length>0&&a&&(0,x.jsx)(T,{boardlessPinsNormalized:e,fetchMore:u,hasBoards:o,onDismiss:()=>l(!1),userId:s})]})}var k=o(848900);const D=(e,t)=>e.feeds[`profileBoards:${(0,k.Z)(t.username,t.boardOrder)}`];var R=o(976849),O=o(91885);function L({children:e,containerWidth:t,inListView:o,semiTransparent:n}){const i=n?.5:void 0;return o?(0,x.jsx)(h.xu,{"data-test-id":O.Kb,display:"flex",justifyContent:"center",width:"100%",children:(0,x.jsxs)(h.xu,{maxWidth:800,paddingX:3,width:"100%",children:[(0,x.jsx)(h.iz,{}),(0,x.jsx)(h.xu,{opacity:i,paddingY:3,width:"100%",children:e})]})}):(0,x.jsx)(h.xu,{"data-test-id":O.Kb,maxWidth:t,opacity:i,overflow:"hidden",padding:2,children:e})}function B({headerLabel:e}){const t=(0,c.ZP)();return(0,x.jsx)(h.W2,{children:(0,x.jsxs)(h.xu,{alignItems:"center",display:"flex",marginBottom:2,marginStart:-4,marginEnd:-4,paddingX:3,children:[(0,x.jsx)(h.xu,{column:9,display:"flex",justifyContent:"between",paddingX:4,children:(0,x.jsx)(h.xv,{color:"subtle",size:"200",children:t._('Name', 'Profile header - board name', 'Profile header - board name')})}),(0,x.jsx)(h.xu,{alignItems:"center",column:3,display:"flex",paddingX:4,children:(0,x.jsx)(h.xv,{color:"subtle",size:"200",children:e||""})})]})})}var M=o(907301),F=o(132893),N=o(904411);function Z({boardIds:e,layout:t,onBoardArchiveChange:o,onBoardDelete:i,showCreatorProfile:s}){const r=(0,c.ZP)(),l=(0,n.useRef)(null),a=(0,N.bn)();if(!e.length)return null;const d=(0,F.m)(t);return(0,x.jsxs)(h.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#F6F6F6"}},paddingY:4,ref:l,children:["list"===t&&(0,x.jsx)(B,{headerLabel:r._('Archived on', 'Profile board list view heading label', 'Profile board list view heading label')}),(0,x.jsx)(M.Z,{itemWidth:d,children:e.map((e=>a[e])).filter(Boolean).map(((e,n)=>(0,x.jsx)(L,{containerWidth:d,inListView:"list"===t,children:(0,x.jsx)(R.Z,{board:e,isOwnProfile:!0,layout:t,onBoardArchiveChange:o,onBoardDelete:i,slotIndex:n})},e.id)))})]})}var U=o(966113);const G=(e,t)=>{switch(e){case"protected":return t._('Protected boards', ' - ', ' -- ');case"secret":return t._('Secret boards', ' - ', ' -- ');case"archived":return t._('Archived boards', 'title for archived boards section on a profile', 'title for archived boards section on a profile');default:return""}},H=e=>"archived"===e?"remove":"protected"===e?"protect":"lock",V=(e,t)=>{switch(e){case"protected":return t._('Protected boards are not shown on your profile page publicly but anyone with the URL can view them.', ' - ', ' -- ');case"secret":return t._('Only you and people you invite can see these boards. ', ' - ', ' -- ');case"archived":return t._('These are hidden from your profile.', 'subtitle for archived boards section on a profile', 'subtitle for archived boards section on a profile');default:return""}};function W({type:e}){const t=(0,c.ZP)();return(0,x.jsx)(h.W2,{children:(0,x.jsxs)(h.xu,{paddingY:6,paddingX:3,children:[(0,x.jsxs)(h.xv,{size:"200",weight:"bold",children:[G(e,t)," ",(0,x.jsx)(h.JO,{accessibilityLabel:"",color:"default",icon:H(e),inline:!0,size:12})]}),(0,x.jsx)(h.xv,{inline:!0,size:"200",children:V(e,t)}),"secret"===e&&(0,x.jsx)(h.xv,{inline:!0,size:"200",weight:"bold",children:(0,x.jsx)(h.rU,{href:U.Z.settings.HELP_BOARDS_SECRET_URL_SRC_PROFILE,inline:!0,underline:"hover",children:t._('Learn more', ' - ', ' -- ')})})]})})}var $=o(223656),Y=o(298361),K=o(86551);function q({boardOrder:e,allPinsStory:{objects:t}}){var o;const n=(0,Y.Z)(),i=(0,_.Z)(),s=null!==(o=t.map((e=>{var t,o;return{name:"AllPins",url:null!==(t=null===(o=e.images)||void 0===o?void 0:o["236x"].url)&&void 0!==t?t:""}})))&&void 0!==o?o:[],l=(0,K.Z)();if(!l||!l.isLoaded||!l.data)return null;const a=l.data,c=(0,r.Z)({user:a,viewer:i}),d=e&&"last_pinned_to"===e&&a.last_pin_save_time?n(a.last_pin_save_time,!0):"";return(0,x.jsx)($.Z,{storyPinImages:s,subtitle:d,userId:a.id,isOwnProfile:c,pinCount:a.pin_count})}var X=o(694379),Q=o(349700);function J({boardName:e,collaboratorCount:t}){const o=(0,c.ZP)(),n=(0,x.jsx)(h.xv,{inline:!0,weight:"bold",children:e},"board_name");return(0,x.jsx)(h.xv,{children:t?(0,Q.nk)(o._('When you delete {{ boardName }}, you\'ll lose {{ n_collaborators }} and all followers of that board.', 'helper text for selecting merge target board', 'helper text for selecting merge target board'),{boardName:n,n_collaborators:(0,x.jsx)(h.xv,{inline:!0,weight:"bold",children:(0,Q.nk)(o.ngettext('{{ count }} collaborator', '{{ count }} collaborators', t, 'label for n board collaborator(s)', 'label for n board collaborator(s)'),{count:(0,x.jsx)(X.Z,{value:t})})},"collaborator_count")}):(0,Q.nk)(o._('When you delete {{ boardName }}, you\'ll lose all followers of that board.', 'helper text for selecting merge target board', 'helper text for selecting merge target board'),{boardName:n})})}function ee({board:{name:e="",is_collaborative:t}}){const o=(0,c.ZP)(),n=t?o._('your {{ boardName }} group board', ' - ', ' -- '):o._('your {{ boardName }} board', ' - ', ' -- ');return(0,x.jsx)(h.xv,{inline:!0,children:(0,Q.nk)(n,{boardName:(0,x.jsx)(h.xv,{inline:!0,weight:"bold",children:e},`board_${e}`)})},`yourboard_${e}`)}function te({sourceBoard:e,targetBoard:t}){var o;const n=(0,c.ZP)();return(0,x.jsxs)(h.xu,{children:[(0,x.jsx)(h.xu,{paddingY:2,children:(0,x.jsx)(h.xv,{children:(0,Q.nk)(n._('You\'re about to move all the Pins from {{ sourceBoardName }} to a new section in {{ targetBoardName }}.', 'helper text for selecting merge target board', 'helper text for selecting merge target board'),{sourceBoardName:(0,x.jsx)(ee,{board:e},"sourceBoard"),targetBoardName:(0,x.jsx)(ee,{board:t},"targetBoard")})})}),(0,x.jsx)(h.xu,{paddingY:2,children:(0,x.jsx)(J,{boardName:null!==(o=e.name)&&void 0!==o?o:"",collaboratorCount:e.collaborator_count})})]})}var oe=o(121151);function ne({onConfirm:e,onHide:t,sourceBoard:o,targetBoard:n}){const i=(0,c.ZP)();return(0,x.jsx)(oe.ZP,{accessibilityModalLabel:i._('Confirm Board Merge', 'accessibility label for board merging confirmation modal', 'accessibility label for board merging confirmation modal'),onDismiss:t,heading:i._('Move Pins and delete board?', 'Modal heading for board merging confirmation modal', 'Modal heading for board merging confirmation modal'),role:"dialog",size:"md",footer:(0,x.jsxs)(h.xu,{alignItems:"center",display:"flex",justifyContent:"end",marginStart:-2,marginEnd:-2,children:[(0,x.jsx)(h.xu,{paddingX:2,children:(0,x.jsx)(h.zx,{text:i._('Cancel', 'Cancel button in board merging confirmation modal', 'Cancel button in board merging confirmation modal'),onClick:t})}),(0,x.jsx)(h.xu,{paddingX:2,children:(0,x.jsx)(h.zx,{color:"red",text:i._('Move Pins and delete board', 'Confirm button in board merging confirmation modal', 'Confirm button in board merging confirmation modal'),onClick:()=>e(o,n)})})]}),children:(0,x.jsx)(h.xu,{padding:4,children:(0,x.jsx)(te,{sourceBoard:o,targetBoard:n})})})}var ie=o(274319),se=o(124237),re=o(636803),le=o(466225);function ae({onHide:e}){const t=(0,c.ZP)();return(0,x.jsx)(oe.ZP,{accessibilityModalLabel:t._('Board Merge Error Alert', 'accessibility label for board merging error alert', 'accessibility label for board merging error alert'),onDismiss:e,heading:t._('Oops!', 'Modal heading for board merging confirmation modal', 'Modal heading for board merging confirmation modal'),role:"alertdialog",size:"md",footer:(0,x.jsx)(h.xu,{children:(0,x.jsx)(h.zx,{fullWidth:!0,color:"red",text:t._('Got it', 'ok button in board merging error alert', 'ok button in board merging error alert'),onClick:e})}),children:(0,x.jsx)(h.xu,{padding:4,children:(0,x.jsx)(h.xv,{children:t._('You can\'t move this board because you didn\'t create it.', 'board merging error alert', 'board merging error alert')})})})}function ce({onConfirm:e,onHide:t}){const o=(0,c.ZP)();return(0,x.jsx)(oe.ZP,{accessibilityModalLabel:o._('Warning about overwriting board order', 'Accessible label for the board order overwrite modal', 'Accessible label for the board order overwrite modal'),onDismiss:t,heading:o._('Are you sure?', 'Heading for board order overwriting modal', 'Heading for board order overwriting modal'),role:"alertdialog",size:"md",footer:(0,x.jsxs)(h.xu,{display:"flex",marginStart:-1,marginEnd:-1,justifyContent:"end",children:[(0,x.jsx)(h.xu,{padding:1,children:(0,x.jsx)(h.zx,{fullWidth:!0,size:"lg",text:o._('Cancel', 'Button text for canceling board re-ordering', 'Button text for canceling board re-ordering'),onClick:t})}),(0,x.jsx)(h.xu,{padding:1,children:(0,x.jsx)(h.zx,{fullWidth:!0,size:"lg",color:"red",text:o._('Lose previous customization', 'Button text for confirming board re-ordering', 'Button text for confirming board re-ordering'),onClick:e})})]}),children:(0,x.jsx)(h.xu,{padding:4,children:(0,x.jsx)(h.xv,{children:(0,Q.nk)(o._('You\u2019re about to re-sort your boards. This will lose the custom board order you previously created using {{ dragAndDrop }}', ' - ', ' -- '),{dragAndDrop:(0,x.jsx)(h.xv,{inline:!0,weight:"bold",children:o._('Drag and drop', 'Text for indicating drag and drop sort order', 'Text for indicating drag and drop sort order')},"dragDrop")})})})})}var de=o(558446);class ue extends n.Component{constructor(...e){var t,o,n;super(...e),n={board:null},(o="state")in(t=this)?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n}componentDidMount(){var e;const{invite:t}=this.props,o={board_id:null===(e=t.board)||void 0===e?void 0:e.id,field_set_key:"profile_grid_item"};a.Z.create("BoardResource",o).callGet().then((e=>{this.setState({board:e.resource_response.data})}),(e=>{throw e}))}render(){const{invite:e,layout:t,onDeclineRequest:o,slotIndex:n}=this.props,{board:i}=this.state;return i&&e?(0,x.jsx)(de.Z,{board:i,canEdit:!1,invite:e,isOwnProfile:!1,layout:t,onDeclineRequest:o,onEditClick:e=>{},slotIndex:n,subtitle:null}):null}}const _e=ue;function he(e){const{isOwnProfile:t,layout:o}=e,n=(0,_.Z)(),i=(0,u.Z)({name:"ContactRequestsResource",noCache:!0}),s=(0,u.Z)({name:"BoardInvitesResource",options:{current_user:!0,field_set_key:"news"},noCache:!0}),r=(0,F.m)(o),l="list"===o,a=[];(s.data||[]).forEach((e=>{e.invited_user&&a.push({invited_user:e.invited_user,invited_by_user:e.invited_by_user,board:e.board})}));const c=()=>{s.refresh()};let d=[];if(n.isAuth&&!n.isPartner){d=(i.data||[]).filter((e=>!!e.board&&!!e.created_at&&Date.now()-new Date(e.created_at)<2592e6)).map((e=>({invited_user:e.recipient,invited_by_user:e.sender,board:e.board})))}const h=[...a,...d].slice(0,5);return t&&!l&&h.length>0?h.map(((e,t)=>{var n;return(0,x.jsx)(L,{containerWidth:r,inListView:l,children:(0,x.jsx)(_e,{invite:e,layout:o,onDeclineRequest:c,slotIndex:t})},`invite-card-wrapper-${String(null===(n=e.board)||void 0===n?void 0:n.id)}`)})):null}var pe=o(932995),me=o(875495);const ge={borderColor:"white",WebkitMaskImage:"-webkit-radial-gradient(white, black)"};function fe({index:e,isHovering:t,onImageLoad:o,pinImageObject:{images:n}}){var i,s,r;return(0,x.jsx)(h.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{zIndex:0-e,marginInlineEnd:"-89px"}},children:(0,x.jsx)(h.xu,{position:"relative",height:157,width:118,color:"default",borderStyle:"sm",overflow:"hidden",rounding:4,dangerouslySetInlineStyle:{__style:ge},children:(0,x.jsx)(h.zd,{height:"100%",width:"100%",wash:t,children:n?(0,x.jsx)(h.Ee,{alt:"",src:null!==(i=n["236x"].url)&&void 0!==i?i:"",color:"#696969",fit:"cover",naturalHeight:null!==(s=n["236x"].height)&&void 0!==s?s:1,naturalWidth:null!==(r=n["236x"].width)&&void 0!==r?r:1,onLoad:o}):(0,x.jsx)(h.xu,{height:"100%",width:"100%",color:"secondary"})})})})}var xe=o(10905),be=o(497529);var ve=o(215292),ye=o(780280);function Pe({shoppingListStory:{objects:e,id:t,title:o}}){const{logContextEvent:i}=(0,p.v)(),s=(0,c.ZP)(),{showShoppingListIconEducation:r}=function(){const{experienceForPlacement:e}=(0,be.Z)(19);return{showShoppingListIconEducation:503246===(null==e?void 0:e.experience_id)}}(),l=(0,n.useRef)(),[a,d]=(0,n.useState)(r),u=(0,_.Z)(),m=u.isAuth?u.username:"";(0,n.useEffect)((()=>{i({event_type:170,component:13811,view_type:4,aux_data:{...{story_type:"wishlist_shop_your_products_story",story_id:t}}})}),[i,t]);const g=[...e];for(;g.length<5;)g.push({images:null});const{isRTL:f}=(0,ye.B)();return(0,x.jsxs)(h.xu,{padding:2,position:"relative",children:[a&&(0,x.jsx)(h.mh,{zIndex:new h.Ry(10),children:(0,x.jsx)(h.J2,{anchor:l.current,color:"blue",idealDirection:"up",showCaret:!0,onDismiss:()=>d(!1),positionRelativeToAnchor:!1,size:"xs",children:(0,x.jsx)(h.xu,{padding:4,children:(0,x.jsx)(h.xv,{color:"inverse",align:"center",children:s._('Shop all your saved products in one place', 'Profile.User.Button.Icon.ShoppingList.Tooltip', 'Tooltip explaining shopping list functionality on user own profile')})})})}),(0,x.jsx)(h.iP,{role:"link",href:`/${m}/_shopping_list/`,onTap:()=>{i({event_type:102,component:13811,view_type:4,aux_data:{story_type:"wishlist_shop_your_products_story",story_id:t}})},children:(0,x.jsx)(ve.q,{children:({active:e,focused:t,hovered:n,onMouseEnter:i,onMouseLeave:r,onFocus:l})=>(0,x.jsxs)(h.xu,{onFocus:l,onMouseEnter:i,onMouseLeave:r,children:[(0,x.jsxs)(h.xu,{"aria-hidden":"true",display:"flex",height:157,width:236,rounding:4,children:[g.map(((o,i)=>(0,x.jsx)(fe,{index:i,isHovering:e||n||t,pinImageObject:o},i))),(0,x.jsx)(h.xu,{alignItems:"center",color:"default",display:"flex",height:32,justifyContent:"center",left:!f,marginStart:4,marginTop:4,position:"absolute",right:f,rounding:"circle",top:!0,width:32,children:(0,x.jsx)(xe.Z,{})})]}),(0,x.jsx)(h.xu,{alignItems:"start",display:"flex",padding:2,children:(0,x.jsxs)(h.kC,{alignItems:"start",direction:"column",flex:"grow",justifyContent:"start",overflow:"hidden",children:[(0,x.jsx)(h.X6,{accessibilityLevel:2,size:"400",lineClamp:1,children:o.format}),(0,x.jsx)(h.xu,{alignItems:"center",display:"flex",marginTop:1,children:(0,x.jsx)(h.xv,{size:"100",children:s._('All saved products', 'shoppingListCard.Subtitle.Text', 'Subtitle for shopping list entrypoint card on user profile')})})]})})]})})})]})}var we=o(980750),Ae=o(345221),Ce=o(442279),je=o(935409),Ee=o(583421),Se=o(278380),Ie=o(14890);function Te(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const ze=-1;class ke extends n.PureComponent{constructor(...e){super(...e),Te(this,"state",{activeModal:null,boardIds:[...this.props.boardIds],dropAction:null,previewIndex:ze,sourceIndex:ze,targetIndex:ze}),Te(this,"firstBoardRef",(0,n.createRef)()),Te(this,"container",(0,n.createRef)()),Te(this,"cancelHoverTimeout",(()=>{const e=this.dragHoverTimeout;e&&clearTimeout(e.timeoutId),this.dragHoverTimeout=null})),Te(this,"dragHoverTimeout",null),Te(this,"isDragging",(()=>this.state.sourceIndex!==ze)),Te(this,"handleBoardCardDragBegin",(e=>this.setState({previewIndex:e,sourceIndex:e}))),Te(this,"handleBoardCardDragHover",((e,t)=>{if(!t)return;const{boardIds:o,previewIndex:n}=this.state;if(!this.allowDragging)return;const i=this.allowDragging?(0,Se.TI)({hoverRelativePosition:t,centerEnabled:e!==n}):"center",s={itemIndex:e,regionWithinItem:i};if(this.dragHoverTimeout&&(0,Se.Lz)(s,this.dragHoverTimeout.hoverLocation))return;this.cancelHoverTimeout();const r="center"===i?"merge":"reorder",l=(0,Se.X3)({hoverLocation:s,sourceIndex:n});l!==n?this.dragHoverTimeout={hoverLocation:s,timeoutId:setTimeout((()=>{this.dragHoverTimeout=null,this.setState({dropAction:r,targetIndex:l,..."reorder"===r?{previewIndex:l,boardIds:(0,pe.Z)(o,n,l)}:{}})}),"reorder"===r?200:20)}:l!==this.state.targetIndex&&this.setState({targetIndex:l})})),Te(this,"handleCloseModal",(()=>this.setState({activeModal:null}))),Te(this,"handleBoardCardDragEnd",(e=>{const{boardIds:t,boardMap:o,boardOrder:n,dispatch:i,onBoardReorder:s,viewer:r}=this.props,{boardIds:l,dropAction:c,previewIndex:d,sourceIndex:u,targetIndex:_}=this.state;if(this.cancelHoverTimeout(),this.setState({boardIds:t,previewIndex:ze,sourceIndex:ze,targetIndex:ze}),e&&u!==ze&&_!==ze&&u!==_)if("custom"!==n&&this.setState({activeModal:(0,x.jsx)(ce,{onConfirm:this.handleOverwriteBoardOrder,onHide:this.handleCloseModal})}),"merge"===c){const e=e=>{const t=l[e];return t&&o[t]},t=e(d),n=e(_);if(t&&n){if(t.collaborated_by_me)return void this.setState({activeModal:(0,x.jsx)(ae,{onHide:this.handleCloseModal})});this.setState({activeModal:(0,x.jsx)(ne,{onConfirm:()=>this.handleMergeBoards(t,n),onHide:this.handleCloseModal,sourceBoard:t,targetBoard:n})})}}else if(_<l.length&&u<l.length&&"custom"===n){i(function({boardIds:e,sourceIndex:t,targetIndex:o,username:n}){return i=>{if(!n)return;i((0,me._f)({feedType:"profileBoards",feedId:(0,k.Z)(n,"custom"),itemType:"board",sourceItemId:e[t],targetItemId:e[o]}));const s=(0,pe.Z)(e,t,o);a.Z.create("BoardsReorderResource",{board_ids:s}).callUpdate({showError:!1})}}({boardIds:t,sourceIndex:u,targetIndex:_,username:r.isAuth?r.username:null})),s&&s()}})),Te(this,"handleOverwriteBoardOrder",(()=>{const{updateBoardSortOption:e,viewer:t}=this.props;null==e||e(t.username||"","custom"),a.Z.create("UserMetadataResource",{most_recent_board_sort_order:"custom"}).callUpdate(),this.handleCloseModal()})),Te(this,"handleMergeBoards",((e,t)=>{const{dispatch:o,showBlockingActionToast:n,onBoardDelete:i,logContextEvent:s}=this.props;s({event_type:7172,object_id_str:e.id,aux_data:{merge_flow:"dnd"}}),o((0,je.xH)(e.id,t.id)).then((()=>n({actionType:"merge",board:t}))).catch((e=>{se.Z.showError(e.message||this.props.i18n._('Failed to merge boards', 'Error message when failed to merge boards', 'Error message when failed to merge boards'))})),i(e.id),this.handleCloseModal()})),Te(this,"renderBoards",(()=>{var e,t;const{allPinsStory:o,boardOrder:i,boardMap:s,boardVisibility:r,viewer:l,isOwnProfile:a,isDragWithinBounds:c,layout:d,onBoardArchiveChange:u,onBoardDelete:_,onBoardPrivacyChange:h,onBoardUpdate:p,onBoardLeave:m,shoppingListStory:g,allowShoppingControls:f}=this.props,{activeModal:b,boardIds:v}=this.state,y=(0,F.m)(d),P="list"===d,w=!o||!f||(null==r||null===(e=r.data)||void 0===e?void 0:e.show_all_pins),A=!g||!f||(null==r||null===(t=r.data)||void 0===t?void 0:t.eligible_for_wishlist)&&r.data.show_shopping_list;return(0,x.jsxs)(n.Fragment,{children:[(0,x.jsxs)(M.Z,{...P?{}:{itemWidth:y},maxColumns:P?0:12,children:[w&&o&&(0,x.jsx)(q,{boardOrder:i,allPinsStory:o}),A&&g&&!l.isLimitedLogin&&(0,x.jsx)(Pe,{shoppingListStory:g}),!l.isLimitedLogin&&(0,x.jsx)(he,{isOwnProfile:a,layout:d}),v.map((e=>s[e])).filter(Boolean).map(((e,t)=>{const o=(0,x.jsx)(R.Z,{board:e,boardOrder:i,forwardedRef:0===t?this.firstBoardRef:void 0,isOwnProfile:a,isReordering:this.isDragging(),layout:d,onBoardArchiveChange:u,onBoardDelete:()=>_(e.id),onBoardLeave:m,onBoardPrivacyChange:h,onBoardUpdate:p,slotIndex:t});return(0,x.jsx)(L,{containerWidth:y,inListView:P,semiTransparent:this.isDragging()&&!c,children:this.allowDragging?(0,x.jsx)(Ee.Z,{index:t,onDragBegin:this.handleBoardCardDragBegin,onDragEnd:this.handleBoardCardDragEnd,onDragHover:this.handleBoardCardDragHover,type:Ee.y.Board,children:o}):o},`main-card-wrapper-${e.id}`)}))]}),(0,x.jsx)(re.Z,{anchors:{3008:this.firstBoardRef.current},placementId:19,positionRelativeToAnchor:!1}),b]})}))}componentDidUpdate(e){e.boardIds.join(",")!==this.props.boardIds.join(",")&&this.setState({boardIds:[...this.props.boardIds],dropAction:null,previewIndex:ze,sourceIndex:ze,targetIndex:ze})}componentWillUnmount(){this.cancelHoverTimeout()}get allowDragging(){const{isOwnProfile:e,isOverview:t}=this.props;return e&&!t}render(){const{connectDropTarget:e,boardOrder:t,layout:o}=this.props;return(0,x.jsxs)(h.xu,{ref:this.container,children:["list"===o&&(0,x.jsx)(B,{headerLabel:["newest","oldest"].includes(t)?this.props.i18n._('Created on', 'Profile board list view heading label', 'Profile board list view heading label'):this.props.i18n._('Last saved to', 'Profile board list view heading label', 'Profile board list view heading label')}),this.allowDragging&&e?(0,x.jsxs)(n.Fragment,{children:[e((0,x.jsx)("div",{children:this.renderBoards()})),this.isDragging()&&(0,x.jsx)(ie.Z,{})]}):this.renderBoards()]})}}const De=(0,Ie.compose)((0,Ae.Z)(Ee.y.Board),(0,y.connect)((0,Ce.zB)({boardMap:e=>e.boards}),(()=>({}))))((function(e){var t;const o=(0,c.ZP)(),n=(0,_.Z)(),{logContextEvent:i}=(0,p.v)(),s=(0,y.useDispatch)(),r=null===(t=(0,f.x)())||void 0===t?void 0:t.updateBoardSortOrder,l=(0,we.Z)(),a=!0===e.isOwnProfile,{checkExperiment:d}=(0,m.F)(),h=a?d("web_shopping_list_controls").group:"",g=(0,le.Z)(h),b=!g||"enabled_pwt"===h,v=(0,u.Z)({name:"UserResource",options:{username:n.username||"",field_set_key:"board_visibility"},dangerouslyDisableFetch:!g});return(0,x.jsx)(ke,{...e,allowShoppingControls:!b,boardVisibility:g?v:void 0,i18n:o,logContextEvent:i,showBlockingActionToast:l,updateBoardSortOption:r,viewer:n,dispatch:s})}));function Re({allPinsStory:e,boardIds:t,boardOrder:o,group:n,isOverview:i,isOwnProfile:s,isPartner:r,onBoardChange:l,onBoardGroupChange:a,profileBoardView:c,showCreatorProfile:d,shoppingListStory:u}){if("archived"===n)return(0,x.jsx)(Z,{boardIds:t,layout:c,onBoardArchiveChange:a,onBoardDelete:l,showCreatorProfile:d});const _=(0,x.jsx)(De,{allPinsStory:e,boardIds:t,boardOrder:o,isOverview:i,isOwnProfile:s,layout:c,onBoardArchiveChange:a,onBoardDelete:l,onBoardLeave:e=>a(),onBoardPrivacyChange:a,onBoardReorder:l,onBoardUpdate:l,showCreatorProfile:d,shoppingListStory:u});return"unlabeled"===n?_:(0,x.jsxs)(h.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#f7f7f7"}},marginBottom:6,marginTop:6,overflow:"hidden",children:[(0,x.jsx)(W,{type:n}),_]})}var Oe=o(406379);function Le({fetchMore:e,isAtEnd:t,isFetching:o}){return(0,x.jsx)(h.gr,{fetchMore:e,isAtEnd:t,isFetching:o})}var Be=o(430323),Me=o(829407),Fe=o(969853),Ne=o(112690),Ze=o(968328),Ue=o(527885),Ge=o(414327),He=o(276602);function Ve(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function We({isAtEndOfFeed:e}){return(0,Fe.Z)({isAtEndOfFeed:e,includeBackgroundImages:!0}),null}class $e extends n.PureComponent{constructor(...e){super(...e),Ve(this,"state",{boardsResourceAnnotationAdded:!1}),Ve(this,"feedIsStale",!1),Ve(this,"handleBoardChanged",(()=>{this.feedIsStale=!0})),Ve(this,"handleBoardGroupChange",(()=>this.props.boardsResource.refresh()))}componentDidUpdate(e){const{boardsResource:t}=this.props;t.isLoaded&&(e.boardsResource.data||[]).length>(t.data||[]).length&&window.scroll(0,0)}static getDerivedStateFromProps(e,t){const{boardsResource:o,pwtSurfaceContext:n}=e,{boardsResourceAnnotationAdded:i}=t;return o.isLoaded&&n&&!i?(n.addAnnotation("profileBoards.boardsResourceLoaded"),{boardsResourceAnnotationAdded:!0}):null}componentWillUnmount(){const{invalidateFeeds:e}=this.props;this.feedIsStale&&e()}renderAllBoardsGroups(e){const{boardOrder:t,boardlessPinsNormalized:o,boardsResource:n,filterStories:i,isOwnProfile:s,isOverview:r,mixPublicSecret:l,profileBoardView:a,user:c}=this.props,{is_partner:d,show_creator_profile:u}=c,_=!i&&n.data&&n.data.length>0&&"all_pins"===n.data[0].story_type?n.data[0]:null,p=!i&&n.data?n.data.find((e=>"wishlist_shop_your_products_story"===e.story_type?e:null)):null,m=_&&1===(n.data||[]).length;if((n.data||[]).length>0&&0===e.length&&!m&&!p)return(0,x.jsx)(h.xu,{padding:6,children:(0,x.jsx)(h.$j,{accessibilityLabel:this.props.i18n._('Boards', 'profileBoards.spinner', 'List of boards on the users profile page'),show:!0})});const g=(o||[]).length>0;if(0===e.length&&!m&&!g)return(0,x.jsx)(Oe.Z,{fullName:c.full_name,isOwnProfile:s,isPartnerProfile:d});const f=function(e,t){return e.reduce(((e,{id:o,profileGroup:n})=>{let i;return i="public"===n||t&&"secret"===n?{unlabeled:e.unlabeled.concat([o])}:{[n]:e[n].concat([o])},{...e,...i}}),{unlabeled:[],protected:[],secret:[],archived:[]})}(e,l),b=["protected","secret","archived"].filter((e=>f[e].length>0)),v=i?a:"square";return g&&m?null:(0,x.jsx)(h.xu,{marginTop:"list"===a?6:-2,overflow:"hidden",children:["unlabeled"].concat(s&&!r?b:[]).map((e=>(0,x.jsx)(Re,{allPinsStory:"unlabeled"===e&&"story"===(null==_?void 0:_.type)?_:null,boardIds:f[e],boardOrder:t,group:e,isOverview:!!r,isOwnProfile:s,isPartner:!!d,onBoardChange:this.handleBoardChanged,onBoardGroupChange:this.handleBoardGroupChange,profileBoardView:v,showCreatorProfile:!!u,shoppingListStory:"unlabeled"===e&&"story"===(null==p?void 0:p.type)?p:null},e)))})}render(){var e;const{boardKeys:t,i18n:o,isBoardlessProfileEnabled:n,isOwnProfile:i,isOverview:s,boardlessPinsNormalized:r,boardlessPinsResource:l,boardsResource:a,user:c}=this.props,{data:d,isFetching:u,isLoaded:_,isAtEnd:p,fetchMore:m}=a,{isLoaded:g,isAtEnd:f}=l||{},b=!!d&&d.length>0&&"all_pins"===d[0].story_type,v=!!d&&d.length>0&&("wishlist_shop_your_products_story"===d[0].story_type||"wishlist_shop_your_products_story"===(null===(e=d[1])||void 0===e?void 0:e.story_type)),y=!!d&&((b||v)&&d.length>1||!b&&d.length>0),P=n?g&&_:_,w=n?f&&p:p;return(0,x.jsx)(Be.Z,{component:209,view:4,viewParameter:i?3106:3107,children:(0,x.jsxs)(h.xu,{children:[_&&this.renderAllBoardsGroups(s?t.slice(0,6):t),(0,x.jsx)(h.xu,{padding:u?6:0,children:(0,x.jsx)(h.$j,{accessibilityLabel:o._('Boards', 'List of boards on the users profile page', 'List of boards on the users profile page'),show:u})}),_&&!s&&(0,x.jsx)(Le,{fetchMore:m,isAtEnd:p,isFetching:u}),P&&(0,x.jsx)(We,{isAtEndOfFeed:w}),(r||[]).length>0&&(null==l?void 0:l.data)&&(0,x.jsx)(z,{boardlessPinsNormalized:r,boardlessPinsResource:l,hasBoards:y,isOwnProfile:i,userId:c.id})]})})}}Ve($e,"defaultProps",{boardKeys:[]});const Ye=(0,y.connect)((0,Ce.P1)([D],(e=>({boardKeys:(e||[]).reduce(((e,t)=>e.concat("board"===t.type&&t.onProfile?[t]:[])),[])}))),(()=>({})))((function(e){const t=(0,c.ZP)(),{id:o}=e.user,n=(0,_.Z)(),i=n.isAuth?n.username:"",s=(0,d.Z)(),r=(0,g.lJ)(n,s),l=(0,f.x)(),a=e.isOverview||e.inActivityView?"xxWide":e.isOwnProfile&&(null==l?void 0:l.profileBoardView)||"wide",{showEnabledSaveBehavior:h}=(0,Ze.ZP)(o),p=(0,u.Z)({name:Ue.O.name,options:Ue.O.options(e,r)}),m=(0,u.Z)({name:"BoardlessPinsResource",options:{redux_normalize_feed:!0,userId:o},dangerouslyDisableFetch:!h}),b=(0,y.useSelector)((({feeds:e})=>e[`boardlessPins:${o}`]))||[],v=(0,y.useDispatch)(),P=(0,Ne.Z)();return(0,Me.Z)((()=>{P({event_type:13,view_parameter:e.isOwnProfile?3106:3107,view_type:4,component:209})})),(0,x.jsx)($e,{...e,boardlessPinsNormalized:b,boardlessPinsResource:m,boardsResource:p,i18n:t,invalidateFeeds:()=>v((0,je.K8)(i)),invalidatePinBetterSaveResource:()=>v((0,Ge.jB)("BoardPickerBoardsResource",{field_set_key:"board_picker"})),isBoardlessProfileEnabled:h,profileBoardView:a,pwtSurfaceContext:(0,He.EV)(),requestContext:(0,ye.B)()})}));var Ke=o(80816);const qe={ALL_PINS_VISIBILITY_SWITCH:12787,SHOPPING_LIST_VISIBILITY_SWITCH:12788};function Xe({setVisibilityControlsModalOpen:e}){const{logContextEvent:t}=(0,p.v)(),o=(0,c.ZP)(),i=(0,ye.B)(),s=(0,_.Z)(),{data:r,isFetching:l,refresh:d}=(0,u.Z)({name:"UserResource",options:{user_id:s.isAuth?s.id:"",field_set_key:"board_visibility"}}),{show_all_pins:m=!1,show_shopping_list:g=!1,eligible_for_wishlist:f=!1}=r||{},[b,v]=(0,n.useState)(!1),[y,P]=(0,n.useState)(!1);(0,n.useEffect)((()=>v(m)),[m]),(0,n.useEffect)((()=>P(g)),[g]);const w=async(e,o,n,i)=>{t({event_type:101,view_type:4,view_parameter:3689,element:qe[i]}),n(e),await a.Z.create("UserSettingsResource",{[o]:e,surface_tag:Ke.i.HOLISTIC_PROFILE_PROMPT}).callUpdate(),await d()},A=i.isRTL,C=(0,x.jsx)(h.hU,{accessibilityLabel:o._('Close', 'profileBoardsPage.visibilityControlsModal.close', 'Accessibility string that describes the close icon button to close the modal that controls board visibility on profile'),icon:"cancel",iconColor:"darkGray",onClick:()=>e(!1),size:"md"});return(0,n.useEffect)((()=>{t({event_type:13,view_type:4,view_parameter:3689})}),[t]),(0,x.jsx)(oe.ZP,{heading:(0,x.jsx)(h.xu,{padding:8,children:(0,x.jsxs)(h.kC,{alignItems:"center",children:[A&&C,(0,x.jsx)(h.kC.Item,{flex:"grow",children:(0,x.jsx)(h.X6,{align:"center",size:"500",children:o._('Manage visibility', 'profileBoardsPage.visibilityControlsModal.heading', 'Title on the modal to control board visibility on profile')})}),!A&&C]})}),accessibilityModalLabel:o._('Edit board visibility', 'profileBoardsPage.visibilityControlsModal.accessibilityModalLabel', 'Accessibility string that describes the modal to control board visibility on profile'),onDismiss:()=>e(!1),children:(0,x.jsxs)(h.xu,{paddingX:8,marginBottom:8,children:[(0,x.jsx)(h.__,{htmlFor:"show_all_pins",children:(0,x.jsx)(h.X6,{accessibilityLevel:3,size:"400",children:o._('Show All Pins', 'profileBoardsPage.visibilityControlsModal.accessibilityModalLabel.showAllPins.label', 'Title of the switch to control all pins board visibility on profile')})}),(0,x.jsxs)(h.xu,{display:"flex",marginTop:1,marginBottom:8,children:[(0,x.jsx)(h.xu,{marginEnd:2,children:(0,x.jsx)(h.xv,{color:"subtle",children:o._('All Pins will be publicly visible to you and others when viewing your profile', 'profileBoardsPage.visibilityControlsModal.accessibilityModalLabel.showAllPins.explanation', 'Describes the switch to control all pins board visibility on profile')})}),(0,x.jsx)(h.rs,{id:"show_all_pins",switched:b,disabled:l,onChange:({value:e})=>{w(e,"show_all_pins",v,"ALL_PINS_VISIBILITY_SWITCH")}})]}),f&&(0,x.jsxs)(n.Fragment,{children:[(0,x.jsx)(h.__,{htmlFor:"show_shopping_list",children:(0,x.jsx)(h.X6,{accessibilityLevel:3,size:"400",children:o._('Show Your shopping list', 'profileBoardsPage.visibilityControlsModal.accessibilityModalLabel.showShoppingList.label', 'Title of the switch to control shopping list board visibility on profile')})}),(0,x.jsxs)(h.xu,{display:"flex",marginTop:1,children:[(0,x.jsx)(h.xu,{marginEnd:2,children:(0,x.jsx)(h.xv,{color:"subtle",children:o._('Your shopping list will only be visible to you when viewing your own profile', 'profileBoardsPage.visibilityControlsModal.accessibilityModalLabel.showShoppingList.explanation', 'Describes the switch to control shopping list board visibility on profile')})}),(0,x.jsx)(h.rs,{id:"show_shopping_list",switched:y,disabled:l,onChange:({value:e})=>{w(e,"show_shopping_list",P,"SHOPPING_LIST_VISIBILITY_SWITCH")}})]})]})]})})}var Qe=o(259986),Je=o(222815),et=o(344676),tt=o(830944),ot=o(276775),nt=o(946984),it=o(134679);function st({currentTab:e}){const t=(0,c.ZP)(),[o,i]=(0,n.useState)(!1),s=(0,ot.k6)(),r=(0,y.useDispatch)(),l=(0,_.Z)(),a=(0,d.Z)(),u=(0,g.lJ)(l,a),h=(0,nt.Z)({shouldStopEventPropagation:!1}),{logContextEvent:m}=(0,p.v)(),f=h((()=>{i(!0)})),b=h((e=>{const t=u&&(0,tt.Z)(e.privacy)?`?orbac_subject_id=${u}`:"";r((0,Ge.jB)("BoardPickerBoardsResource",{field_set_key:"board_picker"})),s.push(`${e.url||""}${t}`,{newBoard:!0})})),v=h((()=>{s.push("/pin-builder/")})),P=h((()=>{m({event_type:101,component:13056,element:10949,view_type:4,view_parameter:3106,aux_data:{entry_type:"profile_plus_button"}}),s.push({pathname:"/idea-pin-builder/",state:{entry_type:"profile_plus_button"}})}));return(0,x.jsxs)(n.Fragment,{children:[(0,x.jsx)(Je.Z,{onCreateBoard:f,onCreatePin:v,onCreateStoryPin:P,surface:e===it.u.PINS?"profilePins":"profileBoards",children:({active:o,openFlyout:n})=>(0,x.jsx)(Qe.Z,{accessibilityLabel:e===it.u.PINS?t._('Create a Pin', 'profileHeader.actionBar.createButtonPin', 'Accessibility label for button to open Create menu'):t._('Create a Pin or a board', 'profileHeader.actionBar.createButton', 'Accessibility label for button to open Create menu'),icon:"add",onClick:n,selected:o})}),o&&(0,x.jsx)(et.Z,{onBoardCreate:b,onClose:()=>i(!1)})]})}function rt({username:e}){var t,o;const l=(0,ye.B)(),{checkExperiment:a}=(0,m.F)(),c=(0,_.Z)(),p=(0,d.Z)(),b=(0,n.useRef)(null),[,y]=(0,n.useState)(!1);(0,n.useLayoutEffect)((()=>{y(!0)}),[]);const{group:P}=a("web_shopping_list_controls",{dangerouslySkipActivation:!0}),w="enabled"===P,{anyEnabled:A}=a("web_m10n_business_access_orbac_ga"),[C,j]=(0,n.useState)(!1),E=null!==(t=null===(o=(0,f.x)())||void 0===o?void 0:o.boardSortOrder.get(e||""))&&void 0!==t?t:"",{data:S}=(0,K.Z)(),{data:I}=(0,u.Z)({name:"UserMetadataResource",options:{user:{id:e}}});if(!S||!I)return null;const{most_recent_board_sort_order:T}=I,{has_custom_board_sorting_order:z=!1}=S,k=(0,r.Z)({user:S,viewer:c}),D=(0,g.q6)(c,S.id,p),R=s({hasCustomOrder:z,hasGroupBoard:void 0!==c.groupBoardCount&&c.groupBoardCount>0,isOwnProfile:k||A&&D,mostRecentBoardSortOrder:T||void 0,updatedBoardOrder:E,requestContext:l});return(0,x.jsxs)(h.kC,{direction:"column",gap:{row:0,column:2},children:[(0,x.jsx)(h.xu,{paddingX:4,children:(0,x.jsxs)(h.kC,{justifyContent:"between",children:[(k||A&&D)&&(0,x.jsx)(h.xu,{ref:b,children:(0,x.jsx)(v,{user:S,setVisibilityControlsModalOpen:j})}),(k||D)&&(0,x.jsx)(st,{currentTab:it.u.SAVED})]})}),(0,x.jsx)(Ye,{boardOrder:R,filterStories:!1,isOwnProfile:k||A&&D,mixPublicSecret:k||D,user:S,username:S.username}),C&&(0,x.jsx)(Xe,{setVisibilityControlsModalOpen:j}),w&&(0,x.jsx)(i.default,{anchor:b.current,placementId:19,experienceIds:[504098],idealDirection:"down",showCaret:!0,textAlign:"center",textWeight:"normal",onClickComplete:()=>j(!0)})]})}var lt=o(357805);function at(){const{data:e}=(0,K.Z)(),t=(0,ot.$B)();return(0,lt.S)(t.params.username,null==e?void 0:e.id,13669),(0,x.jsx)(rt,{username:t.params.username})}},727082:(e,t,o)=>{o.r(t),o.d(t,{default:()=>Ze});var n=o(667294),i=o(898781),s=o(678030),r=o(883119),l=o(785893);function a({setInitialSection:e,sheetOpen:t,setSheetOpen:o}){const a=(0,n.useRef)(null),c=(0,i.ZP)(),d=(0,l.jsx)(r.zx,{accessibilityLabel:c._('Product group controls edit button', 'Profile.User.Button.Icon.Product.Group.Controls', 'Edit icon button for product group control sheet on merchant profile'),text:c._('Edit shop', 'Profile.User.Button.Text.Product.Group.Controls', 'Edit shop text next to edit button for product group control sheet on merchant profile'),onClick:()=>{e(s.vW.SectionEditYourShop),o(!t)},size:"lg"});return(0,l.jsx)(n.Fragment,{children:(0,l.jsx)(r.xu,{ref:a,children:d})})}var c=o(704115),d=o(375571),u=o(66699),_=o(499128),h=o(708032),p=o(36675),m=o(794230),g=o(966113),f=o(741982);function x({onClick:e,text:t}){const{merchantStorefrontSettings:{currentViewingLocale:{feedProfileId:o}}}=(0,f.S)(),n=o&&""!==o?`${g.Z.settings.SHOPPING_CATALOGS_DATA_SOURCE_URL}${o}/product-groups/create/`:g.Z.settings.SHOPPING_CATALOGS_DATA_SOURCE_URL,i=(0,m.Z)(n,{from:"storefront"});return(0,l.jsx)(r.kC,{alignItems:"stretch",justifyContent:"center",children:(0,l.jsx)(r.zx,{role:"link",href:i,rel:"none",onClick:e,size:"lg",text:t})})}var b=o(600224),v=o(306732),y=o(91214),P=o(677581),w=o(934523),A=o(349700),C=o(645015),j=o(407043);const E=()=>{const{logContextEvent:e}=(0,j.v)(),t=(0,i.ZP)();return(0,l.jsx)(n.Fragment,{children:(0,l.jsxs)(r.xu,{marginTop:-4,marginBottom:6,children:[(0,l.jsx)(r.xu,{marginBottom:2,children:(0,l.jsx)(r.xv,{size:"300",inline:!0,children:t._('Highlight the products you want shoppers to see first. Customize your product group display name, image and description for your existing product groups or create a new one to feature.', 'merchantStorefront.ProductGroupControls.subheader.text', 'Text for explaining the purpose of the product group controls sheet')})}),(0,l.jsxs)(r.kC,{direction:"row",justifyContent:"between",alignItems:"center",children:[(0,l.jsx)(b.Z,{}),(0,l.jsx)(r.xu,{children:(0,l.jsx)(x,{onClick:()=>e({event_type:9866,component:14001}),text:t._('Create product group', 'Storefront.ProductGroupControls.CreateProductGroup.button', 'Button to create product group from catalogs page')})})]})]})})},S=({featuredGroups:e=[],recommendedGroups:t=[],customGroups:o=[],checkedGroups:s=[],setSelectedGroup:a})=>{const{logContextEvent:c}=(0,j.v)(),d=(0,i.ZP)(),u=(e,t,o,n,i)=>{const u=s.includes(t),_=[v.EK.FEATURING,v.EK.FEATURED,v.EK.CAN_FEATURE].includes(i);return(0,l.jsx)(r.xu,{width:"100%",height:91,marginTop:4,marginBottom:4,borderStyle:"shadow",padding:2,rounding:5,children:(0,l.jsxs)(r.kC,{justifyContent:"start",alignItems:"center",children:[(0,l.jsx)(r.xu,{column:2,children:(0,l.jsx)(r.zd,{rounding:4,wash:!0,height:79,width:79,children:(0,l.jsx)("img",{alt:d._('product group cover image', 'merchantStorefront.ProductGroupControls.body.card.image', 'The cover image for a product group'),src:null==o?void 0:o.url})})}),(0,l.jsx)(r.xu,{column:7,padding:4,children:(0,l.jsxs)(r.kC,{justifyContent:"start",alignItems:"center",children:[(0,l.jsx)(r.X6,{size:"400",lineClamp:1,color:_?"default":"subtle",children:e}),!_&&(0,l.jsx)(r.xu,{padding:2,children:(0,l.jsx)(r.u,{text:(0,P.O)(i,d),idealDirection:"right",children:(0,l.jsx)(r.JO,{accessibilityLabel:d._('An exclamation point alert icon indicating issues, described on a tooltip', 'merchantStorefront.productGroupControlsSheet.ProductGroupCard.icon.accessibiltyLabel', 'The accessibility label for alert icon'),color:"subtle",icon:"alert",size:24})})})]})}),(0,l.jsx)(r.xu,{column:4,padding:4,children:(0,l.jsx)(r.xv,{size:"300",align:"forceRight",color:"subtle",children:(0,A.nk)(d.ngettext('{{productCount}} product', '{{productCount}} products', n, 'merchantStorefront.ProductGroupControls.ProductGroupCard.productCount', 'Number of products in a product group'),{productCount:n})})}),(0,l.jsx)(r.xu,{padding:2,column:1,children:(0,l.jsx)(r.XZ,{checked:u,id:t,label:"",name:e,disabled:!_,onChange:({checked:e})=>{a(t,e);c({event_type:e?9864:9865,component:14e3})}})})]})},t)};return(0,l.jsx)(n.Fragment,{children:(0,l.jsxs)(r.xu,{marginTop:4,children:[e&&e.length>0&&(0,l.jsxs)(r.xu,{marginTop:2,marginBottom:2,children:[(0,l.jsx)(r.X6,{size:"400",children:d._('Featured', 'merchantStorefront.ProductGroupControls.body.header.featured', 'Text indicating the product groups shown are currently being featured')}),e.map((e=>u(e.name,e.id,e.image,e.count,e.featureStatus)))]}),(0,l.jsx)("br",{}),t&&t.length>0&&(0,l.jsxs)(r.xu,{marginTop:2,marginBottom:2,children:[(0,l.jsx)(r.X6,{size:"400",children:d._('Recommended for you', 'merchantStorefront.ProductGroupControls.body.header.recommended', 'Text indicating the product groups shown are recommended groups')}),t.map((e=>u(e.name,e.id,e.image,e.count,e.featureStatus)))]}),(0,l.jsx)("br",{}),o&&o.length>0&&(0,l.jsxs)(r.xu,{marginTop:2,marginBottom:2,children:[(0,l.jsx)(r.X6,{size:"400",children:d._('Your custom product groups', 'merchantStorefront.ProductGroupControls.body.header.custom', 'Text indicating the product groups shown are custom groups')}),o.map((e=>u(e.name,e.id,e.image,e.count,e.featureStatus)))]})]})})},I=({isLoading:e=!1,onDismiss:t,onSave:o,featuredGroups:s=[],recommendedGroups:a=[],customGroups:c=[]})=>{const d=(0,i.ZP)(),u=new r.H3([new r.Ry(y.HW),new r.Ry(w.fe)]),[_,h]=(0,n.useState)([]),[p,m]=(0,n.useState)([]);(0,n.useEffect)((()=>{if(!e){const e=s.map((({id:e})=>e));h(e),m(e)}}),[s,e]);return(0,l.jsx)(r.mh,{zIndex:u,children:(0,l.jsx)(r.yo,{accessibilityDismissButtonLabel:d._('Close storefront product group controls sheet', 'merchantStorefront.ProductGroupControls.accessibilityDismissButtonLabel', 'Accessibility text for dismissing storefront product group sheet'),accessibilitySheetLabel:d._('Product group controls for merchant storefront', 'merchantStorefront.ProductGroupControls.accessibilitySheetLabel', 'Accessibility text for opening storefront product group controls sheet'),heading:d._('Feature product groups', 'merchantStorefront.ProductGroupControls.title', 'Title for storefront product group controls sheet'),onDismiss:t,footer:({onDismissStart:e})=>(0,l.jsxs)(r.kC,{direction:"row",justifyContent:"between",alignItems:"center",children:[(0,l.jsx)(r.xu,{children:(0,l.jsx)(r.xv,{size:"300",weight:"bold",inline:!0,children:(0,A.nk)(d.ngettext('{{checkedCount}} product group selected', '{{checkedCount}} product groups selected', p.length, 'merchantStorefront.ProductGroupControls.changest', 'Tracks how many product groups were selected to edit'),{checkedCount:p.length})})}),(0,l.jsx)(r.xu,{children:(0,l.jsxs)(r.hE,{children:[(0,l.jsx)(r.zx,{color:"gray",text:d._('Cancel', 'merchantStorefront.ProductGroupControls.cancel', 'Cancel storefront product group changes'),onClick:e}),(0,l.jsx)(r.zx,{color:"red",disabled:(0,C.WU)(_,p),text:d._('Save', 'Storefront.ProductGroupControls.save', 'Save storefront product group changes'),onClick:()=>{o(p)}})]})})]}),size:"md",children:e?(0,l.jsx)(r.$j,{show:!0,accessibilityLabel:"loading"}):(0,l.jsxs)(r.xu,{children:[(0,l.jsx)(E,{}),(0,l.jsx)(S,{featuredGroups:s,customGroups:c,recommendedGroups:a,checkedGroups:p,setSelectedGroup:(e,t)=>{m(t?[...p,e]:p.filter((t=>t!==e)))}})]})})})};var T=o(384606),z=o(343341),k=o(400264);function D({onDismiss:e}){const{logContextEvent:t}=(0,j.v)(),o=(0,i.ZP)(),{merchantStorefrontSettings:{currentViewingLocale:{country:s,language:r,feedProfileId:a}},updateStorefrontLastUpdated:c}=(0,f.S)(),{isLoaded:d,userId:m,settings:g,refresh:x}=(0,T.LO)(),{showOneToast:b}=(0,z.F9)(),v=(0,k.G7)({feedProfileId:a}),y=v.data||[],P=(0,k.Ib)({feedProfileId:a}),w=P&&P.data||[];(0,n.useEffect)((()=>{t({event_type:9861,component:14e3})}),[t]);const A=d&&P.isLoaded&&!P.isFetching&&v.isLoaded&&!v.isFetching,{featuredGroups:E,customGroups:S,recommendedGroups:D}=((e,t)=>{const o=[],n=[],i=[],s=[];return e&&t?(t.forEach((o=>{const n=e.find((e=>String(e.id)===o.id)),i={};i.name=o.name,i.id=o.id,i.image=o.preview_pins&&o.preview_pins[0]&&o.preview_pins[0].images&&o.preview_pins[0].images["170x"],i.isFeatured=!!o.featured_position,i.count=n&&n.product_count?n.product_count:0,i.isCustom="MERCHANT_CREATED"===o.group_type,i.featureStatus=(0,h._c)(t,i.id,""),s.push(i)})),s.forEach((e=>{e.isFeatured?o.push(e):e.isCustom?n.push(e):i.push(e)})),{featuredGroups:o,recommendedGroups:i,customGroups:n}):{featuredGroups:o,customGroups:n,recommendedGroups:i}})(w,y);return(0,l.jsx)(I,{isLoading:!A,onDismiss:()=>{e(),t({event_type:9863,component:14e3})},onSave:async n=>{const i=(0,C.mV)(n,(0,C.S8)(y)),d={countrySetting:s,languageSetting:r,settings:g,userId:m,feedProfileId:a};try{await(0,C.YY)(d,i),t({event_type:9862,component:14e3}),e(),b((({hideToast:e})=>(0,l.jsx)("div",{className:"ProductGroupsSavedToast",children:(0,l.jsx)(_.ZP,{duration:C.QE,onHide:e,text:o._('Product groups saved! Drag to reorder.', 'MerchantStorefront.ProductGroupControls.pgSaved', 'toast text')})}))),P.refresh(),v.refresh(),x(),c((new Date).getTime())}catch(h){b((({hideToast:e})=>(0,l.jsx)("div",{className:"ProductGroupsSavedToast",children:(0,l.jsx)(_.ZP,{duration:C.QE,onHide:e,variant:"error",text:(0,u.Z)(o._('Failed to save or feature product groups. You can select up to {{ maxFeaturedPGs }} product groups to feature on your business profile.', 'MerchantStorefront.ProductGroupControls.error', 'toast text for product group error message'),{maxFeaturedPGs:`${p.Bm}`})})})))}},featuredGroups:E,customGroups:S,recommendedGroups:D})}var R=o(497997),O=o(773285);const L=(0,n.lazy)((()=>o.e(21209).then(o.bind(o,521209))));function B({initialSection:e,onDismiss:t,refreshStorefront:o,sheetOpen:i}){const s=(0,O.F)().checkExperiment("storefront_i2pc_merchant_controls").anyEnabled;return(0,l.jsxs)(n.Fragment,{children:[!s&&i&&(0,l.jsx)(D,{onDismiss:t}),s&&i&&(0,l.jsx)(d.Z,{name:"SafeSuspense_DesktopApp_ProductGroupControlsV2",children:(0,l.jsx)(R.Z,{children:(0,l.jsx)(L,{onDismiss:t,refreshStorefront:o,initialSection:e})})})]})}var M=o(57636),F=o(564194),N=o(333312),Z=o(499385),U=o(180603),G=o(925491);function H(e){const{children:t,footer:o,title:n,dataTestId:i,action:s}=e;return(0,l.jsxs)(r.xu,{marginBottom:10,paddingX:4,"data-test-id":i,children:[!!n&&(0,l.jsxs)(r.kC,{alignItems:"center",justifyContent:"center",children:[(0,l.jsx)(r.X6,{size:"500",children:n}),s]}),t,o]})}var V=o(149230);function W({onClick:e,text:t,url:o}){const n=(0,V.Z)({url:o})?"nofollow":"none";return(0,l.jsx)(r.kC,{alignItems:"stretch",justifyContent:"center",children:(0,l.jsx)(r.zx,{role:"link",href:o,rel:n,onClick:e,size:"lg",text:t})})}var $=o(829407),Y=o(81667);function K({bubble:e,slotIndex:t,storyId:o,viewParameter:n,source:i,title:s}){const{logContextEvent:r}=(0,j.v)();(0,$.Z)((()=>{Z.Z.StructuredFeed.Categories.viewCategory({id:o,source:i,title:s,bubble:e},r)}));return(0,l.jsx)(M.Z,{bubble:e,height:Y.CT,onClick:()=>Z.Z.StructuredFeed.Categories.tapCategory({id:o,source:i,title:s,bubble:e},r),referringSource:"merchantStorefront",slotIndex:t,storyId:o,viewParameter:n,viewType:4,width:Y.Fl})}function q({productGroup:e,index:t,merchantName:o,source:n}){const{logContextEvent:i}=(0,j.v)();(0,$.Z)((()=>{Z.Z.StructuredFeed.ProductGroups.viewProductGroup({productGroupId:e.id,source:n,groupType:e.group_type,componentType:14091},i)}));return(0,l.jsx)(U.Z,{onClick:()=>Z.Z.StructuredFeed.ProductGroups.tapProductGroup({productGroupId:e.id,source:n,groupType:e.group_type,componentType:14091,index:t},i),productGroup:e,url:`/${o}/_shop/${e.id}/?section=${s.$B.CATEGORY}`})}function X(e){const{logContextEvent:t}=(0,j.v)(),o=(0,i.ZP)(),{exploreArticles:a,productGroupCategories:c,source:d,viewParameter:u,merchantName:_,setInitialSection:h,sheetOpen:p,setSheetOpen:g}=e,f=(0,O.F)().checkExperiment("storefront_i2pc_merchant_controls").anyEnabled,x=(0,T.N0)()&&f,b=(0,n.useRef)(null);if(!c&&!a)return null;const v=c||a||{},{footer:y,id:P,title:w}=v,A=y&&(0,l.jsx)(F.Z,{contextLogData:{story_id:P,story_type:y.story_type},elementType:179,impressionType:"Story",viewParameter:3512,viewType:(0,G.Z)(d),children:(0,l.jsx)(W,{onClick:()=>Z.Z.StructuredFeed.Categories.tapSeeMoreCategories({id:P,source:d},t),text:y.text,url:(0,m.Z)(y.url,{source:d})})});return(0,l.jsx)(F.Z,{contextLogData:{story_id:P,story_type:"storefront_category_bubbles"},impressionType:"Story",viewParameter:3512,viewType:(0,G.Z)(d),children:(0,l.jsxs)(n.Fragment,{children:[(0,l.jsx)(H,{title:null==w?void 0:w.text,footer:A,dataTestId:"storefront-categories-module",action:x&&(0,l.jsx)(r.hU,{ref:b,accessibilityLabel:o._('Categories edit button', 'Profile.MerchantStorefront.StructuredFeed.ProductGroups.Module.Header.Button', 'Edit button in header of categories module for categories control sheet on merchant profile'),bgColor:"transparent",icon:"edit",onClick:()=>{h(s.vW.SectionCategories),g(!p)},size:"lg",iconColor:"darkGray",tooltip:{idealDirection:"up",text:o._('Edit', 'Profile.MerchantStorefront.StructuredFeed.ProductGroups.Module.Header.Tooltip', 'Tooltip for Edit button in header of product group module for product group control sheet on merchant profile')}}),children:(0,l.jsx)(r.xu,{display:"flex",justifyContent:"center",paddingY:6,wrap:!0,children:((e,t)=>e?e.items.map(((e,t)=>{var o;const n=(0,m.Z)((null===(o=e.action)||void 0===o?void 0:o.url)||"",{source:d}),i={...e,action:{...e.action,url:n}};return(0,l.jsx)(r.xu,{padding:2,children:(0,l.jsx)(K,{bubble:i,slotIndex:t,storyId:e.id,viewParameter:u,source:d,title:e.title.format})},e.id)})):t?t.items.map(((e,t)=>(0,l.jsx)(r.xu,{padding:2,children:(0,l.jsx)(q,{productGroup:e,index:t,merchantName:_,source:d})},e.id))):null)(a,c)})}),b&&(0,l.jsx)(N.default,{anchor:b.current,experienceIds:[504869],flyoutSize:230,hasFullWidthButton:!1,idealDirection:"up",onClickComplete:()=>{h(s.vW.SectionCategories),g(!0)},placementId:19,showCaret:!0,textAlign:"center",textWeight:"bold"})]})})}const Q=226;function J(){return(0,l.jsx)(r.xu,{height:Q,width:Q,color:"secondary",rounding:4})}function ee({setInitialSection:e,sheetOpen:t,setSheetOpen:o}){const a=(0,i.ZP)(),{logContextEvent:c}=(0,j.v)();(0,$.Z)((()=>{c({event_type:120,component:14116,view_parameter:3515})})),(0,n.useEffect)((()=>{t&&c({event_type:102,component:14116,element:13090,view_parameter:3515})}),[c,t]);const d=(0,l.jsx)(r.xu,{marginStart:-10,marginTop:3,children:(0,l.jsxs)(r.kC,{direction:"column",gap:{row:0,column:3},children:[(0,l.jsx)(J,{}),(0,l.jsx)(J,{}),(0,l.jsx)(J,{})]})}),u=(0,l.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"-150px"}},marginStart:3,marginEnd:3,children:(0,l.jsxs)(r.kC,{direction:"column",gap:{row:0,column:3},children:[(0,l.jsx)(J,{}),(0,l.jsx)(r.zd,{height:Q,width:Q,rounding:4,children:(0,l.jsx)(r.Ee,{alt:"test",naturalHeight:678,naturalWidth:678,src:"https://i.pinimg.com/originals/ea/c9/69/eac969baa7527f95ffaf937ed897a42a.png"})}),(0,l.jsx)(J,{})]})}),_=(0,l.jsx)(r.xu,{marginStart:12,height:"100%",marginEnd:12,children:(0,l.jsxs)(r.kC,{gap:{row:0,column:4},direction:"column",justifyContent:"center",height:370,children:[(0,l.jsx)(r.xv,{color:"subtle",size:"200",children:a._('only visible to you', 'Profile.MerchantStorefront.StructuredFeed.EmptyProductGroupsModule.Text', 'Text for empty featured product groups module on merchant profile')}),(0,l.jsx)(r.X6,{size:"600",children:a._('Spotlight product groups', 'Profile.MerchantStorefront.StructuredFeed.EmptyProductGroupsModule.Heading', 'Heading for empty featured product groups module on merchant profile')}),(0,l.jsx)(r.xv,{children:a._('Showcase product groups you want shoppers on Pinterest to see first. Customize the cover image, display name and description. Keep shoppers up to date on your new arrivals, seasonal items and sales.', 'Profile.MerchantStorefront.StructuredFeed.EmptyProductGroupsModule.Text', 'Text for empty featured product groups module on merchant profile')}),(0,l.jsx)(r.xu,{marginTop:6,children:(0,l.jsx)(r.zx,{text:a._('Set up Spotlight', 'Profile.MerchantStorefront.StructuredFeed.EmptyProductGroupsModule.Button', 'CTA button for empty featured product groups module on merchant profile'),color:"gray",onClick:()=>{e(s.vW.SectionFeaturedProductGroups),o(!t)}})})]})});return(0,l.jsx)(n.Fragment,{children:(0,l.jsx)(r.kC,{alignItems:"stretch",justifyContent:"center",children:(0,l.jsx)(r.xu,{marginBottom:10,paddingX:4,minWidth:900,maxWidth:1278,children:(0,l.jsx)(r.Yl,{id:"testid",children:(0,l.jsxs)(r.xu,{overflow:"hidden",display:"flex",margin:-6,rounding:5,height:370,children:[d,u,_]})})})})})}var te=o(767449),oe=o(623568),ne=o(558774),ie=o(35495);function se(e){const{data:t,isOwnProfile:o,merchant:s,source:a,storefrontResource:c}=e,{footer:d,title:u}=t,_=(0,G.Z)(a),h=(0,i.ZP)(),{logContextEvent:p}=(0,j.v)();(0,n.useEffect)((()=>{Z.Z.StructuredFeed.PinsFeed.viewPinsFeed({id:null==u?void 0:u.id,OwnerUserId:s.id,pinsFeedTitle:null==u?void 0:u.text,source:a},p)}),[]);const g=e=>{const t={...(0,ie.Zs)(e),board_owner_id:s.id,pin_is_promoted:(0,oe.jL)(e)},o=(0,ie.Sn)(t)||{};Z.Z.StructuredFeed.PinsFeed.tapPin({commerceData:o,source:a},p)},f=d&&(0,l.jsx)(W,{text:d.text,url:(0,m.Z)(d.url,{storefront:1})}),x=u&&(0,l.jsxs)(r.kC,{direction:"row",justifyContent:"between",alignItems:"center",children:[(0,l.jsx)(F.Z,{impressionType:"Story",viewType:_,viewParameter:3512,contextLogData:{story_id:u.id,story_type:"storefront_header"},children:(0,l.jsx)(r.xu,{children:u.text})}),u.allProductLink&&(0,l.jsx)(r.xu,{position:"absolute",paddingX:4,right:!0,children:(0,l.jsx)(r.zx,{accessibilityLabel:h._('Button to view all the merchant\'s products', 'MerchantStorefront.structuredFeed.shopAllProducts.accessibilityLabel', 'The accessibility label for the button to show the merchant "All Products" pins'),size:"lg",text:h._('Shop all products', 'MerchantStorefront.structuredFeed.shopAllProducts.text', 'Button to open a view with all the merchant\'s product pins'),role:"link",href:u.allProductLink||"",color:"transparent"})})]});return(0,l.jsx)(H,{title:x,footer:f,dataTestId:"storefront-pins-module",children:(0,l.jsx)(ne.QI,{renderPin:({data:e,itemIdx:t})=>(0,l.jsx)(te.Z,{componentType:null,merchant:s,onClick:g,pin:e,slotIndex:t,surface:"pdp"===a?"ShoppingSquareGridStorefrontDomain":"ShoppingSquareGridStorefront",viewParameter:3512,viewType:_}),isGridCentered:!0,isOverview:!1,isOwnProfile:o,layout:"basicCentered",onClick:g,pins:c,surface:"ShoppingGridShippedMetadata",user:s,username:s.username})})}var re=o(319915),le=o(140555),ae=o(207112);function ce({children:e,onClick:t,productGroup:o,showControls:s,url:a,width:c}){const d=(0,i.ZP)(),u=(0,V.Z)({url:a})?"nofollow":"none",_=d._('Edit product group display', 'ProductGroup.editTooltip', 'Tooltip text for the edit product group button'),[h,p]=(0,n.useState)();return(0,l.jsxs)(r.Zb,{children:[(0,l.jsxs)(r.xu,{position:"relative",children:[(0,l.jsx)(r.iP,{role:"link",rel:u,onTap:t,href:a,children:(0,l.jsxs)(r.xu,{"data-test-id":`productGroup-${o.name}`,width:c,children:[(0,l.jsx)(r.xu,{position:"relative",children:e}),(0,l.jsx)(r.xu,{display:"flex",alignItems:"end",paddingY:1,children:(0,l.jsx)(r.xu,{padding:2,flex:"grow",overflow:"hidden",children:(0,l.jsx)(r.X6,{size:"400",children:(0,l.jsx)(ae.Z,{maxHeightPx:70,children:o.name})})})})]})}),s&&(0,l.jsx)(r.xu,{position:"absolute",top:!0,right:!0,padding:4,children:(0,l.jsx)(r.u,{text:_,idealDirection:"down",children:(0,l.jsx)(r.hU,{accessibilityLabel:_,bgColor:"lightGray",icon:"edit",iconColor:"darkGray",onClick:()=>p(!0),size:"lg"})})})]}),s&&h&&(0,l.jsx)(re.Z,{name:"ProductGroupDetailsModal",children:(0,l.jsx)(le.Z,{onDismiss:()=>p(!1),onSubmit:()=>p(!1),productGroup:o})})]})}var de=o(120659);function ue({height:e=200,numCols:t=3,pins:o=[],rounding:n=2,width:i=300}){return(0,l.jsx)(r.zd,{rounding:n,width:i,height:e,children:(0,l.jsx)(r.gM,{columns:t,cover:!0,height:e,gutter:2,renderImage:({index:e,width:t,height:n})=>{var i;const s=o[e];if(!s)return null;const r=null===(i=s.images)||void 0===i?void 0:i["474x"];return(0,l.jsx)(de.Z,{height:n,image:r,width:t})},width:i})})}function _e({onClick:e,productGroup:t,showControls:o,url:n}){return(0,l.jsx)(ce,{onClick:e,productGroup:t,url:n,width:320,showControls:o,children:(0,l.jsx)(ue,{height:213,numCols:3,pins:t.preview_pins,rounding:4,width:320})})}var he=o(27038);function pe({merchantName:e,productGroup:t,showControls:o,source:n,isControlsExpEnabled:i,index:s}){const{logContextEvent:r}=(0,j.v)();(0,$.Z)((()=>{Z.Z.StructuredFeed.ProductGroups.viewProductGroup({productGroupId:t.id,source:n,groupType:t.group_type,componentType:13698},r)}));const a=()=>Z.Z.StructuredFeed.ProductGroups.tapProductGroup({productGroupId:t.id,source:n,groupType:t.group_type,componentType:13698,index:s},r);return i?(0,l.jsx)(he.Z,{onClick:a,productGroup:t,showControls:o,url:`/${e}/_shop/${t.id}/`}):(0,l.jsx)(_e,{onClick:a,productGroup:t,showControls:o,url:`/${e}/_shop/${t.id}/`})}function me({setInitialSection:e,sheetOpen:t,setSheetOpen:o}){const a=(0,n.useRef)(null),c=(0,i.ZP)();return(0,l.jsx)(n.Fragment,{children:(0,l.jsx)(r.xu,{width:"100",margin:3,ref:a,children:(0,l.jsxs)(r.kC,{justifyContent:"center",alignItems:"center",children:[(0,l.jsx)(r.X6,{size:"500",children:c._('Spotlight', 'Profile.MerchantStorefront.StructuredFeed.ProductGroups.Module.Header', 'Header for featured product groups module on merchant profile')}),(0,l.jsx)(r.hU,{accessibilityLabel:c._('Featured product group edit button', 'Profile.MerchantStorefront.StructuredFeed.ProductGroups.Module.Header.Button', 'Edit button in header of product group module for product group control sheet on merchant profile'),bgColor:"transparent",icon:"edit",onClick:()=>{e(s.vW.SectionFeaturedProductGroups),o(!t)},size:"lg",iconColor:"darkGray",tooltip:{idealDirection:"up",text:c._('Edit', 'Profile.MerchantStorefront.StructuredFeed.ProductGroups.Module.Header.Tooltip', 'Tooltip for Edit button in header of product group module for product group control sheet on merchant profile')}})]})})})}var ge=o(932995),fe=o(6637),xe=o(487392),be=o(784590),ve=o(345221),ye=o(583421),Pe=o(278380);const we={previewIndex:-1,sourceIndex:-1,target:null};const Ae=(0,ve.Z)(ye.y.Section)((function(e){const{logContextEvent:t}=(0,j.v)(),{data:o,merchantName:i,source:s,storefrontResource:a,setInitialSection:c,sheetOpen:d,setSheetOpen:u}=e,{footer:_,items:h,title:p}=o,[g,x]=(0,n.useState)(we),b=h.reduce(((e,t)=>({...e,[t.id]:t})),{}),[v,y]=(0,n.useState)(h.map((e=>e.id)));(0,n.useEffect)((()=>{y(h.map((e=>e.id)))}),[h]);const{ownerUserId:P}=(0,xe.Z)(),w=(0,be.Z)({name:"ApiResource",options:{url:`/v3/business/users/${P}/storefront/settings/`}}),{merchantStorefrontSettings:{currentViewingLocale:{country:A,language:E}}}=(0,f.S)(),S=(0,be.Z)({name:"UserSettingsResource",options:{field_set_key:"profile"}}),{country:I,locale:z}=S.data||{},k=`${A||I}/${(E||(0,C.Md)(z)).toUpperCase()}`,D=_&&(0,l.jsx)(F.Z,{contextLogData:{story_id:_.id,story_type:_.story_type},elementType:179,impressionType:"Story",viewParameter:3512,viewType:(0,G.Z)(s),children:(0,l.jsx)(W,{onClick:()=>Z.Z.StructuredFeed.ProductGroups.tapSeeMoreProductGroups({id:_.id,source:s},t),text:_.text,url:(0,m.Z)(_.url,{source:s})})});function R(e){x({previewIndex:e,sourceIndex:e,target:null})}function L(e){const o=g&&g.target;if(!e||!g||!o||o.index===g.sourceIndex){x(we);const e=[...h];if(w.data&&w.data[k].featured_product_groups){const t=w.data[k].featured_product_groups;e.sort(((e,o)=>{const n=t.indexOf(e.id),i=t.indexOf(o.id);return n===i?0:o.group_type===C.yh||-1===n?1:e.group_type===C.yh||-1===i?-1:n-i}))}return void y(e.map((e=>e.id)))}const{previewIndex:n}=g,{index:i}=o;x(we);const s=(0,ge.Z)(v,n,i),r=new Set(w.data?w.data[k].featured_product_groups:[]),l={...w.data,[k]:{...w.data&&w.data[k]||{},featured_product_groups:s.concat([...r])}};fe.Z.create("ApiResource",{url:`/v3/business/users/${P}/storefront/settings/`,data:{settings:JSON.stringify(l)}}).callUpdate().then((()=>{w.refresh(),a.refresh()})),t({event_type:9869,component:14004})}function B(e,t){const o={itemIndex:e,regionWithinItem:(0,Pe.TI)({hoverRelativePosition:t,centerEnabled:e!==g.previewIndex})},n={index:(0,Pe.X3)({hoverLocation:o,sourceIndex:g.previewIndex})};n.index!==g.previewIndex?(x({...g,target:n,previewIndex:n.index}),y((0,ge.Z)(v,g.previewIndex,n.index))):g.target&&g.target.index!==n.index&&x({...g,target:n})}const M=(0,T.N0)(),N=(0,O.F)().checkExperiment("web_merchant_success_storefront_controls").anyEnabled,U=(0,O.F)().checkExperiment("web_merchant_storefront_controls_international").anyEnabled,V=N||U,{checkExperiment:$}=(0,O.F)(),Y=M&&V,K=$("storefront_i2pc_merchant_controls").anyEnabled;return(0,l.jsxs)(H,{title:null==p?void 0:p.text,footer:D,dataTestId:"storefront-product-groups-module",children:[Y&&(0,l.jsx)(me,{setInitialSection:c,sheetOpen:d,setSheetOpen:u}),(0,l.jsx)(r.xu,{display:"flex",justifyContent:"center",marginBottom:8,wrap:!0,children:v.map((e=>b[e])).map(((e,t)=>e&&(0,l.jsx)(r.xu,{padding:2,children:M&&e.group_type!==C.yh&&!K?(0,l.jsx)(ye.Z,{index:t,onDragBegin:R,onDragEnd:L,onDragHover:B,type:ye.y.Section,children:(0,l.jsx)(pe,{merchantName:i,productGroup:e,showControls:M,source:s,isControlsExpEnabled:V,index:t})}):(0,l.jsx)(pe,{merchantName:i,productGroup:e,showControls:M,source:s,isControlsExpEnabled:V,index:t})},e.id)))})]})}));var Ce=o(698726);const je=(e,t)=>({ms:e._('Malay', 'merchantStorefront.hiddenShopBanner.language.Malay', 'The language name of the language code ms'),ru:e._('Russian', 'merchantStorefront.hiddenShopBanner.language.Russian', 'The language name of the language code ru'),en:e._('English', 'merchantStorefront.hiddenShopBanner.language.English', 'The language name of the language code en'),cs:e._('Czech', 'merchantStorefront.hiddenShopBanner.language.Czech', 'The language name of the language code cs'),nb:e._('Norwegian', 'merchantStorefront.hiddenShopBanner.language.Norwegian', 'The language name of the language code nb'),el:e._('Greek', 'merchantStorefront.hiddenShopBanner.language.Greek', 'The language name of the language code el'),pt:e._('Portuguese', 'merchantStorefront.hiddenShopBanner.language.Portuguese', 'The language name of the language code pt'),tr:e._('Turkish', 'merchantStorefront.hiddenShopBanner.language.Turkish', 'The language name of the language code tr'),te:e._('Telugu', 'merchantStorefront.hiddenShopBanner.language.Telugu', 'The language name of the language code te'),hi:e._('Hindi', 'merchantStorefront.hiddenShopBanner.language.Hindi', 'The language name of the language code hi'),zh:e._('Chinese', 'merchantStorefront.hiddenShopBanner.language.Chinese', 'The language name of the language code zh'),es:e._('Spanish', 'merchantStorefront.hiddenShopBanner.language.Spanish', 'The language name of the language code es'),hu:e._('Hungarian', 'merchantStorefront.hiddenShopBanner.language.Hungarian', 'The language name of the language code hu'),sk:e._('Slovak', 'merchantStorefront.hiddenShopBanner.language.Slovak', 'The language name of the language code sk'),fr:e._('French', 'merchantStorefront.hiddenShopBanner.language.French', 'The language name of the language code fr'),da:e._('Danish', 'merchantStorefront.hiddenShopBanner.language.Danish', 'The language name of the language code da'),ko:e._('Korean', 'merchantStorefront.hiddenShopBanner.language.Korean', 'The language name of the language code ko'),uk:e._('Ukrainian', 'merchantStorefront.hiddenShopBanner.language.Ukrainian', 'The language name of the language code uk'),fi:e._('Finnish', 'merchantStorefront.hiddenShopBanner.language.Finnish', 'The language name of the language code fi'),nl:e._('Dutch', 'merchantStorefront.hiddenShopBanner.language.Dutch', 'The language name of the language code nl'),de:e._('German', 'merchantStorefront.hiddenShopBanner.language.German', 'The language name of the language code de'),tl:e._('Tagalog', 'merchantStorefront.hiddenShopBanner.language.Tagalog', 'The language name of the language code tl'),pl:e._('Polish', 'merchantStorefront.hiddenShopBanner.language.Polish', 'The language name of the language code pl'),ro:e._('Romanian', 'merchantStorefront.hiddenShopBanner.language.Romanian', 'The language name of the language code ro'),ja:e._('Japanese', 'merchantStorefront.hiddenShopBanner.language.Japanese', 'The language name of the language code ja'),ar:e._('Arabic', 'merchantStorefront.hiddenShopBanner.language.Arabic', 'The language name of the language code ar'),bn:e._('Bangla', 'merchantStorefront.hiddenShopBanner.language.Bangla', 'The language name of the language code bn'),it:e._('Italian', 'merchantStorefront.hiddenShopBanner.language.Italian', 'The language name of the language code it'),id:e._('Indonesian', 'merchantStorefront.hiddenShopBanner.language.Indonesian', 'The language name of the language code id'),sv:e._('Swedish', 'merchantStorefront.hiddenShopBanner.language.Swedish', 'The language name of the language code sv'),vi:e._('Vietnamese', 'merchantStorefront.hiddenShopBanner.language.Vietnamese', 'The language name of the language code vi'),th:e._('Thai', 'merchantStorefront.hiddenShopBanner.language.Thai', 'The language name of the language code th')}[t]),Ee=()=>{const e=(0,i.ZP)(),[t,o]=(0,n.useState)(!1),{countries:s,feedProfiles:a,settings:c,userId:d,refresh:u}=(0,T.LO)(),{merchantStorefrontSettings:{currentViewingLocale:{country:_,language:h}},updateStorefrontLastUpdated:p}=(0,f.S)(),m=()=>{o(!0)};return!(0,C.c8)(c[[_||"",h||""].join("/").toUpperCase()])?(0,l.jsxs)(r.xu,{marginBottom:8,paddingX:8,width:"100%",display:"flex",justifyContent:"center",children:[(0,l.jsxs)(r.xu,{minHeight:134,paddingY:4,width:1496,dangerouslySetInlineStyle:{__style:{backgroundColor:"#FDF5EC"}},rounding:4,display:"flex",children:[(0,l.jsx)(r.xu,{height:"100%",marginStart:8,marginEnd:6,display:"flex",alignItems:"center",children:(0,l.jsx)(r.JO,{icon:"workflow-status-warning",accessibilityLabel:e._('Warning icon', 'merchantStorefront.hiddenShopBanner.warningIcon.accessibilityLabel', 'The accessibility label for the warning icon of the merchant storefront hidden shop banner'),color:"warning",size:32})}),(0,l.jsxs)(r.xu,{height:"100%",marginEnd:6,display:"flex",direction:"column",alignItems:"start",justifyContent:"center",maxWidth:1124,children:[(0,l.jsx)(r.xu,{marginBottom:2,children:(0,l.jsx)(r.X6,{size:"400",children:e._('Your shop is hidden in this region/language', 'merchantStorefront.hiddenShopBanner.heading', 'The heading of the merchant storefront hidden shop banner')})}),(0,l.jsx)(r.xu,{children:(0,l.jsx)(r.xv,{size:"300",children:(0,A.nk)(e._('{{ language }} speaking people in the {{ country }} can\'t see your shop. You can preview the shop, but people in this region/language won\u2019t see it until you make the shop visible.', 'merchantStorefront.hiddenShopBanner.text', 'The body text of the merchant storefront hidden shop banner'),{language:je(e,h),country:s[_]})})})]}),(0,l.jsx)(r.xu,{height:"100%",marginEnd:12,display:"flex",alignItems:"center",children:(0,l.jsx)(r.zx,{accessibilityLabel:e._('Manage shop visibility button', 'merchantStorefront.hiddenShopBanner.button.accessibilityLabel', 'The accessibilityLabel of the merchant storefront hidden shop banner button'),size:"lg",text:e._('Manage shop visibility', 'merchantStorefront.hiddenShopBanner.button.text', 'The text of the merchant storefront hidden shop banner button'),color:"white",onClick:m})})]}),t&&(0,l.jsx)(Ce.Z,{countries:s,feedProfiles:a,onDismiss:()=>o(!1),onSubmit:()=>{u(),p((new Date).getTime())},onUndo:m,settings:c,userId:d})]}):null};var Se=o(430323),Ie=o(19121);const Te=function({merchant:e,source:t,storefrontData:o,storefrontResource:i,setInitialSection:s,sheetOpen:r,setSheetOpen:a}){const{storefront_category_bubbles:c,storefront_category_product_groups:d,pin:u,productgroup:_}=o,{id:h,username:p}=e,{logContextEvent:m}=(0,j.v)(),{checkExperiment:g}=(0,O.F)();(0,n.useEffect)((()=>{Z.Z.StructuredFeed.viewStructuredFeed({merchantId:h,source:t},m)}),[]);const f=(0,Ie.Z)(),x=f.isAuth&&f.username===p,b=x?3106:3107,v=g("storefront_empty_product_groups_cta",{dangerouslySkipActivation:!x}),y=x&&v.anyEnabled,P=!f.isLimitedLogin&&(_?(0,l.jsx)(Ae,{data:_,merchantName:p,source:t,setInitialSection:s,sheetOpen:r,setSheetOpen:a},"productGroupsModule"):y&&(0,l.jsx)(ee,{setInitialSection:s,sheetOpen:r,setSheetOpen:a},"emptyProductGroupsModule")),w=(c||d)&&(0,l.jsx)(X,{exploreArticles:c,productGroupCategories:d,source:t,viewParameter:b,merchantName:p,setInitialSection:s,sheetOpen:r,setSheetOpen:a},"categoriesModule"),A=u&&(0,l.jsx)(se,{data:u,isOwnProfile:x,merchant:e,source:t,storefrontResource:i},"pinsModule"),C=[P,w];C["pdp"===t?"unshift":"push"](A);const E=(0,T.t8)();return(0,l.jsx)(Se.Z,{component:237,view:4,viewParameter:b,children:(0,l.jsxs)(n.Fragment,{children:[E&&(0,l.jsx)(Ee,{}),C]})})};function ze(e){return e.type===Y.sy.story&&e.story_type===Y.sy.header}function ke(e){return e.type===Y.sy.story&&Y.sy.footers.includes(e.story_type)}const De=function(e){const t=[];for(const o of e)o.type===Y.sy.story&&Y.sy.sectionStories.concat(Y.sy.header).includes(o.story_type)||!t.length?t.push([o]):t[t.length-1].push(o);return t.map((e=>{var t,o;let n;const i=e.find(ke);let s;i&&(n={id:i.id,story_type:i.story_type,text:i.button_text.format,url:i.action.url});const r=e.find(ze);var l;r&&(s={id:r.id,text:r.title.format,allProductLink:null===(l=r.action)||void 0===l?void 0:l.url});let a,c=e.filter((e=>!ze(e)&&!ke(e)));const d=e.find((e=>e.type===Y.sy.story&&Y.sy.sectionStories.includes(e.story_type))),u=d?null===(t=c[0])||void 0===t?void 0:t.story_type:null===(o=c[0])||void 0===o?void 0:o.type;var _;d&&(s={text:d.title.format},c=null===(_=c[0])||void 0===_?void 0:_.objects,a=d.id);return{footer:n,title:s,id:a,items:c,label:u}})).reduce(((e,t)=>{const{footer:o,title:n,id:i,items:s,label:r}=t;return{...e,[r]:{footer:o,id:i,title:n,items:s}}}),{})};var Re=o(86551),Oe=o(826067),Le=o(357805),Be=o(276775);function Me(){return(0,T.tt)(),null}function Fe({country:e,language:t,lastUpdated:o}){const{checkExperiment:i}=(0,O.F)(),{search:d}=(0,Be.TH)(),[u,_]=(0,n.useState)(s.vW.SectionEditYourShop),h="open"===(0,Oe.mB)(d).controls,[p,m]=(0,n.useState)(h),{params:{username:g}}=(0,Be.$B)(),f=i("storefront_i2pc_product_groups").anyEnabled,{anyEnabled:x,group:v}=i("web_shopping_grid_metadata_ratings_shipping",{dangerouslySkipActivation:!0});v.includes("pwt")||i("web_shopping_grid_metadata_ratings_shipping");const{data:y}=(0,Re.Z)();(0,Le.G)(g,3313);const{pin:P,search_query:w,source:A}=(0,c.Z)(d),C=(0,T.N0)(),j=(0,T.t8)(),E=j?{country:e,language:t}:{},S=(0,be.Z)({name:"StoreFrontFeedResource",options:{field_set_key:x?"shopping_grid_item":"grid_item",pin:P,search_query:w,shop_source:P?"product_detail_page":null,source:A,userId:y?y.id:void 0,username:g,last_updated:o,category_section_source:f?"product_groups":"live_signal",...E}}),{data:I}=S;return y?(0,l.jsxs)(r.xu,{children:[(0,l.jsxs)(r.kC,{alignItems:"stretch",direction:"row",justifyContent:"between",children:[(0,l.jsx)(r.xu,{paddingX:4,dangerouslySetInlineStyle:{__style:{paddingBottom:"16px"}},children:C&&(0,l.jsx)(b.Z,{})}),(0,l.jsx)(r.xu,{paddingX:4,dangerouslySetInlineStyle:{__style:{paddingBottom:"16px"}},children:j&&(0,l.jsx)(a,{setInitialSection:_,sheetOpen:p,setSheetOpen:m})})]}),I?(0,l.jsx)(Te,{merchant:y,source:P?"pdp":"profile",storefrontData:De(I),storefrontResource:S,setInitialSection:_,sheetOpen:p,setSheetOpen:m}):null,(0,l.jsx)(B,{initialSection:u,onDismiss:()=>m(!1),refreshStorefront:S.refresh,sheetOpen:p}),j&&(0,l.jsx)(Me,{})]}):null}function Ne(){const{merchantStorefrontSettings:{currentViewingLocale:{country:e,language:t},lastUpdated:o}}=(0,f.S)();return(0,l.jsx)(Fe,{country:e,language:t,lastUpdated:o})}const Ze=()=>{const{params:{username:e}}=(0,Be.$B)(),{data:t}=(0,Re.Z)();return(0,Le.S)(e,t?t.id:null,13670),null!=t&&t.has_catalog?(0,l.jsx)(Ne,{}):null}},117855:(e,t,o)=>{o.r(t),o.d(t,{default:()=>_});var n=o(430323),i=o(883119),s=o(558774),r=o(785893);const l=function(e){const{isOwnProfile:t,user:o}=e,{username:l}=o,a=t?3106:3107;return(0,r.jsx)(n.Z,{view:4,viewParameter:a,component:13322,children:(0,r.jsx)(i.xu,{children:(0,r.jsx)(s.pP,{isOwnProfile:t,user:o,username:l})})})};var a=o(86551),c=o(19121),d=o(357805),u=o(276775);function _(e){const t=(0,u.$B)(),o=(0,c.Z)(),n=(0,a.Z)();(0,d.G)(t.params.username,3240);const i=o.isAuth&&o.username===t.params.username;return n&&n.data?(0,r.jsx)(l,{isOwnProfile:i,user:n.data}):null}},375553:(e,t,o)=>{o.r(t),o.d(t,{default:()=>u});var n=o(430323),i=o(558774),s=o(785893);const r=function(e){const{isOwnProfile:t,user:o}=e,r=t?3106:3107;return(0,s.jsx)(n.Z,{view:4,viewParameter:r,component:13364,children:(0,s.jsx)(i.Ol,{isOwnProfile:t,user:o,username:o.username})})};var l=o(86551),a=o(19121),c=o(357805),d=o(276775);function u(e){const t=(0,d.$B)(),o=(0,l.Z)(),n=(0,a.Z)();(0,c.G)(t.params.username,3272);const i=n.isAuth&&n.username===t.params.username;return o&&o.data?(0,s.jsx)(r,{isOwnProfile:i,user:o.data}):null}},558774:(e,t,o)=>{o.d(t,{Ol:()=>w,QI:()=>y,ZP:()=>A,pP:()=>P});var n=o(667294),i=o(572551),s=o(301921),r=o(730320),l=o(104258),a=o(430323),c=o(784590),d=o(19121),u=o(444445),_=o(623568),h=o(232843),p=o(216668),m=o(898781),g=o(330899),f=o(883119),x=o(785893);function b(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class v extends n.Component{constructor(...e){super(...e),b(this,"masonryRef",{current:null}),b(this,"renderPin",(({data:e,itemIdx:t})=>{const{componentType:o,isOwnProfile:n,onClick:i,surface:r,user:l,viewParameter:a,viewType:c}=this.props;switch(e.type){case"module":return e.name===p.o?(0,x.jsx)(p.Z,{}):null;case"pin":default:const d=n?3106:3107;return(0,x.jsx)(f.iP,{onTap:()=>i&&i(e),children:(0,x.jsx)(s.default,{attributionOption:"hide",pin:e,pinId:e.id,authDesktopSurface:null!=r?r:"UserProfilePinGrid",auxData:{commerce_data:{board_owner_id:null==l?void 0:l.id,pin_is_promoted:(0,_.jL)(e)}},componentType:void 0===o?237:o,slotIndex:t,viewParameter:a||d,viewType:c||4})})}}))}componentDidUpdate(e){this.props.profilePinView!==e.profilePinView&&this.masonryRef.current&&this.masonryRef.current.reflow()}render(){var e;const{emptyState:t,isGridCentered:o,isOverview:n,isOwnProfile:s,layout:c,limit:d,nativePins:_,onload:p,pins:m,profilePinView:g,showNativePins:b,surface:v,user:y,username:P,renderPin:w}=this.props,{fetchMore:A,isAtEnd:C,isFetching:j,isLoaded:E}=m,S=(null!==(e=m.data)&&void 0!==e?e:[]).filter((e=>"pin"===(null==e?void 0:e.type)));if(E&&p&&p(S?S.length:0),E&&_&&!s&&(!S||!S.length))return null;let I,T;d||n?(I="gridCentered",T={marginTop:12}):o&&(b&&_||!b)?(I="gridCentered",T={marginTop:24}):o&&(I="gridCentered");let z=_?`${P}:pins`:`${P}:pins:native`;z=g?`${z}:${g}`:void 0;const k=s?3106:3107,D=d?()=>{}:A,R="OtherProfilePinGrid"===v||"dense"===g?2/3*u.yF:u.yF,O="OtherProfilePinGrid"===v||"dense"===g?2/3*16:16,L=w||this.renderPin,B=n?(0,x.jsx)(i.default,{cacheKey:z,columnWidth:R,gutterWidth:O,isAtEnd:C,isFetching:j,isGridCentered:o,isLoaded:E,Item:L,items:S,layout:c,loadItems:D,masonryRef:this.masonryRef,paddingStyle:"dense",serverRender:!1,virtualize:!1}):(0,x.jsx)(i.default,{cacheKey:z,columnWidth:R,gutterWidth:O,isAtEnd:C,isFetching:j,isGridCentered:o,isLoaded:E,Item:L,items:S,layout:c,loadItems:A,masonryRef:this.masonryRef}),M=t||(0,x.jsx)(r.Z,{marginTop:s?0:5,textSize:s?"400":"500",children:(0,x.jsx)(l.Z,{subject:"pins",surface:"profile",user:y})});return(0,x.jsx)(a.Z,{component:210,view:4,viewParameter:k,children:(0,x.jsx)(h.H,{value:{onPinCreate:()=>{this.props.pins.refresh()},onPinDelete:()=>{this.props.pins.refresh()}},children:(0,x.jsxs)("div",{className:I,style:T,children:[E&&(S&&0!==S.length?null:M),E&&S?(0,x.jsx)(f.xu,{"data-test-id":"user-profile-pin-grid",children:B}):null,j&&(0,x.jsx)(f.xu,{paddingY:3,position:"relative",children:(0,x.jsx)(f.$j,{accessibilityLabel:this.props.i18n._('Loading Pins on profile', ' - ', ' -- '),show:b&&_||!b})})]})})})}}function y(e){var t,o;const n=(0,m.ZP)(),i=null!==(t=null===(o=(0,g.x)())||void 0===o?void 0:o.profilePinDensity)&&void 0!==t?t:"";return(0,x.jsx)(v,{...e,i18n:n,profilePinView:i})}function P(e){const t=(0,d.Z)(),o=(0,c.Z)({name:"UserStoryPinsFeedResource",options:{exclude_add_pin_rep:!0,username:e.username,field_set_key:t.isPartner&&e.isOwnProfile?"partner_grid_item":"grid_item"}});return(0,x.jsx)(y,{...e,pins:o})}function w(e){var t;const o=(0,d.Z)(),n=(0,c.Z)({name:"UserVideoPinsFeedResource",options:{exclude_add_pin_rep:!0,username:null===(t=e.user)||void 0===t?void 0:t.username,field_set_key:o.isPartner&&e.isOwnProfile?"partner_grid_item":"grid_item"}});return(0,x.jsx)(y,{...e,pins:n})}function A(e){const t=(0,d.Z)(),o=(0,c.Z)({name:"UserPinsResource",options:{is_own_profile_pins:e.isOwnProfile,username:e.username,field_set_key:t.isPartner&&e.isOwnProfile?"partner_grid_item":"grid_item",pin_filter:null}});return(0,x.jsx)(y,{...e,pins:o})}b(v,"defaultProps",{isGridCentered:!0})},460465:(e,t,o)=>{o.r(t),o.d(t,{default:()=>v});var n=o(667294),i=o(406379),s=o(430323),r=o(784590),l=o(19121),a=o(558774),c=o(785893);function d({isOwnProfile:e,user:t}){const o=(0,l.Z)(),n=(0,r.Z)({name:"BusinessProfileUserPinsResource",options:{exclude_add_pin_rep:!0,username:t.username,is_own_profile_pins:e,user_id:t.id,field_set_key:o.isPartner&&e?"partner_grid_item":"grid_item"}});return!n.isLoaded||n.data&&0!==n.data.length?(0,c.jsx)(s.Z,{view:4,viewParameter:e?3106:3107,component:210,children:(0,c.jsx)(a.QI,{isOverview:!1,isOwnProfile:e,pins:n,showNativePins:!0,user:t,username:t.username})}):(0,c.jsx)(i.Z,{fullName:t.full_name,isOwnProfile:e,isPartnerProfile:!0})}var u=o(883119);const _=e=>{const{label:t,sublabel:o}=e;return(0,c.jsx)(u.xu,{alignContent:"end",alignItems:"center",display:"flex",justifyContent:"between",padding:3,children:(0,c.jsxs)(u.xu,{children:[(0,c.jsx)(u.X6,{size:"400",children:t}),(0,c.jsx)(u.xu,{marginTop:1,children:(0,c.jsx)(u.xv,{children:o})})]})})};var h=o(898781),p=o(86551),m=o(184451),g=o(349700),f=o(357805),x=o(281180),b=o(276775);function v(e){var t,o,s,r;const v=(0,h.ZP)(),y=(0,l.Z)(),P=(0,b.$B)(),w=(0,p.Z)();(0,f.G)(P.params.username,74);const A=(0,x.kW)(),C=y.isAuth?A[y.id]:void 0,j=null!==(t=null==C?void 0:C.scheduled_pin_count)&&void 0!==t?t:null;if(!w.data)return null;const E=y.isAuth&&y.username===P.params.username,S=null!==(o=w.data)&&void 0!==o?o:{},I=j||S.scheduled_pin_count||0,T=E&&y.isPartner&&I>0,z=S.show_creator_profile&&y.isAuth;return(0,c.jsxs)(n.Fragment,{children:[T&&(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(m.Z,{username:null!==(s=P.params.username)&&void 0!==s?s:""}),(0,c.jsx)(u.W2,{children:(0,c.jsx)(_,{label:v._('Published Pins', 'title for published Pins', 'title for published Pins'),sublabel:(0,g.nk)(v.ngettext('{{ pinCount }} Pin', '{{ pinCount }} Pins', null !== (r = S.pin_count) && void 0 !== r ? r : 0, 'Label for the number of pins a user has', 'Label for the number of pins a user has'),{pinCount:S.pin_count})})})]}),z?(0,c.jsx)(d,{isOwnProfile:E,user:S}):(0,c.jsx)(a.ZP,{emptyState:(0,c.jsx)(i.Z,{fullName:S.full_name,isOwnProfile:E}),isOwnProfile:E,showNativePins:!0,user:S,username:P.params.username||""})]})}},767449:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(301921),i=o(623568),s=o(372169),r=o(883119),l=o(785893);function a({commerceData:e,componentType:t,height:o=s.Je,merchant:a,onClick:c,pin:d,slotIndex:u,surface:_,viewParameter:h,viewType:p}){return(0,l.jsx)(r.xu,{height:o,margin:s.iO,width:s.jh,children:(0,l.jsx)(r.iP,{onTap:()=>c(d),children:(0,l.jsx)(n.default,{attributionOption:"hide",pin:d,pinId:d.id,authDesktopSurface:_||"ShoppingGridShippedMetadata",auxData:{commerce_data:{...e,board_owner_id:a.id,pin_is_promoted:(0,i.jL)(d)}},componentType:t,slotIndex:u,viewParameter:h,viewType:p})})})}},155582:(e,t,o)=>{o.d(t,{Z:()=>S});var n=o(667294),i=o(6637);var s=o(512465),r=o(966113),l=o(898781),a=o(19121),c=o(349700),d=o(129274),u=o(883119),_=o(785893);const h=r.Z.settings.HELP_BLOCKING+"?source=block_dialogue";function p(e){return e.map((({full_name:e})=>e))}const m=function({users:e,onClose:t,onSubmit:o}){const n=(0,l.ZP)(),i=(0,_.jsx)("strong",{children:(0,s.Z)(p(e),n)},"userlist");return(0,_.jsxs)("form",{method:"post",children:[(0,_.jsxs)(u.xu,{padding:8,children:[(0,_.jsx)(u.xv,{children:(0,c.nk)(n._('If you block {{ users }}, you won\u2019t be able to follow  each other or interact with each other\u2019s Pins.', 'description of blocking users', 'description of blocking users'),{users:i})}),(0,_.jsx)("br",{}),(0,_.jsx)("br",{}),(0,_.jsx)(u.xv,{children:(0,_.jsx)(u.rU,{inline:!0,href:h,underline:"hover",children:n._('Learn more', 'link to learn more about blocking', 'link to learn more about blocking')})})]}),(0,_.jsx)(u.xu,{padding:2,children:(0,_.jsxs)(u.kC,{alignItems:"stretch",justifyContent:"end",gap:{row:1,column:0},children:[(0,_.jsx)(u.zx,{fullWidth:!0,onClick:t,text:n._('Cancel', 'UserBlock.Cancel', 'cancel form')}),(0,_.jsx)(u.zx,{fullWidth:!0,color:"red",onClick:()=>{o()},text:n._('Block', 'UserBlock.Submit', 'submit form to block users'),type:"submit"})]})})]})};var g=o(174798);const f=r.Z.settings.HELP_BLOCKING,x=r.Z.settings.POLICY_COMMUNITY_GUIDELINES,b=({board:e,flagReason:t,flagType:o,onClose:r,selectedReason:h,status:b,users:v})=>{const y=(0,l.ZP)(),[P,w]=(0,n.useState)({}),{setModalTitle:A,setStatus:C}=(0,d.d)(),j=(0,a.Z)(),{id:E}=j.isAuth?j:{},S=null==e?void 0:e.followed_by_me,I=v[0].explicitly_followed_by_me,T=v.filter((({id:e})=>P[e])),z=T.length>0;(0,n.useEffect)((()=>{(()=>{let e;[g.qb.SUBMITTED,g.qb.PROCESSING].includes(b)?e=y.ngettext('Block this person?', 'Block these people?', T.length, 'BlockAndUnfollow', 'Confirmation text when blocking users (plural)'):o===g.Vm.CONVERSATION&&(e=b===g.qb.COMPLETED?(0,c.nk)(y._('You\u2019ve blocked {{usernames}}', 'BlockAndUnfollow', 'title of modal after user has been blocked'),{usernames:(0,s.Z)(p(T),y).join("")}).join(""):y._('Thanks for your report', 'BlockAndUnfollow', 'title at end of report flow')),A(e)})()}),[b]),(0,n.useEffect)((()=>{C(z?g.qb.SELECTED:g.qb.STARTED)}),[P]);const k=v.filter((({id:e})=>e!==E)),D=[g.qb.STARTED,g.qb.COMPLETED].includes(b);return(0,_.jsx)("form",{method:"post",children:[g.qb.SUBMITTED,g.qb.PROCESSING].includes(b)?(0,_.jsx)(m,{onClose:()=>{C(g.qb.SELECTED)},onSubmit:()=>(C(g.qb.PROCESSING),Promise.all(Object.keys(P).filter((e=>P[e])).map((e=>function(e){return i.Z.create("UserBlockResource",{blocked_user_id:e}).callCreate().then((()=>{}),(()=>{}))}(e)))).finally((()=>{C(g.qb.COMPLETED)}))),users:T}):(0,_.jsxs)(u.xu,{padding:8,children:[(0,_.jsx)(u.xu,{children:b!==g.qb.COMPLETED?(()=>{let e,o;return"harassingOther"===h?e=(0,c.nk)(y._('We remove content that identifies and attacks private people because we consider it to be bullying. We also don\u2019t allow content that reveal someone\u2019s personally identifiable information.  Learn more about our  {{ communityGuidelines }}.', 'confirmation message after reporting harassment', 'confirmation message after reporting harassment'),{communityGuidelines:(0,_.jsx)(u.rU,{inline:!0,href:x,underline:"hover",children:y._('Community Guidelines', 'link to community guidelines for harassment', 'link to community guidelines for harassment')},"policyLink")}):"harassingPublicFigure"===h?e=y._('Please note that we won\u2019t necessarily take down stuff that attacks public figures.', 'message shown after reporting harrassment', 'message shown after reporting harrassment'):"harassingFriend"===h?e=y._('Before we can review this Pin, we need to hear from the person who\u2019s being harassed. Please have your friend report this Pin to us.', 'message shown after reporting harrassment', 'message shown after reporting harrassment'):["spam","policies","hurtfulContent"].includes(t)&&(e=y._('We\u2019ll take a look at this Pin and delete it if it goes against our policies.', 'confirmation message after reporting a pin', 'confirmation message after reporting a pin')),o=S&&I?y._('You can also unfollow or block this person.', 'description to block or unfollow', 'description to block or unfollow'):y.ngettext('You can also block this person.', 'You can also block these people.', k.length, 'description to block people', 'description to block people'),(0,_.jsxs)(n.Fragment,{children:[e&&(0,_.jsx)(u.xu,{marginBottom:8,children:(0,_.jsx)(u.xv,{children:e})}),(0,_.jsx)(u.xu,{marginBottom:8,children:(0,_.jsx)(u.xv,{children:o})}),(0,_.jsx)(u.xu,{marginBottom:8,children:k.map((({id:e,full_name:t})=>(0,_.jsx)(u.XZ,{id:"blockPinner"+e,checked:Boolean(P[e]),label:(0,c.nk)(y._('Block {{ pinnerName }}', 'BlockAndUnfollow', 'form option to block a pinner'),{pinnerName:t}).join(""),onChange:({checked:t})=>{w({...P,[e]:t})},subtext:y._('You won\u2019t be able to send each other messages or interact with each other\u2019s Pins.', 'BlockAndUnfollow', 'explanation of blocking a user')},e)))})]})})():z&&(0,_.jsx)(u.xu,{marginBottom:8,children:(0,_.jsx)(u.xv,{children:y._('You won\u2019t be able to follow each other or interact with each other\u2019s pins.', 'BlockAndUnfollow', 'message describing what blocking means')},"blockingConfirmation")})}),(0,_.jsxs)(u.xu,{children:[b!==g.qb.COMPLETED&&(0,_.jsx)(u.xu,{marginBottom:8,children:(0,_.jsx)(u.xv,{size:"100",children:(0,c.nk)(y._('Learn more about {{ linkToTopic }}', 'BlockAndUnfollow', 'footer link to learn more about a topic'),{linkToTopic:(0,_.jsx)(u.rU,{inline:!0,href:f,underline:"hover",children:y._('blocking', 'BlockAndUnfollow', 'footer link to learn more about blocking')},"policyLink")})})}),(0,_.jsx)(u.xu,{children:(0,_.jsx)(u.zx,{fullWidth:!0,color:"red",onClick:D?r:()=>{w(P),C(g.qb.SUBMITTED)},text:D?y._('Done', 'Block.Complete', 'confirm reporting flow is done & close modal'):y._('Block', 'BlockAndUnfollow', 'submit users to block')})})]})]})})};function v({flagOptions:e,flow:t,handleClose:o,handleNext:n,selectedReason:i,showPrimaryAction:s,submitButton:r}){const a=(0,l.ZP)();if(t===g.Zw.REPORT){var c;if(g.qb.PROCESSING===status||null!==(c=e.getFlagOption(i))&&void 0!==c&&c.isTerminalReason)return r;if(s)return(0,_.jsx)(u.zx,{fullWidth:!0,color:"red",disabled:void 0===i,onClick:n,text:a._('Next', 'go to the next view in the report flow', 'go to the next view in the report flow')})}else if(t===g.Zw.END)return(0,_.jsx)(u.zx,{fullWidth:!0,color:"red",onClick:o,text:a._('Got it', 'confirm reporting flow is done & close modal', 'confirm reporting flow is done & close modal')});return null}var y=o(121151);const P=r.Z.settings.POLICY_COMMUNITY_GUIDELINES;function w({flow:e,flagReason:t}){const o=(0,l.ZP)();if(e===g.Zw.REPORT){if("attacks"===t)return(0,_.jsx)(u.xv,{size:"100",children:(0,c.nk)(o._('Learn more about our {{ linkToTopic }}', 'footer link to learn more about community guidelines', 'footer link to learn more about community guidelines'),{linkToTopic:(0,_.jsx)(u.rU,{target:"blank",href:P,children:(0,_.jsx)(u.xv,{inline:!0,color:"error",size:"100",weight:"bold",children:o._('Community Guidelines', 'name of footer link to community guidelines', 'name of footer link to community guidelines')})},"policyLink")})});if("policies"===t)return(0,_.jsxs)("p",{children:[(0,_.jsx)(u.xv,{size:"100",children:(0,c.nk)(o._('Learn about {{ linkToTopic }}', 'footer link to learn more about a topic', 'footer link to learn more about a topic'),{linkToTopic:(0,_.jsx)(u.rU,{target:"blank",href:P+"#sub-section-adult-content",children:(0,_.jsx)(u.xv,{inline:!0,color:"error",size:"100",children:o._('our nudity policies', 'name of footer link to policy', 'name of footer link to policy')})},"policyLink")})}),(0,_.jsx)(u.xv,{size:"100",children:(0,c.nk)(o._('Learn about {{ linkToTopic }}', 'footer link to learn more about a topic', 'footer link to learn more about a topic'),{linkToTopic:(0,_.jsx)(u.rU,{target:"blank",href:P+"#sub-section-dangerous-goods-and-activities",children:(0,_.jsx)(u.xv,{inline:!0,color:"error",size:"100",children:o._('our policies on hurtful content', 'name of footer link to policy', 'name of footer link to policy')})},"policyLink")})}),(0,_.jsx)(u.xv,{size:"100",children:(0,c.nk)(o._('Learn about {{ linkToTopic }}', 'footer link to learn more about a topic', 'footer link to learn more about a topic'),{linkToTopic:(0,_.jsx)(u.rU,{target:"blank",href:P+"#sub-section-violence",children:(0,_.jsx)(u.xv,{inline:!0,color:"error",size:"100",children:o._('our policies on gore', 'name of footer link to policy', 'name of footer link to policy')})},"policyLink")})})]});if("spam"===t||void 0===t)return(0,_.jsx)(u.xv,{size:"100",children:(0,c.nk)(o._('Learn about {{ linkToTopic }}', 'footer link to learn more about a topic', 'footer link to learn more about a topic'),{linkToTopic:(0,_.jsx)(u.rU,{target:"blank",href:P,children:(0,_.jsx)(u.xv,{inline:!0,color:"error",size:"100",weight:"bold",children:"spam"===t?o._('our spam policies', 'name of footer link to policy', 'name of footer link to policy'):o._('our policies', 'name of footer link to policy', 'name of footer link to policy')})},"policyLink")})})}return null}function A({arrayOfData:e,handleSelectReason:t,selectedReason:o}){const n=(0,l.ZP)();return(0,_.jsx)(u.xu,{padding:2,children:(0,_.jsx)(u.FX,{id:"flag-option-radio-group",legend:n._('Flag legends', 'flag_legend', 'Flag legends'),legendDisplay:"hidden",children:e.map(((e,n)=>{const{condition:i}=e;return void 0===i||i?function(e,t,o,n){const{text:i,value:s,category:r}=e;return(0,_.jsx)(u.xu,{paddingY:2,children:(0,_.jsx)(u.FX.RadioButton,{checked:o===s,id:s,onChange:({checked:e})=>t(e,s,r),name:"flagReason",value:s,label:i})},n)}(e,t,o,n):null}))})})}class C{constructor(e){this.config=e,this.configMap=function(e){const t={};for(const o in e)e[o].forEach((e=>{const n=e.value;if(Object.prototype.hasOwnProperty.call(t,n))throw new Error("Duplicate key in FlagOptions config: "+n);t[n]=e,t[n].parentOption=o}));return t}(e)}getFlagOption(e){return e?this.configMap[e]:null}renderFlagLabels(e){const{flagReason:t,onSelectReason:o,selectedReason:n}=e;return(0,_.jsx)(A,{arrayOfData:this.config[t],handleSelectReason:o,selectedReason:n})}}function j(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class E extends n.Component{constructor(...e){super(...e),j(this,"flagOptions",new C(this.props.flagOptionsConfig)),j(this,"renderContent",(()=>{const{content:e,flow:t,onSelectReason:o,selectedReason:n}=this.props;return e||(t===g.Zw.REPORT?this.flagOptions.renderFlagLabels({flagReason:this.props.flagReason||"__default",onSelectReason:o,selectedReason:n}):t===g.Zw.END?(0,_.jsx)(u.xv,{children:this.props.i18n._('We\u2019ll use your feedback to make your Pinterest experience better.', 'final message in reporting flow', 'final message in reporting flow')}):void 0)}))}componentDidUpdate(e){const{flow:t,onCompletedReport:o,onCompletedBlock:n}=e;if(this.props.flow!==t)switch(t){case g.Zw.REPORT:o&&o();break;case g.Zw.BLOCK:n&&n()}}render(){const{accessibilityModalLabel:e,aggregated_rich_data_type:t,board:o,flagType:n,flow:i,status:s,modalTitle:r,onClose:l,pin:a,selectedReason:c,submitButton:d,flagReason:h,showPrimaryAction:p,users:m}=this.props;let f=t;if(!f&&a&&a.rich_metadata){const e=a.rich_metadata;["recipe","tutorial"].forEach((t=>{var o;e[t]&&e[t].from_aggregated_data&&null!==(o=e[t].additional_data)&&void 0!==o&&o.url&&(f=t)}))}return(0,_.jsx)(y.ZP,{accessibilityModalLabel:e,heading:r,onDismiss:l,size:"md",footer:i!==g.Zw.BLOCK?(0,_.jsxs)(u.kC,{alignItems:"center",justifyContent:"start",children:[(0,_.jsx)(u.xu,{flex:"grow",children:(0,_.jsx)(w,{flagReason:h,flow:i})}),(0,_.jsx)(u.xu,{padding:1,children:i===g.Zw.REPORT?(0,_.jsx)(u.zx,{fullWidth:!0,onClick:void 0===h?this.props.onClose:()=>{var e,t;null===(e=(t=this.props).onRevert)||void 0===e||e.call(t)},text:void 0===h?this.props.i18n._('Cancel', 'cancel form', 'cancel form'):this.props.i18n._('Back', 'previous step in a form', 'previous step in a form')}):null}),(0,_.jsx)(u.xu,{padding:1,children:(0,_.jsx)(v,{flagOptions:this.flagOptions,flow:i,handleClose:this.props.onClose,handleNext:()=>{var e,t;null===(e=(t=this.props).onNext)||void 0===e||e.call(t)},selectedReason:c,showPrimaryAction:!!p,submitButton:d})})]}):void 0,children:(0,_.jsx)(u.xu,{children:i===g.Zw.BLOCK?(0,_.jsx)(b,{board:o,flagReason:h,flagType:n,onClose:l,selectedReason:c,status:s,users:m}):(0,_.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{...f?{height:"389px"}:{}}},children:this.renderContent()})})})}}function S(e){const t=(0,l.ZP)();return(0,_.jsx)(E,{...e,i18n:t})}},129274:(e,t,o)=>{o.d(t,{N:()=>c,d:()=>a});var n=o(667294),i=o(425288),s=o(174798),r=o(785893);const{Provider:l,useHook:a}=(0,i.Z)("Flag"),c=({children:e})=>{const[t,o]=(0,n.useState)(),[i,a]=(0,n.useState)(s.Zw.REPORT),[c,d]=(0,n.useState)(s.qb.STARTED),[u,_]=(0,n.useState)(),[h,p]=(0,n.useState)(),m=(0,n.useMemo)((()=>({flagReason:h,flow:i,status:c,selectedReason:u,modalTitle:t,setFlagReason:p,setFlow:a,setModalTitle:o,setStatus:d,setSelectedReason:_})),[t,i,c,u,h]);return(0,r.jsx)(l,{value:m,children:e})}},428837:(e,t,o)=>{o.d(t,{Z:()=>g});var n=o(667294),i=o(702664),s=o(794230),r=o(155582),l=o(966113),a=o(898781),c=o(975209),d=o(129274),u=o(883119),_=o(174798),h=o(785893);const p=l.Z.settings.ABOUT_DMCA_PIN_URL,m="policies";const g=(0,i.connect)(null,(function(e){return{reportDidIt:(t,o,n,i,s)=>e((0,c.Th)(t,o,n,i,s))}}))((({aggregatedPinDataId:e,didItDataId:t,onClose:o,pinId:i,reportDidIt:l,username:c,users:g})=>{const f=(0,a.ZP)(),[x,b]=(0,n.useState)([]),[v,y]=(0,n.useState)(),[P,w]=(0,n.useState)(),{flow:A,modalTitle:C,selectedReason:j,setFlow:E,setModalTitle:S,setSelectedReason:I,setStatus:T,status:z}=(0,d.d)();(0,n.useEffect)((()=>{S((()=>{if(A===_.Zw.REPORT)switch(P){case"attacks":return f._('What\'s going on?', 'title for report content flow', 'title for report content flow');case m:return f._('What\'s wrong with this Try?', 'title for report content flow', 'title for report content flow');case"IP":return f._('Intellectual Property', 'title for report content flow for IP complaints', 'title for report content flow for IP complaints');default:return f._('What\'s wrong with this Try?', 'title for the report content flow', 'title for the report content flow')}else if(A===_.Zw.END&&x.includes("notUseful"))return f._('Thanks for letting us know!', 'title at end of report flow when content is not useful', 'title at end of report flow when content is not useful');return""})())}),[x,A,P]);const k=(0,h.jsx)(u.zx,{fullWidth:!0,color:"red",onClick:()=>{if(T(_.qb.PROCESSING),"ignoreThisPin"===j)E(_.Zw.BLOCK),T(_.qb.STARTED);else{const o=[...x,j];b(o),l(e,o,t,v,c),x.includes("notUseful")?(E(_.Zw.END),T(_.qb.STARTED)):(E(_.Zw.BLOCK),T(_.qb.STARTED))}},text:f._('Report content', 'button to report content', 'button to report content')});return(0,h.jsx)(r.Z,{accessibilityModalLabel:f._('Report conversation', 'Pin.DidIt.Report', 'Accessibility label for report pin did it'),content:"IP"===P?(0,h.jsx)(u.xu,{mdDisplay:"flex",justifyContent:"center",children:(0,h.jsxs)(u.xu,{mdColumn:9,children:[(0,h.jsx)(u.xu,{padding:2,marginStart:2,children:(0,h.jsx)(u.xv,{align:"center",color:"default",weight:"bold",children:f._('If you\u2019ve found content that you believe violates your intellectual property, you can fill out our copyright complaint form.', 'explanation of IP complaint process', 'explanation of IP complaint process')})}),(0,h.jsx)(u.xu,{padding:2,children:(0,h.jsx)(u.zx,{role:"link",href:(0,s.Z)(p,{pin_id:i,user_did_it_id:t}),color:"red",text:f._('File a report', 'link to DMCA form', 'link to DMCA form'),target:"blank"})})]})}):null,flagType:_.Vm.DID_IT,flow:A,modalTitle:C,onClose:o(!0),onNext:()=>{w(j),b([...x,j]),I()},onRevert:()=>{const e=x[x.length-1],t=x.slice(0,-1);I(e),w(t[t.length-1]),b(t),y(),T(void 0===e?_.qb.STARTED:_.qb.SELECTED)},onSelectReason:(e,t,o)=>{e&&(I(t),T(_.qb.SELECTED),y(o))},showPrimaryAction:"IP"!==P,submitButton:k,status:z,selectedReason:j,flagReason:P,users:g,flagOptionsConfig:{__default:[{text:f._('It isn\'t useful or relevant', 'tried-it reporting flow', 'tried-it reporting flow'),value:"ignoreThisPin",isTerminalReason:!0,category:"ignoreThisPin"},{text:f._('It shouldn\'t be on Pinterest', 'tried-it reporting flow', 'tried-it reporting flow'),value:m,isTerminalReason:!1},{text:f._('It\'s spam', 'tried-it reporting flow', 'tried-it reporting flow'),value:"spam",isTerminalReason:!0,category:"spam"},{text:f._('It\'s my intellectual property', 'tried-it reporting flow', 'tried-it reporting flow'),isTerminalReason:!1,value:"IP"}],ignoreThisPin:[],policies:[{text:f._('It\'s sexually explicit', 'tried-it reporting flow', 'tried-it reporting flow'),value:"nudity",isTerminalReason:!0,category:"nudity"},{text:f._('It\'s self-harm', 'an option on tried-it reporting flow', 'an option on tried-it reporting flow'),value:"self-harm",isTerminalReason:!0,category:"self-harm"},{text:f._('It\'s hate speech', 'tried-it reporting flow', 'tried-it reporting flow'),value:"hate-speech",isTerminalReason:!0,category:"hate-speech"},{text:f._('It\'s harassment or bullying', 'tried-it reporting flow', 'tried-it reporting flow'),value:"attacks",isTerminalReason:!1,category:"attacks"},{text:f._('It\'s graphic violence', 'tried-it reporting flow', 'tried-it reporting flow'),value:"gore",isTerminalReason:!0,category:"graphic-violence"}],attacks:[{text:f._('It\'s a photo of me or my child', 'tried-it reporting flow', 'tried-it reporting flow'),value:"harassingMeOrMyChild",isTerminalReason:!0,category:"attacks"},{text:f._('It identifies and attacks me or someone I know', 'tried-it reporting flow', 'tried-it reporting flow'),value:"harassingMeOrAFriend",isTerminalReason:!0,category:"attacks"},{text:f._('Something else', 'tried-it reporting flow', 'tried-it reporting flow'),value:"harassingOther",isTerminalReason:!0,category:"attacks"}],IP:[],spam:[]}})}))},174798:(e,t,o)=>{o.d(t,{Vm:()=>s,Zw:()=>n,qb:()=>i});const n={REPORT:"REPORT",BLOCK:"BLOCK",END:"END"},i={STARTED:"STARTED",SELECTED:"SELECTED",SUBMITTED:"SUBMITTED",PROCESSING:"PROCESSING",COMPLETED:"COMPLETED"},s={CONVERSATION:"CONVERSATION",DID_IT:"DID_IT"}},807496:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(667294),i=o(723776),s=o(883119),r=o(785893);const l={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"};function a({children:e,forwardRef:t,position:o="static",shouldShowShadow:a=!1,top:c,style:d={}}){const{currentScrollPosition:u,isScrolled:_,setSubheaderShadow:h}=(0,i.W)();(0,n.useEffect)((()=>(a&&h("contentHeader"),()=>{a&&h(null)})),[a]);let p=!1;"pending"!==c&&(p=null!=c?u>=c:_);const m=(0,r.jsx)(s.xu,{ref:t,dangerouslySetInlineStyle:{__style:{position:o,...d,...p&&a&&{...l,zIndex:499}}},children:e});return"sticky"===o?(0,r.jsx)(s.Le,{top:0,children:m}):m}},634820:(e,t,o)=>{o.d(t,{Z:()=>S});var n=o(667294),i=o(702664),s=o(474635),r=o(898781),l=o(883119),a=o(785893);function c(e){const t=(0,r.ZP)(),{viewType:o,boardId:n,handleTouch:i}=e,s=t._('Board', 'createMenuLinkButton.Create.Board.Label', 'label for creating a new board option'),c=t._('Section', 'createMenuLinkButton.Create.Section.Label', 'label for creating a new section option');return 5===o&&n?(0,a.jsx)(l.iP,{role:"link",href:`/board/${n}/create_section/`,rounding:2,onTap:i,children:(0,a.jsx)(l.xu,{paddingY:2,"data-test-id":"addSectionButton",children:(0,a.jsx)(l.X6,{size:"400",children:c})})}):(0,a.jsx)(l.iP,{role:"link",onTap:i,href:"/board/create/",children:(0,a.jsx)(l.xu,{paddingY:2,"data-test-id":"createMenuCreateBoardButton",children:(0,a.jsx)(l.X6,{size:"400",children:s})})})}var d=o(276775),u=o(741740);function _({handleTouch:e}){const t=(0,r.ZP)(),o=(0,d.k6)(),n=e=>({base64Image:e,method:u.I}),i=t._('Photo', 'createPinButton.Photo.Upload.Label', 'label to upload pin from camera roll photos');return(0,a.jsx)(l.iP,{tapStyle:"none",onTap:e,children:(0,a.jsxs)(l.xu,{position:"relative",paddingY:2,children:[(0,a.jsx)(l.X6,{size:"400",children:i}),(0,a.jsx)("input",{id:"upload-pin",type:"file",accept:"image/*",onChange:e=>{const t=new FileReader;t.readAsDataURL(e.target.files[0]),t.onload=()=>{const e=t.result;o.push({pathname:`/pin/create/${u.I}/`,state:n(String(e))})}},style:{opacity:0,position:"absolute",top:"0px",height:"100%",width:"100%"}})]})})}var h=o(30700),p=o(583375),m=o(121151),g=o(941646),f=o(500594),x=o(867820),b=o(266725),v=o(728214),y=o(622096),P=o(349700),w=o(859704),A=o(134906);function C(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const j=e=>{const t=window&&window.innerWidth||0,o=e._('Enter a link to create a Pin, https://...', 'placeholder in text field where a user inputs a URL to create a Pin', 'placeholder in text field where a user inputs a URL to create a Pin'),n=e._('Enter a link, https://...', 'placeholder in text field where a user inputs a URL to create a Pin - short version, 30 char limit', 'placeholder in text field where a user inputs a URL to create a Pin - short version, 30 char limit');return t<380?n:o};class E extends n.PureComponent{constructor(...e){super(...e),C(this,"state",{createPinFromLinkUrl:"",showCreateModal:!1,showInlineTextEditCreatePin:!1,urlValidationError:null}),C(this,"createPinFromLinkInput",(0,n.createRef)()),C(this,"closeCreateModal",(()=>{const{appUpsellExpGroup:e}=this.props;this.setState({showCreateModal:!1,showInlineTextEditCreatePin:!1}),this.props.updatePinBuilderInput({isInputOpen:!1,submittedLink:""}),"enabled_once"===e&&(0,y.Nh)("fcapco","1")})),C(this,"clearValidationError",(()=>{this.setState({urlValidationError:null})})),C(this,"openCreateModal",(e=>{this.handleTouch(),this.props.requireAuthForLimitedLogin({fn:()=>this.setState({showCreateModal:!0}),modalHeader:(0,f.is)(this.props.i18n)})()})),C(this,"handleCreatePinFromLinkTouch",(()=>{this.setState({showInlineTextEditCreatePin:!0}),this.props.updatePinBuilderInput({isInputOpen:!0})})),C(this,"handleLinkFieldChange",(({value:e})=>{this.setState({createPinFromLinkUrl:e})})),C(this,"handlePinFromLinkFormSubmit",((e,t)=>{const{createPinFromLinkUrl:o}=this.state;e.preventDefault(),(0,A.Jx)({message:this.props.i18n._('Oops! Please enter a valid URL.', 'URL validation error message on Pin builder form', 'URL validation error message on Pin builder form')})(o,(e=>this.handleUrlValidation(e,t)))})),C(this,"handleTouch",(()=>{const{viewType:e,elementType:t}=this.props;(0,b.So)({view_type:e,view_parameter:3106,element:t})})),C(this,"handleUrlValidation",((e,t)=>{const{errors:o}=e;if(o&&o.length>0)this.setState({urlValidationError:o[0]});else{this.setState({showInlineTextEditCreatePin:!1});const e=this.state.createPinFromLinkUrl;this.props.updatePinBuilderInput({submittedLink:e}),t.push({pathname:"/pin-builder/",state:{createPinFromLinkUrl:e}}),this.closeCreateModal()}})),C(this,"renderCreatePinFromLinkOption",(()=>{const{hasAppUpsell:e,history:t}=this.props,{createPinFromLinkUrl:o,showInlineTextEditCreatePin:n}=this.state,i=this.props.i18n._('Website', 'editPin.CreatePinFromUrl.Label', 'label for option to create a pin from a url');return(0,a.jsx)(l.kC,{alignItems:"center",height:46,justifyContent:"start",children:n?(0,a.jsx)("form",{onSubmit:e=>this.handlePinFromLinkFormSubmit(e,t),style:{width:"100%"},children:(0,a.jsxs)(l.xu,{display:"flex",justifyContent:"between",position:"relative",children:[(0,a.jsxs)(l.xu,{ref:this.createPinFromLinkInput,width:"100%",children:[this.renderErrorFlyout(),(0,a.jsx)(l.nv,{id:"create-pin-from-link",onChange:this.handleLinkFieldChange,onFocus:()=>this.setState({urlValidationError:null}),placeholder:j(this.props.i18n),size:"lg",value:o})]}),(0,a.jsx)(l.hU,{accessibilityLabel:this.props.i18n._('Create Pin from entered link', 'navigation button to confirm user will create a Pin from a link they entered', 'navigation button to confirm user will create a Pin from a link they entered'),iconColor:"darkGray",icon:"arrow-forward",onClick:({event:e})=>this.handlePinFromLinkFormSubmit(e,t),size:"lg"})]})}):(0,a.jsx)(h.Z,{onTouch:()=>this.handleCreatePinFromLinkTouch(),pressState:"none",children:(0,a.jsx)(l.xu,{position:"relative",marginTop:e?4:0,children:(0,a.jsx)(l.X6,{size:"400",children:i})})})})})),C(this,"renderErrorFlyout",(()=>{const{urlValidationError:e}=this.state;return e&&(0,a.jsx)(l.J2,{anchor:this.createPinFromLinkInput.current,color:"red",idealDirection:"up",onDismiss:this.clearValidationError,size:"sm",children:(0,a.jsx)(l.xu,{padding:3,width:"100%",children:(0,a.jsx)(l.xv,{align:"center",color:"inverse",weight:"bold",children:e})})})}))}componentDidMount(){const{isInputOpen:e,submittedLink:t}=this.props;(e||t)&&this.setState({showCreateModal:!!e,showInlineTextEditCreatePin:!!e,createPinFromLinkUrl:t||""})}render(){const{appUpsellExpGroup:e,bgColor:t,boardId:o,buttonPadding:i,hasAppUpsell:r,i18n:d,iconButtonColor:u="gray",iconButtonSize:h="xl",viewType:f}=this.props,{showCreateModal:b}=this.state;let v=this.props.i18n._('Add a Pin or board', 'heading in profile create modal', 'heading in profile create modal');164===f?v=this.props.i18n._('Add to section', 'heading in section create modal', 'heading in section create modal'):5===f&&(v=this.props.i18n._('Add a Pin or section', 'heading in profile create modal', 'heading in profile create modal')||d._('Add to board', 'heading in board create modal', 'heading in board create modal'));const w=4===f?this.props.i18n._('Add to profile', 'editPin.AddToProfile.Modal.Header', 'heading in profile create modal'):v,A="enabled_always_on"===e||"enabled_once"===e&&!(0,y.qn)("fcapco");return(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)(l.kC,{alignItems:"center",justifyContent:"start",children:(0,a.jsx)(g.Z,{id:"createMenuCreateButton",children:(0,a.jsx)(l.hU,{accessibilityLabel:this.props.i18n._('Create a Pin or board', 'icon that opens model prompting user to create a new pin or board', 'icon that opens model prompting user to create a new pin or board'),bgColor:t,iconColor:u,icon:"add",size:h,padding:"auto"!==i?i:1,onClick:({event:e})=>this.openCreateModal(e)})})}),b&&(0,a.jsx)(m.ZP,{mobileAccessibilityCloseIconLabel:this.props.i18n._('close board and pin create modal', 'close modal that prompts user to create a new pin or board', 'close modal that prompts user to create a new pin or board'),accessibilityModalLabel:"",heading:r?null:w,isOpen:this.state.showCreateModal,mobileHideCloseIcon:r,onDismiss:this.closeCreateModal,type:"create_menu",children:(0,a.jsx)(l.xu,{padding:3,children:(0,a.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,a.jsxs)(n.Fragment,{children:[A&&(0,a.jsx)(s.Z,{componentType:13106,within:"footer-create",children:({handleOpenApp:t})=>(0,a.jsx)(l.iP,{onTap:()=>{(0,x.My)("pcons_footer_create_app_click"),t(),"enabled_once"===e&&(0,y.Nh)("fcapco","1")},children:(0,a.jsx)(l.xu,{padding:4,rounding:4,marginBottom:2,dangerouslySetInlineStyle:{__style:{backgroundColor:"#E9E4FF"}},children:(0,a.jsxs)(l.kC,{children:[(0,a.jsx)(l.kC,{justifyContent:"center",direction:"column",children:(0,a.jsx)(l.xu,{marginEnd:4,children:(0,a.jsx)(p.Z,{size:30,fillColor:"var(--color-blue-skycicle-900)"})})}),(0,a.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{color:"var(--color-blue-skycicle-900)"}},children:(0,a.jsx)(l.xv,{size:"200",color:"transparent",children:(0,P.nk)(d._('Creating anything on Pinterest is better in the app. {{download}}', 'editPin.Create.Section.Upsell', 'Upsell to Create new things on Edit Pin add modal'),{download:(0,a.jsx)(l.xu,{display:"inlineBlock",dangerouslySetInlineStyle:{__style:{color:"var(--color-blue-skycicle-900)"}},children:(0,a.jsx)(l.xv,{size:"200",weight:"bold",color:"transparent",children:d._('Download app', 'editPin.Create.Section.Upsell.download', 'app upsell download title')})})})})})]})})})}),(0,a.jsxs)(l.xu,{paddingX:r?0:2,marginTop:r?4:0,children:[(0,a.jsx)(l.xv,{children:this.props.i18n._('Create', 'editPin.Create.Section.Text', 'Section title to Create new things on Edit Pin add modal')}),(0,a.jsx)(n.Fragment,{children:this.renderCreatePinFromLinkOption()}),(0,a.jsx)(l.xu,{marginTop:r?2:0,children:(0,a.jsx)(_,{handleTouch:this.handleTouch})})]}),164!==f&&(0,a.jsxs)(l.xu,{marginTop:r?1:6,paddingX:r?0:2,children:[!r&&(0,a.jsx)(l.xv,{children:this.props.i18n._('Add', 'editPin.Section.Add.Text', 'Section Add title on Edit Pin add modal')}),(0,a.jsx)(c,{boardId:o,handleTouch:()=>{this.handleTouch(),this.closeCreateModal()},viewType:f})]})]}),(0,a.jsx)(l.xu,{display:"flex",justifyContent:"center",marginBottom:2,marginTop:7,children:(0,a.jsx)(l.zx,{onClick:()=>this.closeCreateModal(),size:"lg",text:this.props.i18n._('Close', 'editPin.Modal.Close.Button', 'Button text to close modal on EditPin')})})]})})})]})}}function S(e){const t=(0,r.ZP)(),o=(0,i.useDispatch)(),n=(0,d.k6)(),{pinBuilder:s}=(0,i.useSelector)((e=>e.session)),l=s&&s.isInputOpen,c=s&&s.submittedLink,u=(0,v.Z)();return(0,a.jsx)(E,{...e,hasAppUpsell:(e.appUpsellExpGroup||"").startsWith("enabled"),history:n,isInputOpen:l,submittedLink:c,updatePinBuilderInput:e=>o((0,w.p)(e)),i18n:t,requireAuthForLimitedLogin:u})}},735079:(e,t,o)=>{o.d(t,{Z:()=>g});var n=o(702664),i=o(172071),s=o(826067);const r="http://play.google.com/store/apps/details?id=com.pinterest",l=["access_token","new_password","new_password_confirm","password","next"],a=(e,t)=>t?(0,s.ru)(e,{invite_code:t}):e,c=(e,t,o)=>{if("ios"===t&&"string"==typeof e&&e.startsWith("discover/article/")){const t=e.split("/")[2];e=`discover_article/${t}/?is_deeplink=1`}return"string"==typeof e&&e.startsWith("tv/")&&(e=e.replace(/^tv\//,"live-session/")),"string"==typeof e?a(e,o):"ios"===t||"ipad"===t?a(e.iOS,o):"android"===t?a(e.android,o):null},d=({deeplinkUri:e,fallbackUrl:t,invite_code:o,platform:n,redirectToLite:a,unauthId:d,userAgent:u})=>{if(e){const _=(({deeplinkUri:e,invite_code:t,platform:o,fallbackUrl:n,unauthId:i})=>({deeplink_path:c(e,o,t),current_page_url:(0,s.Gw)("undefined"!=typeof window?window.location.href:"",l),install_id:i,utm_source:140,utm_medium:2152,...n?{af_r:n}:null}))({deeplinkUri:e,fallbackUrl:t,invite_code:o,platform:n,unauthId:d,userAgent:u});if(i.Z.increment("mweb.deeplink",1,{platform:n}),o&&i.Z.increment("mweb.deeplink.invite_code",1),i.Z.increment("mweb.deeplink.unauthId",1,{withUnauthId:Boolean(d)}),a){i.Z.increment("mweb.deeplink.lite_link",1);const e=(({unauthId:e})=>{const t=(0,s.XP)({utm_source:"mweb",utm_medium:"upsell",utm_campaign:"twa",utm_content:e});return{referrer:encodeURI(t)}})({unauthId:d});window.location.href=(0,s.ru)("http://play.google.com/store/apps/details?id=com.pinterest.twa",e)}else if("android"===n){const t=(({deeplinkUri:e,invite_code:t,platform:o,unauthId:n})=>{const i=JSON.stringify({deeplink_path:c(e,o,t),current_page_url:(0,s.Gw)("undefined"!=typeof window?window.location.href:"",l),install_id:n});return{referrer:(0,s.XP)({utm_source:"mweb",utm_medium:"upsell",utm_content:i})}})({deeplinkUri:e,invite_code:o,platform:n,unauthId:d});"getInstalledRelatedApps"in navigator?navigator.getInstalledRelatedApps().then((e=>{if(e.length>0){const e=(0,s.ru)(window.location.href,_);window.open(e)}else window.location.href=(0,s.ru)(r,t)})).catch(i.Z.increment("mweb_android.deeplink.playStore.error",1)):window.location.href=(0,s.ru)(r,t)}else{if(i.Z.increment("mweb.deeplink.appsflyer_link",1),"ios"===n&&"undefined"!=typeof window&&window.location.href.includes("show_yip_modal"))return void(window.location.href=(0,s.ru)("https://pinterest.com/pinterest-predicts",_));window.location.href=(0,s.ru)("https://pinterest.onelink.me/TVSr/21e04bfd",_)}}};var u=o(619277),_=o(968228),h=o(785893);function p({children:e,invite_code:t}){const{userAgentPlatform:o,unauthId:i,userAgent:s}=(0,n.useSelector)((({session:e})=>e));return e((async(e,n)=>{d({deeplinkUri:e,fallbackUrl:n,invite_code:t,platform:o,redirectToLite:(0,_.Rp)({platform:o,userAgent:s}),unauthId:i,userAgent:s})}))}const m=e=>(0,h.jsx)(u.ty,{children:t=>(0,h.jsx)(p,{...e,invite_code:t})});m.displayName="DeepLinkNavigator";const g=m},141280:(e,t,o)=>{o.d(t,{Z:()=>p});var n=o(667294),i=o(124580),s=o(740990),r=o(223815),l=o(643010),a=o(968121),c=o(494349),d=o(883119),u=o(785893);const _={border:(0,l.Yc)()?void 0:"1px solid #efefef",width:"100vw",maxHeight:"100%",height:"100%",overflow:"auto",top:"0",left:"0",position:"fixed",backgroundColor:(0,l.Yc)()?"#000":"#fff",transition:"transform 0.3s ease-out",WebkitOverflowScrolling:"touch"},h={modalOpen:{__style:{..._}},modalClose:{__style:{..._,transform:"translate3d(0px, 100%, 0px)"}}};function p({accessibilityModalLabel:e,allowClickAndDrag:t,children:o,isOpen:l}){const{setAppFocusState:_}=(0,c.I)(),p=(0,n.useRef)(null);return(0,n.useEffect)((()=>(l&&(i.Z.pause(),_(!1),document.body&&(document.body.style.overflow="hidden")),()=>{l&&(i.Z.resume(),_(!0),document.body&&(document.body.style.overflow=""))})),[l,_]),(0,u.jsx)(r.Z,{allowClickAndDrag:t,children:(0,u.jsx)(d.mh,{zIndex:a.b7,children:(0,u.jsx)(d.xu,{display:"inlineBlock",role:"dialog","aria-label":e,children:(0,u.jsx)(d.xu,{ref:p,dangerouslySetInlineStyle:{__style:l?h.modalOpen.__style:h.modalClose.__style},children:(0,u.jsx)(s.Z.Provider,{value:p.current,children:o})})})})})}},7111:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(898781),i=o(883119),s=o(785893);const r=({isInModal:e})=>{const t=(0,n.ZP)();return(0,s.jsx)(i.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",left:!0,position:e?"absolute":"fixed",top:!0,width:"100%",zIndex:new i.Ry(1),dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, .5)"}},children:(0,s.jsx)(i.$j,{accessibilityLabel:t._('Loading', 'Full page loading state', 'Full page loading state'),show:!0})})}},723776:(e,t,o)=>{o.d(t,{H:()=>c,W:()=>a});var n=o(667294),i=o(700380),s=o(425288),r=o(785893);const{Provider:l,useHook:a}=(0,s.Z)("HeaderShadow");function c({children:e}){const[t,o]=(0,n.useState)(!1),[s,a]=(0,n.useState)(!1),[c,d]=(0,n.useState)(0),[u,_]=(0,n.useState)(null),h=(0,i.Z)((()=>{t&&(a(window.scrollY>0),d(window.scrollY))}),50);return(0,n.useEffect)((()=>(o(!0),()=>{o(!1)})),[]),(0,n.useEffect)((()=>(window.addEventListener("scroll",h),()=>{window.removeEventListener("scroll",h)})),[t]),(0,r.jsx)(l,{value:{currentScrollPosition:c,isScrolled:s,setSubheaderShadow:_,subheaderShadow:u},children:e})}},30700:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(883119),i=o(785893);function s({children:e,onMouseEnter:t,onMouseLeave:o,onTouch:s,rounding:r,fullWidth:l=!1,pressState:a="none",accessibilityLabel:c,role:d}){const u=(Array.isArray(a)?a:[a]).includes("compress");return(0,i.jsx)(n.iP,{fullWidth:l,onMouseEnter:t&&(({event:e})=>t(e)),onMouseLeave:o&&(({event:e})=>o(e)),onTap:s&&(({event:e})=>s(e)),rounding:r,tapStyle:u?"compress":"none",accessibilityLabel:c,role:d,children:e})}},118668:(e,t,o)=>{o.d(t,{Z:()=>x});var n=o(777918),i=o(883119),s=o(785893);function r(e){return(0,s.jsxs)(i.xu,{alignItems:"center","data-test-id":"all-pins-header",display:"flex",justifyContent:"between",marginTop:-1,children:[(0,s.jsx)(n.Z,{color:"darkGray",fallbackUrl:"/",padding:3,size:"sm"}),(0,s.jsx)(i.xu,{children:(0,s.jsx)(i.X6,{size:"300",accessibilityLevel:1,children:e.title})}),(0,s.jsx)(i.xu,{width:48})]})}var l=o(634820),a=o(821050),c=o(361777),d=o(898781),u=o(266725),_=o(378518),h=o(276775);function p({isOwnProfile:e}){const t=(0,h.k6)(),o=(0,d.ZP)(),r=(0,_._)({id:1000312});return e?(0,s.jsxs)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{paddingRight:8}},"data-test-id":"profile-own-header",display:"flex",children:[(0,s.jsx)(i.xu,{flex:"grow",children:(0,s.jsx)(c.Z,{history:t,type:"syop",viewParameter:3106,viewType:4})}),(0,s.jsx)(i.kC,{alignItems:"center",height:48,justifyContent:"center",width:48,children:(0,s.jsx)(l.Z,{iconButtonColor:"darkGray",iconButtonSize:"lg",elementType:249,viewType:4})}),(0,s.jsxs)(i.xu,{"data-test-id":"profile-settings",marginEnd:-3,children:[(0,s.jsx)(i.iP,{role:"link",onTap:()=>{(0,u.j)({event_type:101,element:57,view_type:4,view_parameter:3106})},tapStyle:"none",rounding:"circle",href:"/settings",children:(0,s.jsx)(i.kC,{alignItems:"center",height:48,justifyContent:"center",width:48,children:(0,s.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{transform:"rotate(90deg)"}},children:(0,s.jsx)(i.JO,{accessibilityLabel:o._('Settings', 'profile.ProfileActionsContainer.LinkToSettingsPage', 'Link to your settings page'),color:"default",icon:"cog",size:20})})})}),(0,s.jsx)(i.xu,{marginEnd:3,children:(0,s.jsx)(a.Z,{color:"blue",experience:r,eligibleIds:[504307],onClickComplete:()=>{t.push("/settings/edit-profile/")},showCaret:!0,textWeight:"normal",children:()=>null})})]})]}):(0,s.jsx)(i.xu,{alignItems:"center","data-test-id":"profile-header",display:"flex",children:(0,s.jsx)(n.Z,{color:"darkGray",fallbackUrl:"/",padding:3,size:"sm"})})}var m=o(892819),g=o(349700),f=o(780280);function x({location:e,user:t,viewerId:o}){const{locale:n}=(0,f.B)(),i=(0,d.ZP)(),l=(0,m.Z)(),{follower_count:a=0,following_count:c=0,interest_following_count:u=0,username:_}=t,h=c-(null!=u?u:0),x=l(n,a||0,{}),b=l(n,h||0,{}),v=e.pathname.includes(`${_}/_followers`),y=e.pathname.includes(`${_}/_following`),P=e.pathname.includes(`${_}/pins`),w=t.id===o;return P?(0,s.jsx)(r,{title:i._('All Pins', 'profilePinsHeader.heading', 'Heading for page that shows all Pins of a user')}):v?(0,s.jsx)(r,{title:w?(0,g.nk)(i.ngettext('{{ followerCount }} follower', '{{ followerCount }} followers', a, 'ProfilePage.followerCount.ownProfile', 'number of followers you have'),{followerCount:x}):(0,g.nk)(i.ngettext('{{ followerCount }} follower', '{{ followerCount }} followers', a, 'ProfilePage.followerCount.othersProfile', 'number of followers another profile has'),{followerCount:x})}):y?(0,s.jsx)(r,{title:w?(0,g.nk)(i.ngettext('{{ followingCount }} following', '{{ followingCount }} following', h, 'ProfilePage.followingCount.ownProfile', 'number of profiles you are following'),{followingCount:b}):(0,g.nk)(i.ngettext('{{ followingCount }} following', '{{ followingCount }} following', h, 'ProfilePage.followingCount.othersProfile', 'number of other profiles another user is following'),{followingCount:b})}):(0,s.jsx)(p,{isOwnProfile:w})}},474635:(e,t,o)=>{o.d(t,{Z:()=>h});var n=o(667294),i=o(735079),s=o(949372),r=o(53987),l=o(407043),a=o(385740),c=o(867820),d=o(266725),u=o(276775),_=o(785893);function h({children:e,componentType:t,within:o}){const h=(0,u.TH)(),{flushContextEvents:p}=(0,l.v)(),{viewType:m,viewParameter:g}=(0,a.SU)();(0,n.useEffect)((()=>{(0,c.LW)({action:"view",item:"download-button",pageLocation:h,within:o})}),[h,o]),(0,n.useEffect)((()=>{(0,d.j)({component:t||13106,element:10308,event_type:9976,view_type:m,view_parameter:g})}),[t,g,m]);const f=(0,s.Z)();return(0,n.useEffect)((()=>{f||(0,c.My)(`mweb.app_upsell.forbidden_upsell.${o}`)}),[f,o]),(0,_.jsx)(i.Z,{children:n=>e({handleOpenApp:e=>{var i;((0,c.LW)({action:"click",item:"download-button",pageLocation:h,within:o}),(0,c.NC)("press_open_app",!0),(0,d.So)({component:t||13106,element:10308,view_type:m,view_parameter:g}),(0,d.j)({component:t||13106,element:10308,event_type:9977,view_type:m,view_parameter:g}),p(!0),n)&&n(null!==(i=null==e?void 0:e.deepLinkUri)&&void 0!==i?i:(e=>"/"===e.pathname?"/":(0,r.am)(e)?`board/${e.pathname.substr(1)}`:e.pathname.substr(1))(h))}})})}},949372:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(702664);const i=()=>(0,n.useSelector)((({session:{canUseNativeApp:e}})=>e))},217508:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(898781),i=o(883119),s=o(785893);function r({backgroundColor:e="darkGray",iconColor:t="inverse",iconSize:o,size:r=20}){const l=(0,n.ZP)();return(0,s.jsx)(i.xu,{display:"flex",direction:"column",alignItems:"center",color:e,width:r,height:r,rounding:"circle",justifyContent:"center",children:(0,s.jsx)(i.JO,{accessibilityLabel:l._('Secret board icon', 'Icon indicating that a board is secret', 'Icon indicating that a board is secret'),color:t,icon:"lock",size:null!=o?o:r/2})})}},821050:(e,t,o)=>{o.d(t,{Z:()=>_});var n=o(667294),i=o(702664),s=o(121093),r=o(30700),l=o(883119),a=o(332611),c=o(785893);function d(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class u extends n.PureComponent{constructor(...e){super(...e),d(this,"state",{paused:!1,showPulsar:!1,hasMounted:!1}),d(this,"handleDismiss",(e=>{const{onClickDismiss:t,dismissExperience:o,experience:n}=this.props;if(!n)return;const{experience_id:i,placement_id:s}=n;o(s,i),t&&t()})),d(this,"wrapperRef",(0,n.createRef)())}componentDidMount(){this.props.experience&&(this.mountPulsar(),this.setState({hasMounted:!0}))}mountPulsar(){const{experience:e}=this.props;if(!e)return;const{display_data:t}=e;t.has_pulsar&&this.setState({showPulsar:!0})}renderPulsar(){const e=this.wrapperRef,{paused:t}=this.state;if(!e||!e.current)return null;const o=e.current.getBoundingClientRect(),{height:n,width:i}=o,s=-(68+n/2),a=-(68-i/2);return(0,c.jsx)(r.Z,{pressState:"none",children:(0,c.jsx)(l.xu,{position:"absolute",zIndex:new l.Ry(1),dangerouslySetInlineStyle:{__style:{marginTop:s,marginLeft:a,pointerEvents:"none"}},children:(0,c.jsx)(l.o3,{paused:t,size:136})})})}render(){const{children:e,color:t,eligibleIds:o,experience:n,idealDirection:i,onClickComplete:r,showCaret:a,size:d,textWeight:u="bold"}=this.props,{showPulsar:_,hasMounted:h}=this.state;if(!n||!o.includes(n.experience_id)||!h)return e({experience:n});const{display_data:p}=n;return(0,c.jsx)(s.Z,{eligibleIds:o,experience:n,children:({complete:o})=>(0,c.jsxs)(l.xu,{ref:this.wrapperRef,children:[e({experience:n}),_?this.renderPulsar():p.has_tooltip&&(0,c.jsx)(l.J2,{anchor:this.wrapperRef.current,color:t,idealDirection:i||"down",onDismiss:this.handleDismiss,showCaret:a,size:d,children:(0,c.jsx)(l.xu,{padding:3,children:(0,c.jsxs)(l.kC,{direction:"column",gap:{row:0,column:3},children:[(0,c.jsx)(l.xu,{column:12,children:(0,c.jsx)(l.xv,{color:"inverse",weight:u,children:p.text})}),p.complete_button_text&&(0,c.jsx)(l.kC,{alignItems:"stretch",justifyContent:"center",children:p.complete_button_text&&(0,c.jsx)(l.kC,{alignContent:"center",children:(0,c.jsx)(l.zx,{color:"white",onClick:()=>{o(1),r&&r()},size:"md",text:p.complete_button_text})})})]})})})]})})}}const _=(0,i.connect)(null,(e=>({dismissExperience:(t,o)=>e((0,a.Qu)(t,o)),completeExperience:(t,o)=>e((0,a.CK)(t,o))})))(u)},500594:(e,t,o)=>{o.d(t,{Bb:()=>f,Bx:()=>c,DF:()=>r,F4:()=>a,OG:()=>s,Qj:()=>d,_6:()=>g,gv:()=>l,hg:()=>u,is:()=>p,jP:()=>m,lt:()=>i,oM:()=>_,wI:()=>h});var n=o(826067);const i=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),s=e=>e.pathname,r=e=>{var t;return null!==(t=null==e?void 0:e._('You\'ll need to log in to do that', 'limitedLogin.modalHeader.completeAction', 'Mobile web limited login modal to prompt users to log in in order to complete current action'))&&void 0!==t?t:"You'll need to log in to do that"},l=({firstName:e,i18n:t})=>e?(t._('{{ name }} invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends({{ name }}) board')).replace("{{ name }}",e):t._('Your friends invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends board'),a=e=>{const t=(0,n.mB)(e.search).board_url;if(t){const e=(0,n.Jx)(t),o=(0,n.XP)({accept_invite:!0,seamless:!0});return e.includes("?")?`${e}&${o}`:`${e}?${o}`}return e.pathname},c=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),d=e=>{const t=e.pathname;if(t.startsWith("/pin/")){const e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/repin/`}return t},u=e=>e._('Log in to send this Pin', 'limitedLogin.modalHeader.send', 'Title on mobile web limited login modal to prompt users to login after they clicked send button.'),_=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),h=e=>{const t=e.pathname;if(t.startsWith("/pin/")){const e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/edit/`}return t},p=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.'),m=e=>e._('Log in to hide this Pin', 'limitedLogin.modalHeader.hidePin', 'Title on mobile web limited login modal to prompt users to login after they clicked hide Pin button.'),g=e=>e._('Log in to share the profile', 'limitedLogin.modalHeader.shareProfile', 'Title on mobile web limited login modal to prompt users to login after they clicked share button on profile page.'),f=e=>e._('Log in to create a board', 'limitedLogin.modalHeader.createBoard', 'Title on mobile web limited login modal to prompt users to login to create a board.')},426287:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(702664),i=o(947411),s=o(479739),r=o(276775),l=o(785893);function a(e){const t=(0,r.UO)(),o=(0,n.useSelector)((e=>e)),a=(0,s.Il)(o)[t.username];return(0,l.jsx)(i.Z,{...e,user:a})}},777918:(e,t,o)=>{o.d(t,{Z:()=>u});var n=o(702664),i=o(941646),s=o(898781),r=o(266725),l=o(867820),a=o(883119),c=o(276775),d=o(785893);function u({alignIconLeft:e,bgColor:t,color:o,disableRedirect:u=!1,fallbackUrl:_,icon:h="arrow-back",onTouch:p,padding:m,placement:g,shouldUseFallbackUrl:f,size:x="lg",viewParameter:b,viewType:v}){const y=(0,s.ZP)(),P=(0,c.k6)(),w=(0,c.TH)(),A=(0,n.useSelector)((e=>e.session.isAuthenticated)),C=()=>{(0,l.My)(`mweb_back_button_click.${String(g)}.is_auth_${String(A)}`),(0,l.LW)({action:"click",pageLocation:w,item:"back-button"}),v&&b&&(0,r.So)({view_type:v,view_parameter:b,element:34}),p&&p(),u||((!w.key||w.state&&"redirect"===w.state.referrer||f)&&_?P.push(_):w.pathname.includes("/password/reset/")&&w.search&&w.search.includes("?nativeShouldDismiss=true")?P.push("/login/?dismissWebview=true"):P.goBack())};return(0,d.jsx)(i.Z,{id:"back-button",children:e?(0,d.jsx)(a.xu,{display:"flex",width:48,height:48,alignItems:"center",marginStart:"cancel"===h?-1:-2,children:(0,d.jsx)(a.hU,{accessibilityLabel:y._('Back', 'navigation button', 'navigation button'),bgColor:t,iconColor:o||t&&!["white","lightGray","transparent"].includes(t)?o:"gray",icon:h,onClick:C,padding:"auto"!==m?m:2,size:x})}):(0,d.jsx)(a.hU,{accessibilityLabel:y._('Back', 'navigation button', 'navigation button'),bgColor:t,iconColor:o||t&&!["white","lightGray","transparent"].includes(t)?o:"gray",icon:h,onClick:C,padding:"auto"!==m?m:2,size:x})})}},114728:(e,t,o)=>{o.d(t,{Z:()=>h});var n=o(667294),i=o(829407),s=o(898781),r=o(622739),l=o(883119),a=o(276775),c=o(785893);const d="all 0.6s cubic-bezier(0.68, -0.6, 0.32, 1.6)",u={transform:"scale(0)",opacity:"0",transition:d},_={transform:"scale(1)",opacity:"1",transition:d};function h({scope:e,onTap:t}){const o=(0,s.ZP)();let d;switch(e){case"buyable_pins":d="shopping-bag";break;case"users":d="person"}const h="buyable_pins"===e?"shopping":"selected",p=(0,a.TH)(),m=(0,a.k6)(),g=p.search,f=(0,l.JZ)(),[x,b]=(0,n.useState)(f?_:u),v=(0,n.useRef)();return(0,i.Z)((()=>f?()=>{}:(b(_),()=>{b(u)}))),(0,c.jsx)(l.xu,{marginEnd:2,ref:v,dangerouslySetInlineStyle:{__style:x},children:(0,c.jsx)(l.iP,{rounding:"circle",tapStyle:"compress",onTap:function({event:e}){e.stopPropagation(),t?t():m.push((0,r.NZ)("/search/pins/",g))},children:(0,c.jsx)(l.xu,{padding:3,rounding:"circle",color:h,children:(0,c.jsx)(l.JO,{accessibilityLabel:o._('Search mode icon', 'searchBox.modesIcon.accessibilityLabel', 'Search mode icon in search box'),icon:d,color:"inverse",size:16})})})})}},361777:(e,t,o)=>{o.d(t,{Z:()=>u});var n=o(667294),i=o(114728),s=o(898781),r=o(266725),l=o(773285),a=o(597897),c=o(883119),d=o(785893);function u({history:e,placeholder:t,query:o="",scope:u,type:_="default",viewParameter:h,viewType:p}){const m=(0,s.ZP)(),g=(0,a.U)(),{checkExperiment:f}=(0,l.F)();(0,n.useEffect)((()=>{g&&setTimeout((()=>{g.load(new URL("search.js","file://"))}),500)}),[]);const{anyEnabled:x}=f("mweb_search_onebar_v01"),b={default:{label:m._('Search', 'SearchBar.searchTypes.default.label', 'Search input label'),path:"/search/"},syop:{label:"en"===m.getLocaleData().locale.split("-")[0]?m._('Search your Pins', 'SearchBar.searchTypes.profile.englishLabel', 'text for profile search bar'):m._('Search', 'SearchBar.searchTypes.profile.nonEnglishLabel', 'text for profile search bar'),path:"/search/me/"}},v=()=>b[_].path,[y,P]=(0,n.useState)(null!=u?u:"pins"),w=("buyable_pins"===y||"users"===y)&&x;(0,n.useEffect)((()=>{P(null!=u?u:"pins")}),[u]);const A=o?(0,d.jsxs)(n.Fragment,{children:[(0,d.jsx)(c.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:(0,d.jsx)(c.xu,{marginStart:1,overflow:"hidden",children:(0,d.jsx)(c.xv,{inline:!0,lineClamp:1,weight:"bold",children:o})})}),(0,d.jsx)(c.xu,{alignItems:"center","data-test-id":"cancelSearch",display:"flex",marginBottom:1,children:(0,d.jsx)(c.hU,{accessibilityLabel:m._('Clear search query', 'SearchBar.clearIconButton.accessibilityLabel', 'Accessibility label for icon button to clear the current search query'),onClick:({event:t})=>{const o=v();t.stopPropagation(),e.push(o)},icon:"clear",padding:1,size:"md",iconColor:"gray"})})]}):(0,d.jsxs)(n.Fragment,{children:[(0,d.jsx)(c.JO,{accessibilityLabel:m._('Search', 'SearchBar.searchIcon.accessibilityLabel', 'Accessibility label for search bar "search" icon'),icon:"search",size:16}),(0,d.jsx)(c.xu,{marginStart:2,children:(0,d.jsx)(c.xv,{color:"subtle",children:t||b[_].label})})]});return(0,d.jsx)(c.iP,{onTap:()=>(()=>{const t=v();(0,r.So)({component:43,element:227,aux_data:{entered_query:o},view_parameter:h,view_type:p});const n=o?`${t}?rs=typed&q=${encodeURIComponent(o)}&scope=${u||""}`:t;return e.push(n)})(),rounding:2,children:(0,d.jsxs)(c.xu,{alignItems:"center",borderStyle:"lg",color:"default","data-test-id":"searchBarPlaceholder",display:"flex",flex:"grow",height:48,dangerouslySetInlineStyle:{__style:{padding:"13px 16px"}},rounding:8,children:[w&&(0,d.jsx)(c.xu,{marginStart:-3,children:(0,d.jsx)(i.Z,{scope:u})}),A]})})}},209236:(e,t,o)=>{o.d(t,{Z:()=>F});var n=o(667294),i=o(702664),s=o(90771),r=o(31149),l=o(659522),a=o(214680),c=o(331744),d=o(172071),u=o(757146),_=o(785893);function h({size:e=56}){return(0,_.jsxs)("svg",{display:"block",fill:"none",height:e,viewBox:"0 0 56 56",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,_.jsx)("rect",{fill:"#e60023",height:"56",rx:"28",width:"56"}),(0,_.jsx)("path",{clipRule:"evenodd",d:"m28 31.9842 6 3.6666v-15.6508h-12v15.6508zm0 3.5158 5.9571 3.6404c1.3327.8145 3.0429-.1447 3.0429-1.7065v-17.4339c0-1.6569-1.3431-3-3-3h-12c-1.6569 0-3 1.3431-3 3v17.4339c0 1.5618 1.7102 2.521 3.0429 1.7065z",fill:"#fff",fillRule:"evenodd"})]})}var p=o(862960),m=o(941646),g=o(499128),f=o(464240),x=o(965708),b=o(287072),v=o(89396),y=o(22641),P=o(467570),w=o(773285),A=o(50286),C=o(780280),j=o(898781),E=o(391968),S=o(833715),I=o(867820),T=o(883119),z=o(957161),k=o(276775),D=o(343341);function R(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const O=56,L=String(86),B=({text:e})=>(0,_.jsx)(T.xv,{align:"center",size:"100",children:e});class M extends n.PureComponent{constructor(...e){super(...e),R(this,"state",{invitePath:"",inviteCode:null,inviteMessage:"",inviteTitle:"",Clipboard:null,fbLoaded:!1}),R(this,"setClipboard",(e=>{const{Clipboard:t,invitePath:o}=this.state;(0,S.sF)(o,t,e,this.showCopyToast)})),R(this,"showCopyToast",(()=>{var e,t,o,n;this.logShareClick(12),this.setNewAppOrder(12),null===(e=(t=this.props).onShare)||void 0===e||e.call(t),this.props.showToast((({hideToast:e})=>(0,_.jsx)(g.ZP,{text:this.props.i18n._('Copied link to your clipboard to share', 'url link was copied to user clipboard', 'url link was copied to user clipboard'),onHide:e}))),null===(o=(n=this.props).setShareSent)||void 0===o||o.call(n,!0),(0,I.LW)({action:"click",pageLocation:this.props.location,item:"copy-link-share-icon"})})),R(this,"getDefaultAppOrder",(()=>{const{country:e,isDesktop:t,inCopyLinkReorderExp:o}=this.props;return(0,S.pW)({country:e,isDesktop:t,shouldShowNativeShare:Boolean(navigator.share),inCopyLinkReorderExp:o})})),R(this,"getAppOrder",(()=>{const{inCopyLinkReorderExp:e}=this.props;let t=JSON.parse((0,z.qn)(E.B));return t?e&&(t=[...t.filter((e=>11!==e&&12!==e)),12],Boolean(navigator.share)&&t.push(11)):t=this.getDefaultAppOrder(),t})),R(this,"setNewAppOrder",(e=>{const{inCopyLinkReorderExp:t}=this.props;(!t||t&&!E.F6.has(e))&&(0,z.Nh)(E.B,JSON.stringify([e,...this.getAppOrder().filter((t=>t!==e))]))})),R(this,"handleMessagingAppClick",(e=>{var t,o,n,i;null===(t=(o=this.props).onShare)||void 0===t||t.call(o),null===(n=(i=this.props).setShareSent)||void 0===n||n.call(i,!0),this.logShareClick(e),this.setFreshInviteCode(e),E.rO.has(e)||(0,z.Nh)(E.Cq,e),this.setNewAppOrder(e)})),R(this,"handleMessengerClick",(()=>{(0,I.LW)({action:"click",pageLocation:this.props.location,item:"fbmessenger-share-icon"}),this.handleMessagingAppClick(6)})),R(this,"handleTwitterClick",(()=>{(0,I.LW)({action:"click",pageLocation:this.props.location,item:"twitter-share-icon"}),this.handleMessagingAppClick(9)})),R(this,"handleWhatsappClick",(()=>{(0,I.LW)({action:"click",pageLocation:this.props.location,item:"whatsapp-share-icon"}),this.handleMessagingAppClick(10)})),R(this,"handleLineClick",(()=>{this.handleMessagingAppClick(8)})),R(this,"handleTelegramClick",(()=>{this.handleMessagingAppClick(20)})),R(this,"handleViberClick",(()=>{this.handleMessagingAppClick(22)})),R(this,"handleEmailClick",(()=>{this.handleMessagingAppClick(3),(0,I.LW)({action:"click",pageLocation:this.props.location,item:"email-share-button"})})),R(this,"handleFacebookClick",(e=>{var t,o,n,i;const{isDesktop:s}=this.props;e.preventDefault(),null===(t=(o=this.props).onShare)||void 0===t||t.call(o),null===(n=(i=this.props).setShareSent)||void 0===n||n.call(i,!0),(0,I.My)(`pcons.${s?"desktop":"mobile"}.facebook-share-icon`),(0,I.LW)({action:"click",pageLocation:this.props.location,item:"facebook-share-icon"});const{inviteCode:r,invitePath:l,fbLoaded:a}=this.state;(0,S.Rh)(a,l,r||"",(()=>this.logShareClick(5))),this.setFreshInviteCode(5),this.setNewAppOrder(5)})),R(this,"handleSmsClick",(()=>{this.handleMessagingAppClick(4)})),R(this,"logShareClick",((e,t=this.state.inviteCode)=>{const{objectId:o,objectType:n,component:i,clientTrackingParams:s,viewType:r,viewParameter:l}=this.props;(0,S.Iz)({inviteChannel:e,inviteCode:t,objectId:o,objectType:n,component:i,clientTrackingParams:s,view_type:r,view_parameter:l})})),R(this,"copyButtonRef",null),R(this,"renderAppsInCustomOrder",(({Email:e,Facebook:t,FBMessenger:o,Line:i,WhatsApp:s,Twitter:r,Viber:l,Telegram:a,CopyLink:c,Sms:d,ShareVia:u})=>{const h=this.getAppOrder(),p=new Map([[6,o],[10,s],[5,t],[9,r],[3,e],[8,i],[20,a],[22,l],[4,d],[12,c],[11,u]]);return(0,_.jsx)(n.Fragment,{children:h.map((e=>p.get(e)))})})),R(this,"onHandleRepinSave",(({event:e,dangerouslyDisableOnNavigation:t})=>{var o,n;t(),null===(o=(n=this.props).onSave)||void 0===o||o.call(n),this.props.onNavigation({event:e})}))}componentDidMount(){this.setFreshInviteCode(12),(0,P.we)(this.props.locale).then((()=>{this.setState({fbLoaded:!0})})),o.e(6527).then(o.t.bind(o,842152,23)).then((({default:e})=>{e.isSupported()&&(this.setState({Clipboard:e}),this.setClipboard(this.copyButtonRef))}))}componentDidUpdate({objectId:e}){const{objectId:t}=this.props;e!==t&&this.setFreshInviteCode(12)}async setFreshInviteCode(e){const{objectId:t,objectType:o}=this.props,{invitePath:n,inviteCode:i,title:s,message:r}=await(0,S.yP)(e,t,o),l={};n&&(l.invitePath=n),i&&(l.inviteCode=i),s&&(l.inviteTitle=s),r&&(l.inviteMessage=r),this.setState(l)}render(){const{isDesktop:e,objectType:t,onSave:o,showSaveOption:n,isAppleDevice:i}=this.props,{invitePath:g,inviteMessage:x,inviteTitle:b}=this.state,{emailShareLink:P,messengerShareLink:w,twitterShareLink:A,whatsappShareLink:C,lineShareLink:j,telegramShareLink:E,viberShareLink:I,smsShareLink:z}=(0,S.tA)({invitePath:g,inviteTitle:b,objectType:t,i18n:this.props.i18n,isDesktop:e}),k=({children:t})=>(0,_.jsx)(T.kC,{alignItems:"center",justifyContent:"start",direction:"column",width:e?`${L}px`:"100%",children:t}),D=({children:e})=>(0,_.jsx)(T.xu,{display:"flex",justifyContent:"center",paddingX:3,marginBottom:1,children:e}),R=(0,_.jsxs)(k,{children:[(0,_.jsx)(D,{children:(0,_.jsx)(m.Z,{id:"fbmessenger-share-icon",children:(0,_.jsx)(T.iP,{rounding:"circle",role:"link",rel:"nofollow",href:w,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleMessengerClick()},children:(0,_.jsx)(u.Z,{size:O})})})}),(0,_.jsx)(B,{text:this.props.i18n._('Messenger', 'shareMenu.icon.label.messenger', 'Facebook Messenger App')})]}),M=(0,_.jsxs)(k,{children:[(0,_.jsx)(D,{children:(0,_.jsx)(m.Z,{id:"whatsapp-share-icon",children:(0,_.jsx)(T.iP,{rounding:"circle",role:"link",rel:"nofollow",href:C,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleWhatsappClick()},children:(0,_.jsx)(y.Z,{size:O})})})}),(0,_.jsx)(B,{text:this.props.i18n._('WhatsApp', 'shareMenu.icon.label.whatsapp', 'WhatsApp App')})]}),F=(0,_.jsx)(T.xu,{"data-test-id":"facebook-share-icon",display:"flex",flex:"shrink",children:(0,_.jsxs)(k,{children:[(0,_.jsx)(D,{children:(0,_.jsx)(T.rU,{href:"#",onClick:({event:e})=>{this.handleFacebookClick(e)},children:(0,_.jsx)(l.Z,{size:O})})}),(0,_.jsx)(B,{text:this.props.i18n._('Facebook', 'shareMenu.icon.label.facebook', 'Facebook App')})]})}),N=(0,_.jsxs)(k,{children:[(0,_.jsx)(D,{children:(0,_.jsx)(m.Z,{id:"twitter-share-icon",children:(0,_.jsx)(T.iP,{rounding:"circle",role:"link",rel:"nofollow",href:A,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleTwitterClick()},children:(0,_.jsx)(f.Z,{size:O})})})}),(0,_.jsx)(B,{text:this.props.i18n._('Twitter', 'shareMenu.icon.label.twitter', 'Twitter App')})]}),Z=(0,_.jsxs)(k,{children:[(0,_.jsx)(D,{children:(0,_.jsx)(T.iP,{rounding:"circle",role:"link",rel:"nofollow",href:j,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleLineClick()},children:(0,_.jsx)(c.Z,{size:O})})}),(0,_.jsx)(B,{text:this.props.i18n._('Line', 'shareMenu.icon.label.line', 'Line App')})]}),U=(0,_.jsxs)(k,{children:[(0,_.jsx)(D,{children:(0,_.jsx)(T.iP,{rounding:"circle",role:"link",rel:"nofollow",href:I,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleViberClick()},children:(0,_.jsx)(v.Z,{size:O})})}),(0,_.jsx)(B,{text:this.props.i18n._('Viber', 'shareMenu.icon.label.viber', 'Viber App')})]}),G=(0,_.jsxs)(k,{children:[(0,_.jsx)(D,{children:(0,_.jsx)(T.iP,{rounding:"circle",role:"link",rel:"nofollow",href:E,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleTelegramClick()},children:(0,_.jsx)(p.Z,{size:O})})}),(0,_.jsx)(B,{text:this.props.i18n._('Telegram', 'shareMenu.icon.label.telegram', 'Telegram App')})]}),H=(0,_.jsxs)(k,{children:[(0,_.jsx)(D,{children:(0,_.jsx)(m.Z,{id:"email-share-button",children:(0,_.jsx)(T.iP,{rounding:"circle",role:"link",rel:"nofollow",target:"blank",href:P,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleEmailClick()},children:(0,_.jsx)(r.Z,{size:O})})})}),(0,_.jsx)(B,{text:this.props.i18n._('Email', 'shareMenu.icon.label.email', 'Email App')})]}),V=(0,_.jsxs)(k,{children:[(0,_.jsx)(D,{children:(0,_.jsx)(T.iP,{rounding:"circle",role:"link",rel:"nofollow",target:"blank",href:"#",onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{var o,n;e.preventDefault(),null===(o=(n=this.props).onShare)||void 0===o||o.call(n),t();const i=x.indexOf("https://");navigator.share&&navigator.share({url:g,text:i>0?x.slice(0,i):x,title:b}).then((()=>{this.handleMessagingAppClick(11),d.Z.increment("allshareoptions_navigator_share.success",1)})).catch((e=>{d.Z.increment("allshareoptions_navigator_share.error",1,{name:e.name,message:e.message})}))},children:(0,_.jsx)(T.xu,{height:O,children:(0,_.jsx)(T.hU,{accessibilityLabel:this.props.i18n._('Native share sheet icon', 'shareMenu.icon.accessibilityLabel.native_share_sheet', 'Accessibility label for native share sheet icon'),bgColor:"lightGray",icon:"share",iconColor:"darkGray",size:"xl"})})})}),(0,_.jsx)(B,{text:this.props.i18n._('Share via', 'shareMenu.icon.label.share_via', 'Share via label')})]}),W=(0,_.jsxs)(k,{children:[(0,_.jsx)(D,{children:(0,_.jsx)(T.iP,{rounding:"circle",role:"link",rel:"nofollow",href:z,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleSmsClick()},children:i?(0,_.jsx)(a.Z,{size:O}):(0,_.jsx)(s.Z,{size:O})})}),(0,_.jsx)(B,{text:this.props.i18n._('Message', 'shareMenu.icon.label.message', 'Message App')})]}),$=(0,_.jsxs)(k,{children:[(0,_.jsx)(D,{children:(0,_.jsx)(T.xu,{ref:this.setClipboard,dangerouslySetInlineStyle:{__style:{cursor:e?"pointer":void 0}},"data-test-id":"copy-link-share-icon",height:O,children:(0,_.jsx)(T.hU,{accessibilityLabel:this.props.i18n._('Link icon', 'shareMenu.icon.accessibilityLabel.copy', 'Accessibility label for copy link icon'),bgColor:"lightGray",icon:"link",iconColor:"darkGray",size:"xl"})})}),(0,_.jsx)(B,{text:this.props.i18n._('Copy link', 'shareMenu.icon.label.copy', 'Copy link icon')})]});return(0,_.jsxs)(T.xu,{children:[(0,_.jsx)(T.xu,{height:4}),(0,_.jsx)(T.kC,{alignItems:"stretch",justifyContent:"start",overflow:"hidden",children:(0,_.jsxs)(T.xu,{display:"flex",justifyContent:"start",height:e?180:void 0,width:e?370:"100vw",marginBottom:-2,paddingX:1,paddingY:2,overflow:e?void 0:"scrollX",wrap:e,children:[n&&o&&(()=>(0,_.jsxs)(k,{children:[(0,_.jsx)(D,{children:(0,_.jsx)(T.iP,{rounding:"circle",onTap:this.onHandleRepinSave,children:(0,_.jsx)(h,{size:O})})}),(0,_.jsx)(B,{text:this.props.i18n._('Save', 'shareMenu.icon.label.save', 'Save')})]}))(),this.renderAppsInCustomOrder({Email:H,Facebook:F,FBMessenger:R,Line:Z,WhatsApp:M,Twitter:N,Viber:U,Telegram:G,CopyLink:$,Sms:W,ShareVia:V})]})}),(0,_.jsx)(T.xu,{height:16})]})}}function F(e){const t=(0,j.ZP)(),o=(0,k.TH)(),n=(0,x.Z)(),s=(0,A.HG)(),{showToast:r}=(0,D.F9)(),{country:l,locale:a}=(0,C.B)(),c=(0,b.Z)({href:{pathname:`/pin/${e.objectId}/repin`,state:{viewType:e.viewType,viewParameter:e.viewParameter}}}),d=(0,i.useSelector)((({session:e})=>e.userAgentPlatform)),u="ios"===d||"ipad"===d,{checkExperiment:h}=(0,w.F)(),p=!s&&h(n?"mweb_copy_link_reorder":"unauth_mweb_copy_link_reorder").anyEnabled;return(0,_.jsx)(M,{...e,country:l,i18n:t,isDesktop:s,locale:a,showToast:r,onNavigation:c,location:o,isAppleDevice:u,inCopyLinkReorderExp:p})}},833715:(e,t,o)=>{o.d(t,{Iz:()=>h,Rh:()=>d,pW:()=>a,sF:()=>u,tA:()=>c,yP:()=>_});var n=o(6637),i=o(467570),s=o(867060),r=o(266725);const l={FBMessenger:6,WhatsApp:10,Facebook:5,Twitter:9,Email:3,Line:8,Telegram:20,Viber:22,Sms:4,CopyLink:12,ShareVia:11};function a({country:e,isDesktop:t,shouldShowNativeShare:o,inCopyLinkReorderExp:n}){const{FBMessenger:i,WhatsApp:s,Facebook:r,Twitter:a,Email:c,Line:d,Telegram:u,Viber:_,Sms:h,CopyLink:p,ShareVia:m}=l;function g(){switch(e){case"US":return t?[s,r,a,c]:[h,i,s,r,a];case"ID":return t?[s,d,c,r]:[s,u,h,d,c,r];case"JP":case"TH":case"TW":return t?[d,a,c,r]:[d,c,h,a,r];case"GR":return t?[s,r,a,c]:[_,i,s,h,r,a];case"IR":case"IQ":return t?[s,r,a,c]:[s,u,h,i,a];case"UA":case"RU":return t?[s,r,a,c]:[s,_,u,r,i,h,a];default:return t?[s,r,a,c]:[s,i,h,r,a]}}return n?[...g(),p,...o?[m]:[]]:[p,...g(),...o?[m]:[]]}function c({invitePath:e,inviteTitle:t,objectType:o,i18n:n,isDesktop:s}){let r=n._('A Pin for you', 'shareMenu.message.title', 'Messaging title when sharing a pin to a friend');8===o&&(r=n._('Check out this article on Pinterest!', 'shareMenu.message.title', 'Messaging title when sharing a today article to a friend'));const l=`mailto:?subject=${encodeURIComponent(r)}&body=${encodeURIComponent(e)}`,a=`fb-messenger://share/?link=${encodeURIComponent(e)}&app_id=${i.GH}`,c=`${t}\n${e}`,d=s?`https://twitter.com/intent/tweet?via=pinterest&url=${encodeURIComponent(c)}`:`twitter://post?message=${encodeURIComponent(c)}`,u=s?`https://web.whatsapp.com/send?text=${encodeURIComponent(c)}`:`whatsapp://send?text=${encodeURIComponent(c)}`,_=s?`https://social-plugins.line.me/lineit/share?url=${encodeURIComponent(e)}&text=${encodeURIComponent(t)}`:`https://line.me/R/msg/text/?${encodeURIComponent(c)}`,h=`viber://forward?text=${encodeURIComponent(c)}`;return{emailShareLink:l,messengerShareLink:a,twitterShareLink:d,whatsappShareLink:u,lineShareLink:_,telegramShareLink:`tg://msg?text=${encodeURIComponent(c)}`,viberShareLink:h,smsShareLink:`sms:?&body=${encodeURIComponent(c)}`}}function d(e,t,o,n){e&&window.FB&&window.FB.ui&&window.FB.ui({method:"share",mobile_iframe:!0,href:t},(e=>{e&&!e.error_message&&n&&n()}))}function u(e,t,o,n){if(!o||!t)return;const i=new t(o,{text:()=>e});i.on("success",(e=>{n&&n(e)})),i.on("error",(e=>{throw new Error("<ShareMenu /> error: copy command failed")}))}async function _(e,t,o){const i=n.Z.create("CreateExternalInviteResource",{invite_type:{invite_category:3,invite_object:o,invite_channel:e},object_id:t}),s=await i.callCreate(),{invite_url:r,invite_code:l,title:a,message:c}=s.resource_response.data;return{inviteCode:l,invitePath:r,title:a,message:c}}async function h({inviteChannel:e,inviteCode:t,objectId:o,objectType:i,component:l,clientTrackingParams:a,view_parameter:c,view_type:d}){(0,r.So)({aux_data:{invite_object:i},component:l,clientTrackingParams:a,element:s.c[e],view_type:d,view_parameter:c}),n.Z.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:3,invite_object:i,invite_channel:e},invite_code:t,object_id:o}).callCreate()}},418651:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(209236),i=o(39540),s=o(883119),r=o(785893);const l=new s.H3([i.Z]);function a({anchor:e,onDismiss:t,objectId:o,objectType:i,title:a}){return(0,r.jsx)(s.mh,{zIndex:l,children:(0,r.jsx)(s.J2,{anchor:e,onDismiss:t,size:"xl",positionRelativeToAnchor:!1,children:(0,r.jsxs)(s.kC,{alignItems:"center",direction:"column",wrap:!0,width:360,overflow:"hidden",children:[(0,r.jsx)(s.xu,{marginTop:4,marginBottom:4,children:(0,r.jsx)(s.xv,{size:"300",weight:"bold",children:a})}),(0,r.jsx)(s.kC,{width:360,children:(0,r.jsx)(n.Z,{objectId:o,objectType:i,onDismiss:t})})]})})})}},203345:(e,t,o)=>{o.r(t),o.d(t,{default:()=>W});var n=o(667294),i=o(209236),s=o(766935),r=o(940519),l=o(936776),a=o(172071),c=o(6637),d=o(700380),u=o(924293),_=o(379725),h=o(479739),p=o(266725),m=o(281180),g=o(702664),f=o(116303),x=o(499128),b=o(784590),v=o(982359),y=o(898781),P=o(728214),w=o(349700),A=o(883119),C=o(276775),j=o(343341),E=o(785893);function S(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class I extends n.PureComponent{constructor(...e){super(...e),S(this,"state",{viewConversation:!1,isSent:!1,path:""}),S(this,"renderViewConversationButton",(()=>{const{viewConversation:e}=this.state;return e?(0,E.jsxs)(A.kC,{alignItems:"center",direction:"row",flex:"grow",justifyContent:"center",children:[(0,E.jsx)(A.zx,{fullWidth:!0,size:"sm",text:this.props.i18n._('View chat', 'View current chat', 'View current chat'),color:"white",onClick:()=>{this.onViewConversation()}}),(0,E.jsx)(A.JO,{icon:"arrow-forward",color:"default",accessibilityLabel:this.props.i18n._('View chat', 'View current chat', 'View current chat')})]}):(0,E.jsxs)(A.kC,{alignItems:"center",direction:"row",flex:"grow",justifyContent:"center",children:[(0,E.jsx)(A.xu,{marginEnd:2,children:(0,E.jsx)(A.JO,{icon:"check",color:"default",accessibilityLabel:this.props.i18n._('sent', 'content is sent', 'content is sent')})}),(0,E.jsx)(A.xu,{marginEnd:2,children:(0,E.jsx)(A.xv,{size:"300",color:"subtle",weight:"bold",children:this.props.i18n._('Sent', 'mweb.sharemenu.contactItem.isSent', 'Text notification indicating a Pin has been sent to a pinner')})})]})})),S(this,"onViewConversation",(()=>{const{path:e}=this.state;a.Z.increment("mweb_sharesheet_view_conversation",1),this.props.history.push(e)})),S(this,"onInlineSend",this.props.requireAuthForLimitedLogin({fn:()=>{const e={1:"pin",2:"board",3:"user",8:"today_article"},{addConversation:t,i18n:o,isFullHeight:n,onDismiss:i,setShareSent:s,recipient:r,sendObject:l,showToast:c,email:d}=this.props,u=e[l.objectType];this.setState({isSent:!0}),t({user_ids:r?[r.id,this.props.userId]:void 0,[u]:l.objectId,emails:d?[d]:void 0}).then((e=>{this.setState({path:`/conversation/${e}`,viewConversation:!0}),a.Z.increment("mweb_sharesheet.inline_send",1,{success:!0}),s(!0),!n&&i&&(c((({hideToast:e})=>(0,E.jsx)(x.ZP,{dataTestId:"sharesheet-inline-send-toast",button:(0,E.jsx)(A.zx,{onClick:this.onViewConversation,text:o._('View', 'ContactItem.ConfirmationToast.buttonText', 'Button on confirmation toast after a user sends a Pin/Board/Profile to view the conversation')}),duration:4e3,onHide:e,text:(0,w.Wc)(o._('Sent to {{recipientName}}!', 'ContactItem.ConfirmationToast.text', 'Confirmation toast after a user sends a Pin/Board/Profile'),{recipientName:(null==r?void 0:r.full_name)||""}),iconThumbnail:(0,E.jsx)(f.Z,{size:"fit",src:(null==r?void 0:r.image_large_url)||"",name:(null==r?void 0:r.full_name)||""}),thumbnailShape:"circle"}))),i(e))})).catch((e=>{this.setState({isSent:!1}),a.Z.increment("mweb_sharesheet.inline_send",1,{success:!1,error:e})}))}}))}render(){var e,t,o,n;const{isFullHeight:i,recipient:s,email:r}=this.props,{isSent:l}=this.state;return!i&&s?(0,E.jsxs)(A.xu,{"data-test-id":"sharesheet-send-button",display:"flex",direction:"column",paddingX:3,paddingY:4,children:[(0,E.jsx)(A.iP,{onTap:()=>this.onInlineSend(),children:(0,E.jsx)(A.xu,{height:56,marginBottom:1,width:56,children:(0,E.jsx)(f.Z,{size:"fit",src:null!==(e=s.image_large_url)&&void 0!==e?e:"",name:null!==(t=s.full_name)&&void 0!==t?t:""})})}),(0,E.jsx)(A.xu,{width:56,children:(0,E.jsx)(A.xv,{lineClamp:1,size:"100",align:"center",children:s.full_name})})]}):(0,E.jsxs)(A.xu,{"data-test-id":"sharesheet-send-button",position:"relative",direction:"row",display:"flex",width:"100%",alignItems:"center",justifyContent:"between",paddingY:2,children:[s?(0,E.jsx)(A.xu,{children:(0,E.jsx)(f.Z,{size:"md",src:null!==(o=s.image_large_url)&&void 0!==o?o:"",name:null!==(n=s.full_name)&&void 0!==n?n:""})}):r&&(0,E.jsx)(A.xu,{children:(0,E.jsx)(f.Z,{size:"md",name:r})}),(0,E.jsx)(A.xu,{paddingX:2,flex:"grow",maxWidth:"71%",children:(0,E.jsx)(A.xv,{lineClamp:1,weight:"bold",children:s?s.full_name:r&&l?r:(0,w.nk)(this.props.i18n._('invite {{email}}', 'mweb.newMessage.searchEmail', 'invite from email'),{email:r})})}),(0,E.jsx)(A.xu,{"data-test-id":"sharesheet-viewchat-link",right:!0,flex:"none",maxWidth:"100%",children:l?this.renderViewConversationButton():(0,E.jsx)(A.zx,{fullWidth:!0,size:"lg",color:"gray",text:this.props.i18n._('Send', 'Send current content', 'Send current content'),onClick:()=>{this.onInlineSend()}})})]})}}function T(e){const t=(0,C.k6)(),o=(0,y.ZP)(),n=(0,P.Z)(),{showToast:i}=(0,j.F9)(),s=(0,g.useDispatch)();return(0,b.Z)({name:"ConversationsResource",options:{user_ids:[e.userId]}}),(0,E.jsx)(I,{...e,addConversation:e=>s((0,v.Xw)(e)),history:t,i18n:o,requireAuthForLimitedLogin:n,showToast:i})}function z(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const k={boxShadow:"0 6px 8px -4px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"};class D extends n.PureComponent{componentDidUpdate(e){const{fetching:t}=e,{value:o}=this.state,n=t&&!this.props.fetching,i=this.getContactSuggestions();if(!o&&n){const e=i.length>0?7511:7512;(0,p.j)({event_type:e,view_type:70,view_parameter:256})}}constructor(e){super(e),z(this,"state",{value:"",showScrollShadow:!1,defaultSuggestions:[],loadingDefaultSuggestions:!0}),z(this,"onSearchChange",(({value:e})=>{const{userId:t,searchContacts:o}=this.props,n={options:{user:t,term:e}};this.setState({value:e},o(n))})),z(this,"getContactSuggestions",(()=>{const{suggestions:e,userId:t,users:o}=this.props,{value:n,defaultSuggestions:i}=this.state;if(!n)return i.filter((e=>o[e.id]))||[];const s=`share-suggestions:${t}:${n}`,r=`share-suggestions:${t}:${n.slice(0,-1)}`;return e[s]||e[r]||[]})),z(this,"renderContactSuggestions",(()=>{const{expandContactsList:e,fetching:t,i18n:o,isFullHeight:n,onDismiss:i,sendObject:s,setShareSent:r,userId:a,users:c}=this.props,{loadingDefaultSuggestions:d,value:u}=this.state,_=this.getContactSuggestions(),h=t||d;let p;return p=!n&&h?107:"100%",h?(0,E.jsx)(A.xu,{alignItems:"center",display:"flex",justifyContent:"center",height:p,paddingY:2,children:(0,E.jsx)(A.$j,{show:!0,accessibilityLabel:o._('Searching for contacts', 'Placeholder text for spinner on share menu', 'Placeholder text for spinner on share menu')})}):0===_.length&&!(0,l.Z)(u)&&u&&n?(0,E.jsx)(A.xu,{marginTop:3,children:(0,E.jsx)(A.xv,{align:"center",children:o._('Sorry, we can\'t find anyone by that name.', 'Text to show empty state when a contact can not be found', 'Text to show empty state when a contact can not be found')})}):(0,E.jsx)(A.kC,{direction:n?"column":"row",overflow:n?void 0:"hidden",children:(0,E.jsxs)(A.xu,{display:n?void 0:"flex",height:p,overflow:n?void 0:"scrollX",marginBottom:0,marginTop:0,paddingX:n?4:1,paddingY:0,children:[0===_.length&&(0,l.Z)(u)&&(0,E.jsx)(T,{email:u,isFullHeight:n,sendObject:s,setShareSent:r,userId:a}),!n&&(0,E.jsxs)(A.xu,{alignItems:"center",display:"flex",direction:"column",paddingX:3,paddingY:4,children:[(0,E.jsx)(A.xu,{height:56,marginBottom:1,width:56,children:(0,E.jsx)(A.hU,{accessibilityLabel:o._('Search for users', 'ContactsSuggestsions.SearchIcon.accessibilityLabel', 'Accessibility label for search icon in Contacts Suggestions list'),bgColor:"lightGray",icon:"search",iconColor:"darkGray",onClick:e,size:"xl"})}),(0,E.jsx)(A.xv,{lineClamp:1,size:"100",children:o._('Search', 'ContactsSuggestions.SearchOption.text', 'Label for search icon in Contacts Suggestions list')})]}),_.map((e=>{var t;return(0,E.jsx)(T,{isFullHeight:n,onDismiss:i,recipient:c[null!==(t=e.id)&&void 0!==t?t:""],sendObject:s,setShareSent:r,userId:a},e.id)}))]})})})),this.scrollerRef=(0,n.createRef)()}componentDidMount(){c.Z.create("ShareSuggestionsResource",{suggestion_type:"share",hide_group_conversations:!0}).callGet().then((e=>{var t;const o=null===(t=e.resource_response)||void 0===t?void 0:t.data;this.setState({loadingDefaultSuggestions:!1,defaultSuggestions:o})})).catch((e=>{a.Z.increment("mweb_share_menu_load_suggestions.fail.share",1)}))}render(){const{showScrollShadow:e}=this.state,{isFullHeight:t,expandContactsList:o}=this.props,i=(0,d.Z)((()=>{const e=this.scrollerRef.current;e&&!Number.isNaN(e.scrollTop)&&this.setState({showScrollShadow:e.scrollTop>0})}),100);return(0,E.jsx)(n.Fragment,{children:t?(0,E.jsxs)(A.xu,{color:"default",display:"flex",direction:"column",paddingX:0,height:"90%",children:[(0,E.jsx)(A.xu,{"data-test-id":"contact-suggestion-search-field",paddingY:2,color:"default",paddingX:4,dangerouslySetInlineStyle:{__style:e?k:null},children:(0,E.jsx)(r.Z,{accessibilityLabel:this.props.i18n._('search contact', 'Accessibility label for searchbar on share menu', 'Accessibility label for searchbar on share menu'),id:"contactsSuggestSearchField",onChange:this.onSearchChange,onFocus:o,placeholder:this.props.i18n._('Search by name or email', 'Placeholder text for searchbar on share menu', 'Placeholder text for searchbar on share menu'),value:this.state.value,autoFocus:t})}),(0,E.jsx)(A.xu,{display:"flex",direction:"column",paddingY:1,overflow:"scrollY",onScroll:i,ref:this.scrollerRef,children:this.renderContactSuggestions()})]}):(0,E.jsx)(A.xu,{children:this.renderContactSuggestions()})})}}const R=(0,u.Z)({name:"ShareSuggestionsTypeaheadResource",key:"shareSuggestionsTypeaheadResource",options:({userId:e})=>({term:"",user:e}),mapState:(e,t)=>({conversations:e.conversations,fetching:Object.keys(e.resources.ShareSuggestionsTypeaheadResource||{}).some((t=>e.resources.ShareSuggestionsTypeaheadResource[t].fetching)),suggestions:(0,h.oF)(e,t),userId:e.session.userId}),mapDispatch:e=>({searchContacts:t=>{(0,s.Z)(e((0,_.U2)("ShareSuggestionsTypeaheadResource",t)),200)}})})((function(e){const t=(0,y.ZP)(),o=(0,m.kW)();return(0,E.jsx)(D,{...e,i18n:t,users:o})}));var O=o(141280),L=o(121151),B=o(965708),M=o(667679),F=o(773285),N=o(867820),Z=o(53987),U=o(50286);const G=14121,H=({heading:e,onDismiss:t})=>{const o=(0,y.ZP)();return(0,E.jsxs)(A.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:[(0,E.jsx)(A.xu,{display:"flex",alignItems:"center",padding:1,children:(0,E.jsx)(A.hU,{accessibilityLabel:o._('Close', 'close share menu', 'close share menu'),icon:"cancel",onClick:t,size:"sm",iconColor:"darkGray",padding:4})}),(0,E.jsx)(A.xu,{display:"flex",flex:"grow",alignItems:"center",justifyContent:"center",marginEnd:12,children:(0,E.jsx)(A.xv,{align:"center",weight:"bold",children:(0,E.jsx)("span",{className:"deprecatedTextSizeXL",children:e})})})]})},V=({children:e,isOpen:t,onDismiss:o,childPaddingX:n=3,shouldRenderCloseIcon:i,shouldRenderFullHeight:s,heading:r})=>{const l=(0,y.ZP)(),a={mobileAccessibilityCloseIconLabel:l._('close send modal', ' - ', ' -- '),accessibilityModalLabel:"",heading:r,mobileHideCloseIcon:!i,isOpen:t,onDismiss:o,type:"share_menu"};return s?(0,E.jsxs)(O.Z,{isOpen:t,accessibilityModalLabel:r,children:[(0,E.jsx)(H,{heading:r,onDismiss:o}),e]}):(0,E.jsx)(L.ZP,{...a,children:(0,E.jsx)(A.xu,{marginTop:i?0:4,paddingX:n,children:e})})},W=({isOpen:e,onDismiss:t,objectType:o,objectId:s,hideContactsSuggestions:r,clientTrackingParams:l,element:c,viewType:d,viewParameter:u})=>{const _=(0,y.ZP)(),[h,m]=(0,n.useState)(!1),[g,f]=(0,n.useState)(!1),x=h||!r,b=(0,C.TH)(),v=(0,U.HG)(),P=(0,B.Z)(),{checkExperiment:w}=(0,F.F)(),j=(0,M.Z)(),S=e=>{w("mweb_share_menu_logging").anyEnabled&&(0,p.j)({clientTrackingParams:l,component:G,event_type:g||e?7493:7492,element:13097,view_type:70,view_parameter:u,aux_data:{invite_object:o}});const n=(e=>(0,Z.cD)(e)?"profile_page":(0,Z.am)(e)?"board_page":(0,Z.uM)(e)?"pin_page":"unknown")(b),i=!v&&!P&&w("unauth_mweb_after_invite_signup_modal").anyEnabled;(0,N.LW)({action:"click",pageLocation:b,item:"close-share-menu"}),t(),i&&g&&j({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:`tap.unauth_${n}_share_menu.click_invite`}),f(!1),(0,N.My)(`mweb_${n}_share_menu.click_invite.close`)},I=w("mweb_share_menu_logging").anyEnabled;(0,n.useEffect)((()=>{e&&(0,p.j)({event_type:7120,component:G,object_id_str:s,clientTrackingParams:I?l:null,element:I?c:null,view_type:I?d:70,view_parameter:I?u:256,aux_data:I?{invite_object:o}:void 0})}),[e,w,I]);const T=(0,U.Wb)(),z=e&&w(P?"mweb_sharesheet_cancel_icon_v2":"mweb_sharesheet_cancel_unauth").anyEnabled,k=_._('Send on Pinterest', 'Heading for share contacts search', 'Heading for share contacts search'),D=_._('Share to', 'ShareMenu.AllShareOptions.HeaderText', 'Header for social share options section of the share menu'),O=h?k:(0,E.jsx)(A.xu,{marginTop:z?0:8,children:(0,E.jsx)(A.xv,{align:"center",weight:"bold",size:"300",children:x?k:D})});return(0,E.jsx)(V,{isOpen:e,onDismiss:h?()=>{m(!1),a.Z.increment("mweb_sharesheet.contacts.collapse",1)}:S,shouldRenderFullHeight:h,shouldRenderCloseIcon:z,childPaddingX:0,heading:O,children:(0,E.jsxs)(A.xu,{marginBottom:z?8:0,marginTop:h||!x?0:-4,maxWidth:T?440:"100%",children:[x&&(0,E.jsx)(R,{sendObject:{objectId:s,objectType:o},expandContactsList:()=>{m(!0),a.Z.increment("mweb_sharesheet.contacts.expand",1)},isFullHeight:h,onDismiss:S,setShareSent:e=>f(e)}),!h&&(0,E.jsxs)(n.Fragment,{children:[x&&(0,E.jsxs)(A.xu,{marginTop:4,paddingX:4,children:[(0,E.jsx)(A.iz,{}),(0,E.jsx)(A.xu,{marginTop:8,children:(0,E.jsx)(A.xv,{align:"center",size:"300",weight:"bold",children:D})})]}),(0,E.jsx)(i.Z,{objectId:s,objectType:o,viewType:I?d:70,viewParameter:u,onDismiss:S,setShareSent:e=>f(e),clientTrackingParams:l,component:G}),!z&&(0,E.jsx)(A.xu,{display:"flex",justifyContent:"center",marginBottom:8,marginTop:5,"data-test-id":"close-share-menu",children:(0,E.jsx)(A.zx,{accessibilityLabel:_._('Close share menu', 'ShareMenu.CloseButton.accessibilityLabel', 'Accessibility label on close button for share menu'),onClick:()=>S(),size:"lg",text:_._('Close', 'ShareMenu.CloseButton.text', 'Close button for share menu')})})]})]})})}},391968:(e,t,o)=>{o.d(t,{B:()=>s,Cq:()=>i,F6:()=>u,RV:()=>n,VZ:()=>r,W_:()=>a,bm:()=>l,iS:()=>_,rO:()=>d,zn:()=>c});const n="animatedShareIconLastViewed",i="lastUsedSocialShare",s="customizedSocialAppOrder",r=44,l=9e5,a=4e3,c=5e3,d=new Set([12,3,11]),u=new Set([11,12]),_=new Map([["AU",6],["CA",6],["DK",6],["DZ",6],["GE",6],["HU",6],["LT",6],["NO",6],["NP",6],["NZ",6],["PH",6],["PL",6],["SK",6],["TN",6],["US",6],["JP",8],["TW",8],["TH",8],["IQ",20],["KH",20],["MM",20],["UZ",20],["BA",22],["BG",22],["BY",22],["CY",22],["GR",22],["MD",22],["RS",22],["UA",22]])},940519:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(667294),i=o(883119),s=o(785893);class r extends n.Component{constructor(...e){var t,o,n;super(...e),n=e=>{e&&(this.searchRef=e)},(o="setSearchRef")in(t=this)?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n}componentDidMount(){this.props.autoFocus&&this.searchRef.focus()}render(){const{accessibilityLabel:e,id:t,onBlur:o,onChange:n,onFocus:r,placeholder:l,value:a}=this.props;return(0,s.jsx)(i.Um,{accessibilityLabel:e,id:t,onBlur:o,onChange:n,onFocus:r,placeholder:l,ref:this.setSearchRef,size:"lg",value:a})}}},39540:(e,t,o)=>{o.d(t,{Z:()=>n});const n=new(o(883119).Ry)(9999)},729252:(e,t,o)=>{o.d(t,{Z:()=>d,r:()=>c});var n=o(635240),i=o(6637),s=o(385740),r=o(30287),l=o(172045);let a;function c(e){a=e}function d(){if(window.location.pathname.startsWith("/email/subscription")||window.location.pathname.startsWith("/email/remove"))return;const{browserType:e,isAuthenticated:t,isPWA:o,unauthId:c}=a.getState().session;if(!t)return;const d=(0,s.BE)(),u=d&&d.viewType,_=d&&d.viewParameter,h=a.getState().session,p=(0,r.FB)(window),m={data:{event_type:7137,time:1e6*Date.now(),clientUUID:(0,l.Z)(),browser:e,view_type:u,view_parameter:_,unauth_id:c,isPWA:o,auxData:{pwa_type:p&&"unknown"!==p?p:void 0,stage:h.stage},appVersion:(0,n.Z)()}},g=i.Z.create("ActiveUserResource",m);let f=3e4;g.callCreate().catch((e=>{setTimeout((()=>{f>36e5||(f*=2,g.callCreate())}),f)}))}},968228:(e,t,o)=>{o.d(t,{G3:()=>d,Rp:()=>c,kp:()=>a});var n=o(622096),i=o(202139),s=o(957161);const r=14*i.F4;function l(e,t,o){return e-t>o}const a=e=>{const t=function(){const e=Date.now(),t=Number((0,s.qn)("appUpsell"));return{currentTime:e,firstUpsellTime:Number((0,s.qn)("firstUpsellTime")),lastUpsellTime:t,showedAppUpsellCurrentSession:Boolean((0,n.qn)("showedAppUpsellCurrentSession"))}}();return e?function(e,t,o){const{currentTime:n,firstUpsellTime:i,lastUpsellTime:a,showedAppUpsellCurrentSession:c}=e;return o=o||r,!i||function(e,t,o){return e<t+o}(n,i,t)?!c:!!l(n,a,o)&&((0,s.L_)("firstUpsellTime"),!0)}(t,i.F4):function(e,t){const{currentTime:o,lastUpsellTime:n}=e;return t=t||r,!n||l(o,n,t)}(t)},c=({platform:e,userAgent:t})=>{try{return"android"===e&&parseFloat((e=>{const t=(e=e.toLowerCase()).match(/android\s([0-9\.]*)/i);return t?t[1]:void 0})(t))<7}catch(o){return!1}},d=e=>(e.startsWith("zh")||e.startsWith("ar")?e:e.slice(0,2)).toUpperCase()},693099:(e,t,o)=>{o.d(t,{AA:()=>s,E9:()=>h,EU:()=>g,IO:()=>m,KH:()=>d,QR:()=>c,Uw:()=>i,ZR:()=>f,dy:()=>a,eA:()=>_,k7:()=>r,rT:()=>p,tz:()=>u,u9:()=>x,zR:()=>l,zu:()=>n});const n="OPEN_UNAUTH",i="openUnauthType",s="_isAfterLogin",r="_lastVisitedPages",l="_lastVisitedPagesBeforeLogin",a="_lastVisitedBoardPages",c="_lastVisitedPagesBeforeNavPage",d="_lastVisitedSessionPages",u="_unauthVisitedPages",_=20,h="unauthTopicsFollowed",p=["US","CA","NZ","AU"],m=new Set(["GB","IE"]),g=new Set(["AT","BE","CH","DE","DK","ES","FR","IT","NL","NO","PT","SE"]),f=new Set(["BR","MX","AR","CL","CO","PE"]),x="ad_img"},266725:(e,t,o)=>{o.d(t,{Ew:()=>d,NJ:()=>l,So:()=>_,j:()=>c,kQ:()=>h,ob:()=>u,vP:()=>a});var n=o(729252),i=o(305689);let s;const r=(0,i.ZP)(),l=(e,t,o)=>{r.flushContextEvents(e)},a=e=>r.logImpression(e),c=(e,t)=>{const o=(0,i.li)(e,t);o.aux_data=(e=>{if(!e)return e;const{element:t,eventData:o,component:n,objectId:i,view:s,viewParameter:r,viewData:l,durationNs:a,pairId:c,clientTrackingParams:d,...u}=e;return u})(o.aux_data),r.logContextEvent(o),12===e.event_type&&r.logContextEvent({...o,event_type:7946});const l=new Date;s?s&&s.getUTCDate()!==l.getUTCDate()&&(s=l,(0,n.Z)()):s=l},d={flushContextEvents:e=>l(e),logContextEvent:e=>c(e,d.injectSetViewContextDataFromHook),logImpression:a},u=e=>c({...e,event_type:101}),_=e=>c({...e,event_type:102}),h=e=>{"event_type"in e&&c({...e,..."aux_data"in e?{aux_data:{...e.aux_data}}:null})}},741740:(e,t,o)=>{o.d(t,{I:()=>n,y:()=>i});const n="uploaded",i="pinbuilder"},965708:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(702664);function i(){return(0,n.useSelector)((({session:e})=>e.isAuthenticated))}},755506:(e,t,o)=>{o.d(t,{AH:()=>a,Bk:()=>s,CK:()=>l,Fi:()=>r,Xe:()=>i,wS:()=>n});const n=e=>{if(!e)return Object.freeze({});let t;return e.native_creator?(t=e.native_creator,t):e.link_domain?(t=e.link_domain.official_user,t):(t=e.origin_pinner||e.pinner,t)};function i({hasLinkDomain:e,hasNativeCreator:t,hasOriginPinner:o,pinDomain:n,sourceUserUsername:i,sourceUserFullName:s}){return!t&&(e||o)&&i?{pinCreditLink:`/${i}/`,pinCredit:s}:{pinCreditLink:void 0,pinCredit:!t&&e?n:""}}const s=({i18n:e,isLego:t,hasLinkDomain:o,hasRichMetadataArticle:n,hasRichMetadataTutorial:i,hasRichMetadataRecipeCategorizedIngredients:s,hasRichMetadataProductOfferSummary:r,hasRichSummaryProductOfferSummary:l,richMetadataRecipeFromAggregatedData:a,richMetadataProductName:c,richSummaryProductName:d})=>{const u=s;let _;c&&r&&(_=!0);const h=n,p=i;let m=t?e._('From ', 'Closeup pin annotation', 'Closeup pin annotation'):e._('Saved from ', 'Closeup pin annotation', 'Closeup pin annotation');return!o||a?m=e._('Saved by ', 'Closeup pin annotation', 'Closeup pin annotation'):_?m=e._('Product sold by ', 'pin annotation', 'pin annotation'):p?(t&&(m=e._('From ', 'pin annotation', 'pin annotation')),m=e._('Saved from ', 'pin annotation', 'pin annotation')):u?m=e._('Recipe from ', 'pin annotation', 'pin annotation'):h&&(m=e._('Article from ', 'pin annotation', 'pin annotation')),!r&&d&&l&&(m=e._('Product sold by ', 'pin annotation', 'pin annotation')),m},r=({i18n:e,isLego:t,pin:o})=>{var r,l,a,c,d,u,_,h,p,m,g,f,x,b;const v=o.link_domain,y=o.native_creator,P=o.rich_metadata,w=o.rich_summary,A=o.attribution;let C,j,E,S;const I=n(o),{pinCreditLink:T,pinCredit:z}=i({hasLinkDomain:!!v,hasNativeCreator:!!y,hasOriginPinner:!!o.origin_pinner,pinDomain:o.domain,sourceUserUsername:null==I?void 0:I.username,sourceUserFullName:null==I?void 0:I.full_name}),k=s({i18n:e,isLego:t,hasLinkDomain:!!o.link_domain,hasRichMetadataArticle:!(null===(r=o.rich_metadata)||void 0===r||!r.article),hasRichMetadataTutorial:!(null===(l=o.rich_metadata)||void 0===l||!l.tutorial),hasRichMetadataRecipeCategorizedIngredients:!(null===(a=o.rich_metadata)||void 0===a||null===(c=a.recipe)||void 0===c||!c.categorized_ingredients),hasRichMetadataProductOfferSummary:!(null===(d=o.rich_metadata)||void 0===d||null===(u=d.products)||void 0===u||!u[0].offer_summary),hasRichSummaryProductOfferSummary:!(null===(_=o.rich_summary)||void 0===_||null===(h=_.products)||void 0===h||!h[0].offer_summary),richMetadataRecipeFromAggregatedData:null===(p=o.rich_metadata)||void 0===p||null===(m=p.recipe)||void 0===m?void 0:m.from_aggregated_data,richMetadataProductName:null===(g=o.rich_metadata)||void 0===g||null===(f=g.products)||void 0===f?void 0:f[0].name,richSummaryProductName:null===(x=o.rich_summary)||void 0===x||null===(b=x.products)||void 0===b?void 0:b[0].name});if(v&&!(P&&P.recipe&&P.recipe.from_aggregated_data)){const e=!!(P&&P.recipe&&P.recipe.name&&P.recipe.categorized_ingredients);let t;P&&P.products&&P.products[0]&&(t=!!(P&&P.products[0].name&&P.products[0].offer_summary));const n=!(!P||!P.article);var D,R;if(t)E=null==P||null===(D=P.products)||void 0===D?void 0:D[0].offer_summary,S=null==P||null===(R=P.products)||void 0===R?void 0:R[0].shipping_info;else if(e){var O,L,B;j=null!==(O=null==P?void 0:P.recipe)&&void 0!==O?O:null,null!==(L=j)&&void 0!==L&&null!==(B=L.aggregate_rating)&&void 0!==B&&B.rating_value&&"number"==typeof j.aggregate_rating.review_count&&(null!=P&&P.site_name||o.domain)?j.aggregate_rating.review_source=(null==P?void 0:P.site_name)||o.domain:j&&(j.aggregate_rating=null)}else if(n){var M;C=(null==P||null===(M=P.article)||void 0===M?void 0:M.date_published)&&new Date(P.article.date_published)}}if(!E&&w){let e;w&&w.products&&w.products[0]&&(e=!!(w&&w.products[0].name&&w.products[0].offer_summary),e&&(E=w.products[0].offer_summary,S=w.products[0].shipping_info))}return{pinArticleDate:C,pinAttribution:A,pinCreditLink:T,pinCreditPrefix:k,pinCredit:z,pinProduct:E,pinShippingInfo:S,pinRecipe:j}},l=({hasRichMetadata:e,hasRichMetadataProducts:t,hasRichMetadataArticle:o,hasRichMetadataRecipe:n})=>e?t?144:o?141:n?145:139:140,a=e=>!!e&&!e.startsWith("https://i.pinimg.com")},81759:(e,t,o)=>{o.d(t,{CC:()=>f,Ff:()=>j,H$:()=>b,Mt:()=>g,Yi:()=>P,Yy:()=>A,Z4:()=>m,dc:()=>y,dp:()=>x,i$:()=>h,p9:()=>v,t_:()=>_,vV:()=>p});var n=o(231486),i=o(6637),s=o(826067),r=o(400660),l=o(226198),a=o(867820),c=o(622096),d=o(957161),u=o(693099);const _=()=>(0,d.qn)(u.tz,""),h=()=>{const e=_();let t;try{t=JSON.parse(e)}catch(o){t=[]}return t},p=()=>(0,d.L_)(u.tz),m=(e,t)=>{const o=h(),n=o.length,i=n?o[0].path:"";if(n<u.eA&&(!n||e!==i)){const n={path:e,pageType:t,ts:Date.now()};(0,d.Nh)(u.tz,JSON.stringify([n].concat(o)))}},g=(e,t,o,n,i,s,r=u.k7)=>{const l=(0,d.qn)(r)?JSON.parse((0,d.qn)(r)):[];if(!l[0]||l[0].path!==e){const a=[{path:e,ts:Date.now(),pin_id:o||0,first_pin_image_signature:t||"",first_pin_id:o||"",image_info:n||"",pin_description:i||"",is_shared:!!s,pin_invite_code:s}];(0,d.Nh)(r,JSON.stringify(a.concat(l)))}},f=({path:e,image:t,dominant_color:o,pin_description:n,pin_id:i})=>{const s=(()=>{const e=(0,c.qn)(u.KH);if(!e)return[];let t;try{t=JSON.parse(e)}catch(o){t=[]}return t})();if(!s[0]||s[0].path!==e){const r=[{path:e,image:t,pin_description:n||"",dominant_color:o||"",pin_id:i||""}];(0,c.Nh)(u.KH,JSON.stringify(r.concat(s)))}};function x(e,t,o,n,i,s){g(e,t,o,n,i,s,u.zR)}const b=(e,t)=>{var o,n;g(e,t.image_signature,t.id,null===(o=t.images)||void 0===o?void 0:o["236x"],null!==(n=t.description)&&void 0!==n?n:"","",u.dy)};function v(e,t,o,n,i){g(e,t,o,n,i,"",u.QR)}function y(){return h().filter((e=>"closeup"===e.pageType)).length}function P(){const e=i.Z.create("UnauthUserDataResource");return new Promise(((t,o)=>{e.callGet().then((e=>{const i=e.resource_response.data,s=!!n.U2(l.x3);return i?((0,r.Wn)(i.medium_image_url)&&(i.medium_image_url=""),(0,a.My)("mweb.unauth.personalized_login.fetch_user_info.info.user_info_found.logged_out_cookie_"+(s?"true":"false")),t(i)):((0,a.My)("mweb.unauth.personalized_login.fetch_user_info.info.no_user_info.logged_out_cookie_"+(s?"true":"false")),o({}))})).catch((e=>{if(e&&e.message){const t=e.message.replace(/\s/g,"_").toLowerCase();(0,a.My)(`mweb.unauth.personalized_login.fetch_user_info.error.${t}`)}else(0,a.My)("mweb.unauth.personalized_login.fetch_user_info.error.unknown");return o(e)}))}))}function w({i18n:e,location:t}){const o=t.pathname.startsWith("/signup"),n=t.pathname.startsWith("/login");if(!o&&!n)return{showPLPBanner:!1,pinForBanner:null};let i;try{i=JSON.parse((0,c.qn)(u.KH))}catch(s){i=[]}if(i&&i.length>0){const t=i[0];if(t)return t.bannerCopy=e._('More ideas like this await', 'page banner with pin image that was signed up from', 'page banner with pin image that was signed up from'),{showPLPBanner:Boolean(t.image),pinForBanner:t}}return{showPLPBanner:!1,pinForBanner:null}}const A=e=>e.search&&e.search.startsWith("?next=")?e.search.split("?next=")[1]:null;function C({i18n:e,location:t}){var o;const n=(null===(o=t.state)||void 0===o?void 0:o.next)||A(t);if(n){const t=n.indexOf("?"),o=(0,s.mB)(n.substring(t));if(o.url&&o.media)return{showPLPBanner:!0,pinForBanner:{image:{url:(0,s.Jx)(o.media),height:1,width:1},pinDescription:o.description,bannerCopy:e._('Save this idea and discover more inspiration like it.', 'page banner with pin image that was signed up from', 'page banner with pin image that was signed up from')}}}return{showPLPBanner:!1,pinForBanner:null}}function j({i18n:e,location:t}){return C({i18n:e,location:t}).showPLPBanner?C({i18n:e,location:t}):w({i18n:e,location:t}).showPLPBanner?w({i18n:e,location:t}):{showPLPBanner:!1,pinForBanner:null}}},400660:(e,t,o)=>{function n(e){return Boolean(null==e?void 0:e.is_matured_new_user)}o.d(t,{IR:()=>r,V0:()=>n,Wn:()=>s,xT:()=>i});const i=e=>!!e&&2===e.login_state,s=e=>!(!e||!e.match(/\/static\/images\/user\/default_\d+\.png$/));function r(e){return!e||void 0===e.third_party_marketing_tracking_enabled||null===e.third_party_marketing_tracking_enabled||e.third_party_marketing_tracking_enabled}},924293:(e,t,o)=>{o.d(t,{Z:()=>u});var n=o(667294),i=o(702664),s=o(886858),r=o(778821),l=o(276775),a=o(379725),c=o(785893);function d(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const u=e=>t=>{const{key:o,options:u,name:_,schema:h}=e,p=t=>"function"==typeof e.noCache?e.noCache(t):e.noCache;class m extends n.PureComponent{constructor(...e){super(...e),d(this,"optionsKey",(0,s.Z)(u(this.props))),d(this,"fetchMore",(()=>{const{bookmark:e,fetching:t}=this.props.resource;e&&!t&&this.props.dispatch((0,a.U2)(_,{bookmark:e,options:u(this.props),schema:h}))})),d(this,"refresh",(()=>{this.props.dispatch((0,a.bi)(_,{options:u(this.props),schema:h}))}))}componentDidMount(){const{dispatch:e,inCache:t}=this.props;!t||(({resource:e})=>{if(e&&e.error){const{httpStatus:t}=e.error;return!t||t>=500}return!1})(this.props)?e((0,a.U2)(_,{options:u(this.props),schema:h})):p(this.props)&&e((0,a.bi)(_,{options:u(this.props),schema:h}))}componentDidUpdate(){const e=(0,s.Z)(u(this.props));if(e!==this.optionsKey){this.optionsKey=e;const{dispatch:t,inCache:o}=this.props;o?p(this.props)&&t((0,a.bi)(_,{options:u(this.props),schema:h})):t((0,a.U2)(_,{options:u(this.props),schema:h}))}}render(){const{inCache:n,resource:i,...s}=this.props,r={[o]:{fetchMore:this.fetchMore,fetching:i.fetching,refresh:this.refresh,isAtEnd:null===i.bookmark,inCache:n}};if(i.error){const{httpStatus:t,api_error_code:o}=i.error;if(e.onError)return e.onError(i.error,s);if(404===t||401===t&&7===o)return(0,c.jsx)(l.l_,{to:{pathname:"/",state:{showError:!0}}});if(301===t)return(0,c.jsx)(l.l_,{to:i.error.redirectUrl})}return(0,c.jsx)(t,{...s,...r})}}return d(m,"displayName",`WithResource[${_}](${t.displayName||t.name||"ComponentNameUndefined"})`),d(m,"getDependencies",((e,t)=>o=>{const n=t.getDependencies?t.getDependencies(o):[],i=e.options(o);return[...n,{resource:e.name,options:i}]})(e,t)),(0,i.connect)(((t,o)=>{const n=e.options(o),i=(0,s.Z)(n),l=t.resources[e.name]&&t.resources[e.name][i],a=(0,r.J)(e.name,n);return{...e.mapState?e.mapState(t,o):{},resource:l||{fetching:!0},inCache:!!(a?t.feeds[a]:l)}}),((t,o)=>({...e.mapDispatch?e.mapDispatch(t,o):{},dispatch:t})))(m)}},388008:(e,t,o)=>{o.d(t,{$z:()=>u,KQ:()=>f,L1:()=>p,OA:()=>_,Xi:()=>c,YQ:()=>h,YV:()=>g,xR:()=>d,xk:()=>m});var n=o(172071),i=o(6637),s=o(875495),r=o(983360),l=o(935409);const a=(e,t,o,n)=>({type:r.wc,payload:{boardId:e,viewingUser:t,status:o,collaboratingUsers:n}}),c=(e,t=!1,o)=>n=>(n(((e,t,o)=>({type:r.AZ,payload:{boardId:e,isRequestToJoin:t,collaboratingUser:o}}))(e,t,o)),i.Z.create("BoardInviteResource",{board_id:e,invited_user_id:null==o?void 0:o.id}).callUpdate()),d=(e,t)=>o=>(o(((e,t)=>({type:r.CD,payload:{boardId:e,userId:t}}))(e,t)),i.Z.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callDelete()),u=(e,t,o)=>n=>(n(a(e,t,"new",o)),i.Z.create("BoardInviteResource",{board_id:e,invited_user_ids:o.map((({id:e})=>e))}).callCreate()),_=(e,t)=>()=>i.Z.create("BoardEmailInviteResource",{board_id:e,emails:t}).callCreate(),h=(e,t,o,n,s)=>l=>{var c,d;const u="accepted"===t?"BoardCollaboratorResource":"BoardInviteResource";return l(((e,t,o)=>({type:r.Fi,payload:{boardId:e,userId:t,viewingUser:o}}))(e,null!==(c=null==n?void 0:n.id)&&void 0!==c?c:"",o)),i.Z.create(u,{board_id:e,field_set_key:"boardEdit",invited_user_id:null!==(d=null==n?void 0:n.id)&&void 0!==d?d:"",...s?{orbac_subject_id:s}:{}}).callDelete().catch((()=>l(a(e,o,t,[n]))))},p=(e,t,o,n)=>s=>{const r=i.Z.create("BoardResource",{board_id:o}).callDelete();return s((0,l.eo)({viewingUserId:e,viewingUsername:t,boardId:o,boardPinCount:n})),r},m=(e,t)=>o=>i.Z.create("BoardArchiveResource",{boardId:e}).callUpdate().then((n=>(o((0,s.Qv)("archived-boards",[{id:e,type:"board"}])),o((0,l.Q_)(e,t)),n))),g=(e,t)=>o=>i.Z.create("BoardArchiveResource",{boardId:e}).callDelete().then((n=>(o((0,s.Qv)(`profile-boards:${t}`,[{id:e,type:"board"}])),o((0,l.gi)(e)),n))),f=(e,t)=>o=>i.Z.create("SocialSearchCampaignResource",{boardId:e}).callGet().then((i=>{if(!i||!i.resource_response)return{};const s=i.resource_response.data||{},l=(s.model||{}).custom_properties||{},{campaign_id:a="unknown"}=l,c=s.display_data||{},d=!!s.display_data,u=c.header_image_mobile,_=c.header_background_color,h=c.text_icon_color,p={boardId:e,isSocialSeasonalBoard:d,socialHeaderBgImage:u,socialHeaderBgColor:_,textIconColor:h};return n.Z.increment(`mweb.seasonal_board.${a}.${t}.land`),o((e=>({type:r.o3,payload:e}))(p))}))},982359:(e,t,o)=>{o.d(t,{Ae:()=>d,At:()=>c,Xw:()=>l,bG:()=>a});var n=o(583228),i=o(782677),s=o(379725),r=o(983360);const l=e=>t=>{const o=n.Fx;return t((0,s.v_)("ConversationsResource",{options:e},(e=>o?(0,i.Fv)(e,o):null))).then((e=>{if(!e.resource_response)return Promise.reject(e);return e.resource_response.data.id}))},a=e=>t=>{const{conversation_id:o,message:n}=e;return t(((e,t)=>({type:r.pM,payload:{conversationId:e,message:t}}))(o,n))},c=e=>({type:r.MA,payload:{id:e}}),d=e=>({type:r.ST,payload:{id:e}})},859704:(e,t,o)=>{o.d(t,{F:()=>i,p:()=>s});var n=o(983360);const i=e=>({type:n.q,payload:e}),s=e=>({type:n.GG,payload:e})},479739:(e,t,o)=>{o.d(t,{CQ:()=>a,Cj:()=>p,Il:()=>m,In:()=>C,Is:()=>f,JF:()=>w,NZ:()=>_,PN:()=>x,R_:()=>d,T_:()=>y,Ud:()=>h,ZX:()=>E,gI:()=>u,i3:()=>b,ik:()=>j,kT:()=>v,oF:()=>c,ts:()=>l,ut:()=>A});var n=o(442279);const i=e=>e.boards,s=e=>e.invites,r=e=>e.users,l=e=>e.users[e.session.userId]||null,a=e=>(e=>(t,o)=>t.feeds[((e,t)=>"string"==typeof e?e:e(t))(e,o)])(e),c=(0,n.P1)((e=>e.feeds),(e=>Object.keys(e).filter((e=>e.includes("share-suggestions"))).reduce(((t,o)=>({...t,[o]:e[o]})),{}))),d=(0,n.P1)(s,(e=>Object.keys(e).reduce(((t,o)=>{const n=o.split(":")[0],i=t[n]||{notPendingOwnerAction:[],pendingOwnerAction:[]};return e[o]&&"not_invited"!==e[o].status&&("pending_approval"===e[o].status?i.pendingOwnerAction.push(o):i.notPendingOwnerAction.push(o),t[n]=i),t}),{}))),u=(0,n.P1)(s,(e=>Object.keys(e).reduce(((t,o)=>{const n=e[o];return t[o]=n,t}),{}))),_=(0,n.P1)(l,s,((e,t)=>Object.keys(t).reduce(((o,n)=>{const i=n.split(":"),s=i[0],r=i[1],l=e.id===r,a=t[n]&&["new","contact_request_not_approved"].includes(t[n].status);return l&&a&&(o[s]=n),o}),{}))),h=(0,n.P1)(r,s,((e,t)=>Object.keys(t).reduce(((o,n)=>{const i=t[n]||{};return o[n]=e[i.invited_by_user],o}),{}))),p=(0,n.P1)((e=>e.topics),(e=>Object.keys(e).reduce(((t,o)=>{const n=e[o];return t[n.slug]=n,t[o]=n,t}),{}))),m=(0,n.P1)(r,(e=>Object.keys(e).reduce(((t,o)=>{const n=e[o];return t[n.username]=n,t}),{}))),g=(0,n.P1)(l,i,((e,t)=>Object.keys(t).reduce(((o,n)=>{var i;const s=t[n];return!s.archived_by_me_at&&((null===(i=s.owner)||void 0===i?void 0:i.id)===e.id||s.collaborating_users&&s.collaborating_users.map((({id:e})=>e)).includes(e.id))&&s.cover_images?o.concat([s]):o}),[]))),f=(0,n.P1)(g,(e=>e.sort(((e,t)=>e.name.localeCompare(t.name))))),x=(0,n.P1)(((e,t)=>e.users[t.user_id]||null),i,((e,t)=>Object.keys(t).reduce(((o,n)=>{var i;const s=t[n];return!s.archived_by_me_at&&e&&((null===(i=s.owner)||void 0===i?void 0:i.id)===e.id||s.collaborating_users&&s.collaborating_users.map((({id:e})=>e)).includes(e.id))&&o.push(s),o}),[]))),b=(0,n.P1)(i,(e=>Object.keys(e).reduce(((t,o)=>{const n=e[o];return t[n.url]=n,n.oldSlugUrl&&(t[n.oldSlugUrl]=n),t}),{}))),v=(0,n.P1)((e=>e.boardsections),(e=>Object.keys(e).reduce(((t,o)=>{const n=e[o];return t[`${n.board}_${n.slug}`]=n,t}),{}))),y=a((({boardId:e})=>`board-sections:${e}`)),P=a((({pinId:e})=>`call-to-create-pins:${e}`)),w=(0,n.P1)((e=>e.pins),P,((e=[],t=[])=>t.map((t=>e[t.id])))),A=e=>e.experiences[40001]&&(40002===e.experiences[40001].experience_id||500450===e.experiences[40001].experience_id),C=e=>e.experiences[40001]&&500681===e.experiences[40001].experience_id,j=({pins:e},{pinId:t})=>{const o=e[t];return{callToCreateResponseCount:o.call_to_create_responses_count,callToCreateResponsesPreviewImageUrls:o.call_to_create_responses_preview_image_urls,callToCreateSourcePin:o.call_to_create_source_pin,callToCreateSourcePinId:o.call_to_create_source_pin_id,isCallToCreate:o.is_call_to_create}},E=(0,n.P1)([(e,t,o)=>{var n,i,s;switch(o){case"pin":return null===(n=e.pins)||void 0===n?void 0:n[t];case"board":return null===(i=e.boards)||void 0===i?void 0:i[t];case"user":return null===(s=e.users)||void 0===s?void 0:s[t];default:return""}},({session:e})=>e.seoDebug],((e,t)=>{if(t){var o,n,i,s,r;return{noIndexReason:null==e||null===(o=e.page_metadata)||void 0===o?void 0:o.noindex_reason,canonicalId:null==e||null===(n=e.pin_join)||void 0===n||null===(i=n.canonical_pin)||void 0===i?void 0:i.id,canonicalDomain:null==e||null===(s=e.page_metadata)||void 0===s?void 0:s.canonical_domain,canonicalUrl:null==e||null===(r=e.page_metadata)||void 0===r?void 0:r.canonical_url}}return null}))},184609:(e,t,o)=>{o.d(t,{Bj:()=>oe,ZP:()=>le,c0:()=>te,cn:()=>ne});var n=o(667294),i=o(702664),s=o(116303),r=o(901410),l=o(807496),a=o(418651),c=o(7111),d=o(240684),u=o(965261),_=o(542554),h=o(426287),p=o(118668),m=o(550405),g=o(203345),f=o(430323),x=o(499128),b=o(949372),v=o(112690),y=o(784590),P=o(19121),w=o(674806),A=o(98265),C=o(81759),j=o(388008),E=o(332611),S=o(313047),I=o(957161),T=o(723776),z=o(70523),k=o(349700),D=o(693099),R=o(826067),O=o(378518),L=o(773285),B=o(281180),M=o(50286),F=o(597897),N=o(458882),Z=o(780280),U=o(539278),G=o(898781),H=o(728214),V=o(479739),W=o(500594),$=o(867820),Y=o(276775),K=o(482546),q=o(883119),X=o(343341),Q=o(785893);function J(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const ee=(0,d.ZP)({resolved:{},chunkName:()=>"components-SEODebugModule",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!o.m[t]},importAsync:()=>o.e(91576).then(o.bind(o,737381)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return o(t)},resolve(){return 737381}}),te="/_saved",oe="/_created",ne="/tried",ie=[oe,ne,te];class se extends n.Component{constructor(...e){super(...e),J(this,"state",{isInviteActionTaken:!1,isSpinnerShown:!1,sendProfileModalIsOpen:!1}),J(this,"openSendProfileModal",(()=>{const{isAuthenticated:e,showUnauthSharingModals:t,user:o,viewerId:n,logContextEvent:i}=this.props;e||t();const s=(o||{}).id,r=s===n;(0,$.LW)({action:"click",pageLocation:this.props.location,item:"main-share-button"}),i({event_type:101,component:13675,element:1079,object_id_str:s,view_type:4,view_parameter:r?3106:3107}),this.props.requireAuthForLimitedLogin({fn:()=>this.setState({sendProfileModalIsOpen:!0}),modalHeader:(0,W._6)(this.props.i18n)})()})),J(this,"closeSendPinModal",(()=>{const{isAuthenticated:e,hideUnauthSharingModals:t}=this.props;e||t(),this.setState({sendProfileModalIsOpen:!1})})),J(this,"handleLastPageVisited",(()=>{const e=(0,I.qn)(D.QR)?JSON.parse((0,I.qn)(D.QR)):[];if(!(e.length>0&&e[0].path===this.props.location.pathname)){const{location:e,userBoardExample:t}=this.props,o=!!e.state&&e.state.isFromNavFooterPage,n=t?t.cover_pin:{},i=t?t.cover_images:null,s=n?n.image_signature:null,r=n?n.pin_id:"",l=i?i["222x"]:null;o||(0,C.p9)(e.pathname,s,r,l,"profile")}})),J(this,"shouldShowUserHeader",(()=>{var e,t;const{location:{pathname:o},user:n}=this.props;let i=!1;return ie.forEach((e=>{o.indexOf(e)>-1&&(i=!0)})),(o.endsWith(`/${null!==(e=null==n?void 0:n.username)&&void 0!==e?e:""}`)||o.endsWith(`/${null!==(t=null==n?void 0:n.username)&&void 0!==t?t:""}/`))&&(i=!0),i})),J(this,"handleInviteResponse",(e=>{const{invite:t,location:o,onAccept:n,onDismiss:i,showToast:s,user:r}=this.props;if(!t||!t.board)return;const{invited_by_user:l,board:{id:a=null,url:c=""}}=t,{first_name:d=""}=l||{};this.props.requireAuthForLimitedLogin({fn:()=>{const t=(r||{}).id;a?e?(n(a,t),s((({hideToast:e})=>(0,Q.jsx)(x.ZP,{href:c,text:this.props.i18n._('You\'re in! Save Pins, plan with collaborators, and more!', 'ProfilePage.handleInviteResponse.acceptInviteToast', 'Toast text after accepting board collaborator invite.'),onHide:e})))):(i(a,t),s((({hideToast:e})=>(0,Q.jsx)(x.ZP,{text:this.props.i18n._('Invitation declined', 'Toast text after declining board collaborator invite', 'Toast text after declining board collaborator invite'),onHide:e})))):s((({hideToast:e})=>(0,Q.jsx)(x.ZP,{text:this.props.i18n._('Invalid Invite', 'Toast text for an invalid board collab invite', 'Toast text for an invalid board collab invite'),onHide:e})))},modalHeader:(0,W.gv)({firstName:d,i18n:this.props.i18n}),nextLocation:(0,W.F4)(o)})(),this.setState({isInviteActionTaken:!0})})),J(this,"renderInvite",(()=>{const{invite:e}=this.props;return e?(0,Q.jsx)(q.xu,{dangerouslySetInlineStyle:{__style:{margin:"0 -14px"}},children:(0,Q.jsx)(r.Z,{handleInviteResponse:this.handleInviteResponse,invite:e})}):null})),J(this,"experienceRef",(0,n.createRef)())}componentDidMount(){(0,u.Z)();const{fetchExperienceWithExtraContext:e,isAuthenticated:t,user:o,viewerId:n}=this.props;t||(0,$.NC)("view_profile_page");e({profile_ownership:(o||{}).id===n?"own":"other"})}render(){const{blockUser:e,children:t,headerTab:o,i18n:n,invite:i,isAuthenticated:s,isDesktop:r,location:d,match:{params:{username:u}},unblockUser:x,user:b,userBoardExample:v,viewerId:y,isBot:P}=this.props,{isInviteActionTaken:A,isSpinnerShown:C,sendProfileModalIsOpen:j}=this.state;if(!b)return(0,Q.jsx)(q.xu,{margin:5,children:(0,Q.jsx)(q.$j,{show:!0,accessibilityLabel:this.props.i18n._('Loading user profile', 'Loading state for the user profile page', 'Loading state for the user profile page')})});v&&!s&&this.handleLastPageVisited();const{id:E,is_verified_merchant:I,eligible_profile_tabs:T=[]}=b||{},z=E===y,k=`/${u||""}${ne}`,D={0:{component:13669,href:`/${u||""}${te}`,id:te,text:this.props.i18n._('Saved', 'profileHeader.tabs.saved', 'Label for Saved tab on profile header')},3:{component:13671,href:k,id:ne,text:this.props.i18n._('Tried', 'mobile.routes.profilePage.', 'Link to the tried tab on the profile page')},1:{component:13668,href:`/${u||""}${oe}`,id:oe,ref:this.experienceRef,text:this.props.i18n._('Created', 'profileHeader.tabs.created', 'Label for Created tab on profile header')}},R=T.filter((({tab_type:e})=>!!D[e])).filter((({tab_type:e})=>!((3===e||1===e)&&P))).map((({tab_type:e})=>D[e])),O=R.findIndex((e=>e.id===o)),L=z?3106:3107,B=!A&&!!i&&z,M=this.shouldShowUserHeader(),F=M&&R.length>1;return(0,Q.jsx)(w.Z,{objectIdStr:E,viewParameter:L,viewType:4,children:(0,Q.jsx)(f.Z,{objectId:E,view:4,viewParameter:L,children:(0,Q.jsxs)(_.default,{dataLayoutShiftBoundaryId:"ProfilePageContainer",hasFixedHeader:s,children:[s&&(0,Q.jsx)(l.Z,{shouldShowShadow:!0,position:"sticky",children:(0,Q.jsx)(S.FixedHeader,{children:(0,Q.jsx)(p.Z,{location:d,user:b,viewerId:y})})}),!r&&(0,Q.jsx)(g.default,{hideContactsSuggestions:!s,isOpen:j,objectId:E,objectType:3,onDismiss:this.closeSendPinModal,element:12631,viewType:4,viewParameter:L}),(M||F||B)&&(0,Q.jsxs)(q.xu,{direction:"column",display:"flex",paddingX:4,paddingY:0,marginBottom:3,children:[M&&(0,Q.jsx)(q.xu,{marginBottom:5,children:(0,Q.jsx)(h.Z,{blockUser:e,unblockUser:x,handleShareClick:this.openSendProfileModal,isVerifiedMerchant:I,user:b,renderShareMenu:r&&j?e=>(0,Q.jsx)(a.Z,{anchor:e,title:n._('Send this profile', 'ProfileHeader.ShareMenu.Title', 'title for share menu popover'),onDismiss:this.closeSendPinModal,objectId:E,objectType:3}):null})}),F&&(0,Q.jsx)(q.xu,{"data-test-id":"tabs-container",display:"flex",justifyContent:"center",marginTop:2,children:(0,Q.jsx)(q.xu,{marginTop:1,marginBottom:1,overflow:"hidden",children:(0,Q.jsx)(q.mQ,{tabs:R,onChange:({activeTabIndex:e})=>{const{isAuthenticated:t,user:o,viewerId:n,logContextEvent:i}=this.props,s=R[e],r=(o||{}).id===n;i({event_type:101,component:s.component,view_type:4,view_parameter:r?3106:3107}),t||((0,$.NC)("press_change_tab"),(0,$.LW)({action:"click",pageLocation:d,item:"page-tabs"}))},activeTabIndex:O>-1?O:0})})}),B&&this.renderInvite()]}),(0,Q.jsx)(q.xu,{children:t}),C?(0,Q.jsx)(c.Z,{}):null,!s&&(0,Q.jsx)(m.Z,{user:b})]})})})}}const re=({username:e,isAuthenticated:t=!1,getPageMetadata:o,inviteCode:n})=>({field_set_key:t?"profile":"unauth_profile",username:e,is_mobile_fork:!0,get_page_metadata:o,invite_code:n});function le(e){var t,o;const r=(0,i.useDispatch)(),l=(0,Y.TH)(),a=(0,Y.k6)(),c=(0,Y.$B)(),{locale:d}=(0,Z.B)(),u=(0,P.Z)(),{isAuth:_}=u,h=u.isAuth?u.id:"",p=u.isAuth?u.username:"",m=null!==(t=c.params.username)&&void 0!==t?t:"",g=(0,G.ZP)(),f=(0,M.HG)(),w=(0,F.U)(),{isBot:C}=(0,Z.B)(),S=(0,b.Z)(),{showToast:I}=(0,X.F9)(),D=(0,v.Z)(),{hideUnauthSharingModals:W,showUnauthSharingModals:$}=null!==(o=(0,N.l)())&&void 0!==o?o:Object.freeze({}),q=(0,B.mN)(),J=(0,i.useSelector)((e=>{const t=(0,V.NZ)(e),o=Object.values(t||{})[0],n=o?(0,V.gI)(e)[o]:null,i=n?e.boards[n.board]:null,s=null!=n&&n.invited_by_user?q(n.invited_by_user):null;return n?{board:i?{id:i.id,image_cover_url:i.image_cover_url,name:i.name,url:i.url}:null,created_at:n.created_at,invited_by_user:s?{id:s.id,first_name:s.first_name,full_name:s.full_name,username:s.username,image_small_url:s.image_small_url}:null,status:n.status,type:t.type}:null}));(0,y.Z)({name:"BoardInvitesResource",options:{current_user:!0},dangerouslyDisableFetch:!_});const{checkExperiment:te}=(0,L.F)(),oe=!_&&!C&&te("unauth_disable_nocache_for_userresource_on_profile_page",{dangerouslySkipActivation:!0}).anyEnabled,{data:ne}=(0,y.Z)({name:"UserResource",noCache:!C&&p!==m&&!oe,options:re({username:m,isAuthenticated:_})}),ie=(0,i.useSelector)((e=>(0,V.Il)(e)[m])),le=null!=ne?ne:ie,ae=(0,i.useSelector)((e=>le?(0,V.PN)(e,{user_id:le.id}):[])),ce=(null==le?void 0:le.id)===h,[de,ue]=(0,n.useState)(!0),_e=(0,i.useSelector)((e=>le&&(0,V.ZX)(e,le.id,"user"))),he=(0,H.Z)();(0,n.useEffect)((()=>{w&&setTimeout((()=>{w.load(new URL("[username]/[slug].js","file://")),w.load(new URL("[username]/_saved.js","file://")),w.load(new URL("[username]/pins.js","file://")),w.load(new URL("[username]/tried.js","file://")),ce&&w.load(new URL("settings.js","file://"))}),500)}),[]),(0,n.useEffect)((()=>{const e=(0,R.mB)(l.search).message===U.aU;var t;ce&&e&&(I((({hideToast:e})=>(0,Q.jsx)(x.ZP,{duration:U.Jl,text:(0,U.ZP)(g,l,null==le?void 0:le.username),iconThumbnail:(0,Q.jsx)(s.Z,{name:(null==le?void 0:le.full_name)||"",src:(null==le?void 0:le.image_medium_url)||"",size:"md"}),onHide:e}))),a.replace(`/${null!==(t=null==le?void 0:le.username)&&void 0!==t?t:""}/`))}),[le]);const pe=(0,O._)({id:1000312});return(0,Q.jsxs)(T.H,{children:[_e&&de&&(0,Q.jsx)(ee,{seoDebugData:_e,setShowSeoDebugModule:ue}),(0,Q.jsx)(se,{...e,blockUser:(e,t)=>r((0,K.Ge)(e)).then((()=>{I((({hideToast:e})=>(0,Q.jsx)(x.ZP,{text:(0,k.nk)(g._('You\'ve blocked {{ name }}', 'profilePage.mapDispatch.blockUserToast', 'Toast confirming that you\'ve blocked a user'),{name:t}).join(" "),onHide:e})))})),canUpsellNativeApp:S,experience:pe,fetchExperienceWithExtraContext:e=>r((0,E.pz)([1000312],C,e)),i18n:g,isDesktop:f,requireAuthForLimitedLogin:he,isBot:C,showToast:I,hideUnauthSharingModals:()=>null==W?void 0:W(),showUnauthSharingModals:()=>{null==$||$(),r((0,z.e6)())},unblockUser:e=>r((0,K.h2)(e)),userBoardExample:ae.length>0?ae[0]:null,isAuthenticated:_,locale:d,user:le,viewerId:h,history:a,location:l,match:c,logContextEvent:D,invite:J,onAccept:(e,t)=>{const o=q(t);o&&r((0,A.SD)(e,o))},onDismiss:(e,t)=>r((0,j.xR)(e,t))})]})}},155378:(e,t,o)=>{o.r(t),o.d(t,{default:()=>A});var n=o(667294),i=o(319915),s=o(172071),r=o(707853),l=o(6637),a=o(947599),c=o(941646),d=o(499128),u=o(50286),_=o(898781),h=o(784590),p=o(19121),m=o(349700),g=o(798748),f=o(80816),x=o(407043),b=o(343341),v=o(883119),y=o(785893);const P=(0,n.lazy)((()=>Promise.all([o.e(80582),o.e(13047)]).then(o.bind(o,380582)))),w=new v.H3([r.Z]);function A({handleComplete:e,isNag:t}){const o=(0,u.ZP)(),r=(0,p.Z)(),{logContextEvent:A}=(0,x.v)(),C=(0,_.ZP)(),[j,E]=(0,n.useState)(!0),[S,I]=(0,n.useState)(!1),{showOneToast:T}=(0,b.F9)(),z=(0,h.Z)({name:"UserResource",options:{user_id:r.id||""}}),k="desktop"===o;(0,n.useEffect)((()=>{A({event_type:13,component:13716,view_type:474})}),[]);const D=(0,y.jsxs)(v.xv,{align:k?"start":"center",children:[C._('We use cookies to deliver personalized ads and experiences, and to analyze traffic on our site.', 'homeFeed.cookiesConsentBanner.bannerText', 'Banner description about why we use cookies')," ",(0,m.nk)(C._('Read our {{ cookiePolicyLink }} for more information.', 'homeFeed.cookiesConsentBanner.readCookiePolicyText', 'Banner description about why we use cookies. "cookiePolicyLink" equals to "Cookie Policy" for english'),{cookiePolicyLink:(0,y.jsx)(v.xv,{inline:!0,weight:"bold",children:(0,y.jsx)(v.rU,{href:g._I,inline:!0,target:"blank",underline:"hover",children:C._('cookie policy', 'homeFeed.cookiesConsentBanner.cookiePolicyLink', 'Cookie policy link')},"cookie-policy-link")})})]}),R=(0,y.jsxs)(v.kC,{direction:k?"row":"column",gap:k?{row:2,column:0}:{column:4,row:0},children:[(0,y.jsx)(v.zx,{fullWidth:!0,onClick:()=>{A({event_type:101,component:13716,view_type:474,element:11984}),s.Z.increment("webapp.updateCookiePreferences",.1,{allow_analytic_cookies:"true",allow_marketing_cookies:"true",allow_personalization_cookies:"true",location:"app_packages_CookieConsent_Banner_handleAcceptAll"}),l.Z.create("UserSettingsResource",{allow_analytic_cookies:!0,allow_marketing_cookies:!0,allow_personalization_cookies:!0,surface_tag:f.i.HOLISTIC_PROFILE_PROMPT}).callUpdate().then((()=>{z.refresh(),T((({hideToast:e})=>(0,y.jsx)(d.ZP,{duration:3e3,onHide:e,text:C._('We saved your cookie preferences. You can change them in the settings section of your profile at any time.', 'homeFeed.cookiesConsentBanner.acceptedAllToastText', 'Success message after accepting all optional cookies')}))),e()}))},size:k?"lg":"md",text:C._('Accept all', 'navFooter.cookieConsentBanner.acceptAllButton', 'Accept all cookies button')}),(0,y.jsx)(v.zx,{fullWidth:!0,onClick:()=>{A({event_type:101,component:13716,view_type:474,element:11985}),s.Z.increment("webapp.updateCookiePreferences",.1,{allow_analytic_cookies:"false",allow_marketing_cookies:"false",allow_personalization_cookies:"false",location:"app_common_react_components_CookieConsent_Banner_handleRejectAll"}),l.Z.create("UserSettingsResource",{allow_analytic_cookies:!1,allow_marketing_cookies:!1,allow_personalization_cookies:!1,surface_tag:f.i.HOLISTIC_PROFILE_PROMPT}).callUpdate().then((()=>{z.refresh(),T((({hideToast:e})=>(0,y.jsx)(d.ZP,{duration:3e3,onHide:e,text:C._('We saved your cookie preferences. You can change them in the settings section of your profile at any time.', 'homeFeed.cookiesConsentBanner.acceptedAllToastText', 'Success message after accepting all optional cookies')}))),e()}))},size:k?"lg":"md",text:C._('Reject all', 'navFooter.cookieConsentBanner.rejectAllButton', 'Manage cookie settings button')}),(0,y.jsx)(v.zx,{fullWidth:!0,onClick:()=>{A({event_type:101,component:13716,view_type:474,element:11986}),I(!0),k||E(!1)},size:k?"lg":"md",text:C._('Let me choose', 'navFooter.cookieConsentBanner.manageCookiesButton', 'Manage cookie settings button')})]});return(0,y.jsxs)(n.Fragment,{children:[j&&(k?(0,y.jsx)(v.xu,{paddingX:2,smPaddingX:6,paddingY:2,smPaddingY:t?2:0,children:(0,y.jsxs)(v.xu,{alignItems:"center",borderStyle:"sm","data-test-id":"cookie-consent-banner",display:"flex",direction:"column",smDirection:"row",justifyContent:"between",marginBottom:t?0:6,overflow:"hidden",padding:t?3:6,position:"relative",rounding:4,children:[(0,y.jsx)(v.xu,{display:"flex",marginEnd:0,smMarginEnd:7,children:D}),(0,y.jsx)(v.xu,{alignItems:"center",display:"flex",flex:"none",justifyContent:"center",marginTop:4,smMarginTop:0,children:R})]})}):(0,y.jsx)(v.mh,{zIndex:w,children:(0,y.jsx)(v.xu,{bottom:!0,marginBottom:2,position:"fixed",width:"100%",children:(0,y.jsxs)(v.xu,{alignItems:"center",borderStyle:"shadow",color:"default",direction:"column",display:"flex",marginEnd:"auto",marginStart:"auto",padding:6,rounding:6,width:"95%",children:[D,(0,y.jsx)(v.xu,{marginTop:4,minWidth:240,children:R})]})})})),S&&(0,y.jsx)(i.Z,{name:"SafeSuspense_CookieConsentBanner_SettingsModal",children:(0,y.jsx)(a.Z,{children:(0,y.jsx)(c.Z,{id:"settings-modal",children:(0,y.jsx)(P,{dismissIcon:"cancel",onClose:()=>I(!1),handleComplete:e})})})})]})}},918301:(e,t,o)=>{o.d(t,{CB:()=>h,y9:()=>_});var n=o(667294),i=o(121151),s=o(6637),r=o(898781),l=o(883119),a=o(785893);const c=({onConfirm:e})=>{const t=(0,r.ZP)(),[o,c]=(0,n.useState)(!1),d=()=>{c(!0),s.Z.create("ApiResource",{url:"/v3/users/email/verify/resend/"}).callCreate()};return(0,a.jsx)(i.ZP,{accessibilityModalLabel:t._('Verify your email', 'Accessible label for email verification being required', 'Accessible label for email verification being required'),onDismiss:e,heading:t._('Verify your email', 'Accessible label for email verification being required', 'Accessible label for email verification being required'),footer:(0,a.jsxs)(l.kC,{justifyContent:"end",gap:{row:2,column:0},children:[o?(0,a.jsx)(l.zx,{fullWidth:!0,size:"lg",color:"gray",text:t._('Email sent', 'Button text for verification email being sent', 'Button text for verification email being sent'),disabled:o,onClick:d}):(0,a.jsx)(l.zx,{fullWidth:!0,size:"lg",color:"gray",text:t._('Resend email', 'Button text for resending email verification email', 'Button text for resending email verification email'),disabled:o,onClick:d}),(0,a.jsx)(l.zx,{fullWidth:!0,size:"lg",color:"red",text:t._('Got it', 'Button text for acknowledging email verificaiton is required', 'Button text for acknowledging email verificaiton is required'),onClick:e})]}),role:"alertdialog",children:(0,a.jsx)(l.xu,{padding:8,children:(0,a.jsx)(l.xv,{align:"center",size:"300",children:t._('Keep your account secure by verifying your email address. Check the inbox associated with this account for an email from us to continue using Pinterest.', 'Inform users that they need to verify their email to keep their account secure and continue using Pinterest', 'Inform users that they need to verify their email to keep their account secure and continue using Pinterest')})})})};var d=o(425288);const{Provider:u,useHook:_}=(0,d.Z)("EmailVerificationReminderModal");function h({children:e}){const[t,o]=(0,n.useState)(!1),i=(0,n.useMemo)((()=>({showEmailVerificationReminderModal:()=>{o(!0)}})),[]);return(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)(u,{value:i,children:e}),t&&(0,a.jsx)(c,{onConfirm:()=>{o(!1)}})]})}},583375:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(898781),i=o(785893);function s({fillColor:e,size:t,noCircle:o}){const s=(0,n.ZP)();return(0,i.jsxs)("svg",{height:t,style:{display:"block"},viewBox:o?"3 3 70 70":"-3 -3 82 82",width:t,children:[(0,i.jsx)("title",{children:s._('Pinterest logo', 'Accessibility label for Pinterest icon', 'Accessibility label for Pinterest icon')}),o?null:(0,i.jsx)("circle",{cx:"38",cy:"38",fill:"white",r:"40"}),(0,i.jsx)("path",{d:"M27.5 71c3.3 1 6.7 1.6 10.3 1.6C57 72.6 72.6 57 72.6 37.8 72.6 18.6 57 3 37.8 3 18.6 3 3 18.6 3 37.8c0 14.8 9.3 27.5 22.4 32.5-.3-2.7-.6-7.2 0-10.3l4-17.2s-1-2-1-5.2c0-4.8 3-8.4 6.4-8.4 3 0 4.4 2.2 4.4 5 0 3-2 7.3-3 11.4C35.6 49 38 52 41.5 52c6.2 0 11-6.6 11-16 0-8.3-6-14-14.6-14-9.8 0-15.6 7.3-15.6 15 0 3 1 6 2.6 8 .3.2.3.5.2 1l-1 3.8c0 .6-.4.8-1 .4-4.4-2-7-8.3-7-13.4 0-11 7.8-21 22.8-21 12 0 21.3 8.6 21.3 20 0 12-7.4 21.6-18 21.6-3.4 0-6.7-1.8-7.8-4L32 61.7c-.8 3-3 7-4.5 9.4z",fill:null!=e?e:"#e60023",fillRule:"evenodd"})]})}},512176:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(667294),i=o(898781),s=o(112690),r=o(967181),l=o(883119),a=o(785893);const c={sm:12,md:16,lg:20,xl:24};function d({isVerifiedMerchant:e,size:t,showText:o,showVerifiedIdentity:d,inspirationalBadges:u,inspirationalBadgesColor:_}){const h=(0,i.ZP)(),[p,m]=(0,n.useState)(!1),{dangerousInlineStyle:g,iconColor:f}=(0,r.W)(!!e),x=(0,s.Z)();return(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)(l.iP,{onTap:()=>{x({component:13534,element:11717,event_type:102}),m(!0)},rounding:"circle",children:(0,a.jsxs)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:g,display:"flex","data-test-id":"verified-badge-icon",children:[(0,a.jsx)(l.JO,{accessibilityLabel:e?h._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'):h._('Badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),icon:"workflow-status-ok",color:f,inline:!0,size:c[t]}),o&&!d&&(0,a.jsx)(l.xu,{marginStart:2,children:(0,a.jsx)(l.xv,{color:"shopping",inline:!0,weight:"bold",children:(0,a.jsx)(l.xu,{dangerouslySetInlineStyle:g,children:h._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})})]})}),(e||o&&!d)&&(0,a.jsx)(r.Z,{showModal:p,setShowModal:m,inspirationalBadges:u,inspirationalBadgesColor:_})]})}},967181:(e,t,o)=>{o.d(t,{W:()=>u,Z:()=>_});var n=o(667294),i=o(121151),s=o(966113),r=o(898781),l=o(112690),a=o(752403),c=o(883119),d=o(785893);const u=e=>{const t=e?"shopping":"error";return{iconColor:t,dangerousInlineStyle:{__style:{color:t}}}};function _({inspirationalBadges:e=[],inspirationalBadgesColor:t,showModal:o,setShowModal:_}){const h=(0,r.ZP)(),[p,m]=(0,n.useState)(!0),{dangerousInlineStyle:g,iconColor:f}=u(!0),x=(0,l.Z)();return(0,n.useEffect)((()=>{o&&p&&(m(!1),x({event_type:13,component:13534}))}),[o]),(0,d.jsx)(i.ZP,{"data-test-id":"modal",isOpen:o,mobileAccessibilityCloseIconLabel:h._('Close', 'Close modal window', 'Close modal'),onDismiss:()=>{x({component:13534,element:11716,event_type:102}),_(!1)},type:"verified_merchant_modal",children:(0,d.jsx)(c.xu,{padding:3,children:(0,d.jsxs)(c.xu,{display:"flex",direction:"column",padding:2,"data-test-id":"verified-badge-modal",children:[(0,d.jsx)(c.xu,{display:"flex",dangerouslySetInlineStyle:g,justifyContent:"center",children:(0,d.jsx)(c.JO,{accessibilityLabel:h._('Merchant verification badge icon', 'creator.verifiedMerchant.modalIcon', 'Badge indicating that a merchant or user is verified'),color:f,icon:"workflow-status-ok",size:24})}),(0,d.jsx)(c.xu,{marginTop:4,children:(0,d.jsx)(c.xv,{color:"shopping",weight:"bold",align:"center",children:(0,d.jsx)(c.xu,{dangerouslySetInlineStyle:g,children:h._('Verified merchant', 'creator.verifiedMerchant.modalHeader', 'this merchant is a verified merchant')})})}),(0,d.jsx)(c.xu,{marginTop:4,marginBottom:4,children:(0,d.jsx)(c.xv,{align:"center",overflow:"normal",children:h._('This retailer meets Pinterest\'s Merchant Guidelines', 'creator.verifiedMerchant.modalText.', 'this merchant is a verified merchant')})}),e.map((e=>(0,d.jsxs)(c.xu,{display:"flex",direction:"column",marginTop:4,children:[(0,d.jsx)(c.kC,{alignItems:"stretch",justifyContent:"center",children:(0,d.jsx)(c.xv,{overflow:"noWrap",size:"100",weight:"bold",children:(0,d.jsx)(c.xu,{display:"inlineBlock",rounding:1,paddingX:2,paddingY:2,dangerouslySetInlineStyle:{__style:(0,a.ym)(t)},"data-test-id":"verified-badge-modal-inspirational-badge",children:e.label})})}),(0,d.jsx)(c.xu,{marginTop:2,children:(0,d.jsx)(c.xv,{align:"center",overflow:"normal",children:e.description})})]},e.id))),(0,d.jsx)(c.xu,{display:"flex",marginTop:8,justifyContent:"center",width:"100%","data-test-id":"verified-badge-modal-learn-more",children:(0,d.jsx)(c.zx,{role:"link",accessibilityLabel:h._('Learn more', 'creator.verifiedMerchant.buttonText', 'learn more about the verified merchant program by visiting help.pinterest.com'),target:"blank",size:"lg",href:s.Z.settings.HELP_SHOPPING_WITH_PINTEREST,text:h._('Learn more', 'creator.verifiedMerchant.buttonText', 'learn more about the verified merchant program by visiting help.pinterest.com')})})]})})})}},77601:(e,t,o)=>{o.d(t,{Z:()=>i});const n="undefined"!=typeof window&&window.performance&&window.performance.now?()=>window.performance.now():()=>Date.now();function i({window:e,duration:t,run:o}){const i=n();let s=0,r=null;const l=()=>{const a=n()-i,c=a-s;if(t===1/0)o(0,a,c);else{const e=a/t;if(e>=1)return void o(1,a,c);o(e,a,c)}s=a,r=e.requestAnimationFrame(l)};return{start:()=>{r=e.requestAnimationFrame(l)},cancel:()=>{r&&(e.cancelAnimationFrame(r),r=null)}}}},830944:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(27255);function i(e){return e===n.Z.BoardPrivacy.SECRET}},332730:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(56641),i=o(954931),s=o(867820);const r=e=>{(0,i.Z)(e)||(e="/",(0,s.My)("url_reset")),(0,n.Z)(e,!1)}},924196:(e,t,o)=>{o.d(t,{Z:()=>n});const n={GOOGLE_ADWORDS_ID:852082959,GOOGLE_ADWORDS_LABEL_PROPEL_QUALIFIED:"Mah3CPrv13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_PROPEL_UNQUALIFIED:"_DJfCKzy13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CREATE:"GGbCCM7p-nYQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT:"SwBsCIz9k3cQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_ADVERTISER_INTENT:"kDf0COWL4okBEI-Cp5YD",DOUBLECLICK_TAG_ID:"8032161",DOUBLECLICK_EVENT_ID_PROPEL:"prope001",DOUBLECLICK_CATEGORY_ID_PROPEL_QUALIFIED:"pinte0",DOUBLECLICK_CATEGORY_ID_PROPEL_UNQUALIFIED:"pinte00",TRADEDESK_ADVERTISER_ID:"fc1uc9n",TRADEDESK_EVENT_ID_GENERAL_PAGEVIEW:"ogalyt3",TRADEDESK_CONVERSION_ID_PROPEL_QUALIFIED:"judrn76",TRADEDESK_CONVERSION_ID_PROPEL_UNQUALIFIED:"f0v4s5d",FACEBOOK_ADVERTISER_ID:"956400731086791",TWITTER_UNIVERSAL_TAG_ID:"nuzh8",TWITTER_CONVERSION_ID_PROPEL_QUALIFIED:"ny8zl",TWITTER_CONVERSION_ID_PROPEL_UNQUALIFIED:"nya0d",LINKEDIN_PARTNER_ID:"44352",LINKEDIN_CONVERSION_ID_PROPEL_QUALIFIED:"166217",LINKEDIN_CONVERSION_ID_PROPEL_UNQUALIFIED:"171754",LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT:"529092",PINTEREST_TAG_ID:"2614461171935",SMB_PAID_PINTEREST_ID:"2613736141997"}},904431:(e,t,o)=>{function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}o.d(t,{Z:()=>s});class i{static reportGoogleConversion(e,t,o){void 0!==window.gtag_report_conversion?window.gtag_report_conversion(e,t,o):i.queuedGoogleConversions.push({id:e,label:t,url:o})}static reportFacebookConversion(e,t,o){void 0!==window.fbq?o?window.fbq("track",t,o):window.fbq("track",t):i.queuedFacebookConversions.push({id:e,event:t,data:o})}static reportCustomFacebookConversion(e,t,o){void 0!==window.fbq?o?window.fbq("trackCustom",t,o):window.fbq("trackCustom",t):i.queuedFacebookConversions.push({id:e,isCustomEvent:!0,event:t,data:o})}static reportPinterestConversion(e,t,o){void 0!==window.pintrk?o?window.pintrk("track",t,o):window.pintrk("track",t):i.queuedPinterestConversions.push({id:e,event:t,data:o})}static reportTwitterConversion(e,t){void 0!==window.twttr?t?window.twttr.conversion.trackPid(e,t):window.twttr.conversion.trackPid(e):i.queuedTwitterConversions.push({id:e,data:t})}static reportTheTradeDeskConversion(e,t){const o=document.createElement("img");o.setAttribute("height","1"),o.setAttribute("width","1"),o.setAttribute("role","presentation"),o.style.borderStyle="none",o.style.position="absolute",o.setAttribute("src",`//insight.adsrvr.org/track/conv/?adv=${e}&ct=0:${t}&fmt=3`),document.body.insertBefore(o,document.body.lastChild)}static reportLinkedInConversion(e,t){const o=document.createElement("img");o.setAttribute("width","1"),o.setAttribute("height","1"),o.setAttribute("role","presentation"),o.setAttribute("src",`https://dc.ads.linkedin.com/collect/?pid=${e}&conversionId=${t}&fmt=gif`),o.style.display="none",document.body.insertBefore(o,document.body.lastChild)}static reportDoubleClickConversion(e,t,o){const n=1e13*Math.random(),i=document.createElement("iframe");i.setAttribute("width","1"),i.setAttribute("height","1"),i.setAttribute("frameborder","0"),i.setAttribute("src",`https://${e}.fls.doubleclick.net/activityi;src=${e};\n    type=${t};cat=${o};dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=${n}?`),i.style.display="none",document.body.insertBefore(i,document.body.lastChild)}static insertGoogleAdWordsTag(e){const t=document.createElement("script");t.setAttribute("async",""),t.setAttribute("src",`https://www.googletagmanager.com/gtag/js?id=AW-${e}`),t.onload=()=>{window.dataLayer=window.dataLayer||[],window.gtag=function(e,t,o){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config","AW-"+e),window.gtag_report_conversion=function(e,t,o){return window.gtag("event","conversion",{send_to:"AW-"+e+"/"+t,event_callback:function(){void 0!==o&&window.location.assign(o)}}),!1};const t=i.queuedGoogleConversions;for(let o=0;o<t.length;o+=1){const n=t[o];n.id===e&&i.reportGoogleConversion(n.id,n.label,n.url)}},document.body.insertBefore(t,document.body.firstChild)}static insertFacebookPixelTag(e){var t,o,n,s,r,l;t=window,o=document,n="script",t.fbq||(s=t.fbq=function(){s.callMethod?s.callMethod.apply(s,arguments):s.queue.push(arguments)},t._fbq||(t._fbq=s),s.push=s,s.loaded=!0,s.version="2.0",s.queue=[],(r=o.createElement(n)).async=!0,r.src="//connect.facebook.net/en_US/fbevents.js",(l=o.getElementsByTagName(n)[0]).parentNode.insertBefore(r,l)),window.fbq("init",e),window.fbq("track","PageView");const a=i.queuedFacebookConversions;for(let c=0;c<a.length;c+=1){const t=a[c];t.id===e&&(t.isCustomEvent?i.reportCustomFacebookConversion(e,t.event,t.data):i.reportFacebookConversion(e,t.event,t.data))}}static insertTwitterUniversalTag(e){var t,o,n,i,s,r;t=window,o=document,n="script",t.twq||((i=t.twq=function(){i.exe?i.exe.apply(i,arguments):i.queue.push(arguments)}).version="1.1",i.queue=[],(s=o.createElement(n)).async=!0,s.src="//static.ads-twitter.com/uwt.js",(r=o.getElementsByTagName(n)[0]).parentNode.insertBefore(s,r)),window.twq("init",e),window.twq("track","PageView")}static insertLinkedInInsightTag(e){window._linkedin_data_partner_id=e;const t=document.createElement("script");t.setAttribute("src","//snap.licdn.com/li.lms-analytics/insight.min.js"),document.body.insertBefore(t,document.body.firstChild)}static insertPinterestTag(e){!function(e){if(!window.pintrk){window.pintrk=function(){window.pintrk.queue.push(Array.prototype.slice.call(arguments))};const e=window.pintrk;e.queue=[],e.version="3.0";const t=document.createElement("script");t.async=!0,t.src="https://s.pinimg.com/ct/core.js";const o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(t,o)}}(),window.pintrk("load",e),window.pintrk("page");const t=i.queuedPinterestConversions;for(let o=0;o<t.length;o+=1){const n=t[o];n.id===e&&i.reportPinterestConversion(e,n.event,n.data)}}}n(i,"queuedGoogleConversions",[]),n(i,"queuedFacebookConversions",[]),n(i,"queuedPinterestConversions",[]),n(i,"queuedTwitterConversions",[]);const s=i},752403:(e,t,o)=>{o.d(t,{Bu:()=>x,Dm:()=>l,Fp:()=>p,I:()=>y,NG:()=>g,QP:()=>u,S4:()=>c,Xe:()=>_,_f:()=>f,eT:()=>b,hm:()=>v,k$:()=>h,lz:()=>m,st:()=>d,yQ:()=>a,ym:()=>w});var n=o(642345);const i=Object.freeze({AFRICAN_AMERICAN_OR_BLACK:"african_american_or_black",BLACK_AFRICAN_DIASPORA:"black_african_diaspora",HISPANIC_OR_LATINX:"hispanic_or_latinx",NATIVE_OR_INDIGENOUS:"native_or_indigenous",ABORIGINAL_OR_INDIGENOUS:"aboriginal_or_indigenous",NATIVE_AMERICAN_OR_ALASKA_NATIVE_OR_INDIGENOUS_PEOPLES:"native_american_or_alaska_native_or_indigenous_peoples",ASIAN_OR_PACIFIC_ISLANDERS:"asian_or_pacific_islanders",ASIAN:"asian",LGBTQ:"lgbtq",MIDDLE_EASTERN:"middle_eastern",TURKISH:"turkish",ROMA:"roma",MIDDLE_EASTERN_TURKISH_ROMA:"middle_eastern_turkish_roma",NORTH_AFRICAN:"north_african",MIDDLE_EASTERN_OR_NORTH_AFRICAN:"middle_eastern_or_north_african",NONE:"none"}),s=Object.freeze({PERSON_OF_COLOR:"person_of_color",LGBTQ:"lgbtq",DISABILITY:"disability",WOMAN:"woman",NONE:"none"}),r=Object.freeze({INVESTED_IN_GOOD:"invested_in_good",ECO_FRIENDLY:"eco_friendly",RESPONSIBLY_SOURCED:"responsibly_sourced",INCLUSIVE:"inclusive",PERSONAL_TOUCH:"personal_touch"}),l=[...Object.keys(i).map((e=>i[e])),...Object.keys(s).map((e=>s[e]))],a=[...Object.keys(r).map((e=>r[e]))],c=3,d=1,u=["#EFEFEF","#F8E3D1","#F6F1C1","#DDEEAF","#C9F2EE","#DBD5F4","#EFBCEE"],_={business_diversity_labels:[],created_at:"",disapproval_reasons:[],is_inspirational:!1,review_criteria:[],review_labels:[],updated_at:"",inspirational_badge_selection:{badgeColor:u[0],badgeOptOut:[]},is_eligible_for_storefront_badges:!1,badge_details:[],profile_badges:[]},h="storefront_inspirational_badges_web",p="storefront_inspirational_badges_colors",m="merchant_storefront_api_profile_badges",g="https://help.pinterest.com/article/merchant-details",f="https://help.pinterest.com/business/article/add-merchant-details-to-your-profile";function x({areBadgesEnabled:e,verifiedMerchant:t}){var o,n;const i=null==t?void 0:t.isVerifiedMerchant,s=null==t||null===(o=t.inspirational_signal)||void 0===o?void 0:o.is_inspirational,r=null==t||null===(n=t.inspirational_signal)||void 0===n?void 0:n.is_eligible_for_storefront_badges;return Boolean(e&&i&&s&&r)}function b(e){return e.badge_details?e.badge_details.map((e=>e.id)):[]}function v(e){return e.profile_badges||[]}function y(e,t,o){return t&&o?t.map((e=>o.find((t=>t.id===e.trim())))).filter(Boolean):[]}function P(e){const t=(0,n.oo)(e);if(!t)return"white";const[o,i,s]=t;return(0,n.DW)(o,i,s)<=n.I?"white":"black"}function w(e){const t=e||u[0];return{backgroundColor:t,color:P(t)}}},642345:(e,t,o)=>{o.d(t,{DW:()=>l,I:()=>r,oo:()=>s,vq:()=>i});const n=e=>{const t=e.toString(16);return 1===t.length?"0"+t:t},i=(e,t,o)=>"#"+n(e)+n(t)+n(o),s=e=>{const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t&&[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]},r=.18,l=(e,t,o)=>.2126*(e/255)**2.2+.7151*(t/255)**2.2+.0721*(o/255)**2.2},367216:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(667294),i=o(391254),s=o(898781),r=o(883119),l=o(785893);function a({onClick:e,onAnchorRefSet:t,isEmojiTrayOpen:o}){const[a,c]=(0,n.useState)(!1),d=(0,r.JZ)(),u=(0,s.ZP)(),_=a&&!d?{fontSize:"24px",animationName:"wiggle",animationDuration:"0.9s"}:{fontSize:"24px"};return(0,l.jsx)(r.xu,{display:"flex",justifyContent:"center",color:o?"secondary":"transparent",rounding:"circle",children:(0,l.jsxs)(r.iP,{accessibilityLabel:u._('Select an emoji', 'emojitray.button.accessibilityLabel', 'Accessibility label for emoji tray button'),rounding:"circle",onTap:()=>{null==e||e()},fullWidth:!1,onMouseEnter:()=>{c(!0)},onMouseLeave:()=>{c(!1)},children:[(0,l.jsx)(i.Z,{unsafeCSS:"@keyframes wiggle {\n        0% {transform: rotate(0deg);}\n        25% {transform: rotate(15deg);}\n        50% {transform: rotate(-15deg);}\n        75% {transform: rotate(15deg);}\n        100% {transform: rotate(0deg);}\n      }"}),(0,l.jsx)(r.xu,{ref:t,display:"flex",alignContent:"center",dangerouslySetInlineStyle:{__style:_},width:24,height:30,children:"😃"})]})})}},541776:(e,t,o)=>{o.d(t,{LH:()=>i,Rv:()=>s,TJ:()=>r,iB:()=>n,pW:()=>l});const n=48,i=n+8,s=Object.freeze({TOP:0,REPLY_TO_TRIED:1,REPLY_TO_AGGREGATED:2}),r="comment_featured_ids",l="did_it_featured_ids"},512465:(e,t,o)=>{o.d(t,{Z:()=>d,w:()=>u});var n=o(349700);const i=e=>e._('{{ first }}', 'Generic message that lists 1 item', 'Generic message that lists 1 item (ex: Stevie)'),s=e=>e._('{{ first }} and {{ second }}', 'Generic message that lists 2 items', 'Generic message that lists 2 items (ex: Stevie and Michael)'),r=e=>e._('{{ first }}, {{ second }} and {{ third }}', 'Generic message that lists 3 items', 'Generic message that lists 3 items (ex: Stevie, Michael and Cyndi)'),l=e=>e._('{{ first }}, {{ second }}, {{ third }} and {{ fourth }}', 'Generic message that lists 4 items', 'Generic message that lists 4 items (ex: Stevie, Michael, Cyndi and Bob)'),a=e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }} and {{ fifth }}', 'Generic message that lists 5 items', 'Generic message that lists 5 items (ex: Stevie, Michael, Cyndi, Bob and Bruce)'),c=e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ sixth }}', 'Generic message that lists 6 items', 'Generic message that lists 6 items (ex: Stevie, Michael, Cyndi, Bob, Bruce and Lionel)');function d(e,t){const o={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],remaining:e.length-5};switch(e.length){case 0:return[];case 1:return(0,n.nk)(i(t),o);case 2:return(0,n.nk)(s(t),o);case 3:return(0,n.nk)(r(t),o);case 4:return(0,n.nk)(l(t),o);case 5:return(0,n.nk)(a(t),o);case 6:return(0,n.nk)(c(t),o);default:return(0,n.nk)((e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ remaining }} others', 'Generic message that lists more than 6 items', 'Generic message that lists more than 6 items (ex: Stevie, Michael, Cyndi, Bob, Bruce and 2 others)'))(t),o)}}function u(e,t){const o={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],seventh:e[6],remaining:e.length-6};switch(e.length){case 0:return[];case 1:return(0,n.nk)(i(t),o);case 2:return(0,n.nk)(s(t),o);case 3:return(0,n.nk)(r(t),o);case 4:return(0,n.nk)(l(t),o);case 5:return(0,n.nk)(a(t),o);case 6:return(0,n.nk)(c(t),o);case 7:return(0,n.nk)((e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ seventh }}', 'Generic message that lists 7 items', 'Generic message that lists 7 items (ex: Stevie, Michael, Cyndi, Bob, Bruce, Lionel and Tina)'))(t),o);default:return(0,n.nk)((e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ remaining }} others', 'Generic message that lists more than 7 items', 'Generic message that lists more than 7 items (ex: Stevie, Michael, Cyndi, Bob, Bruce, Lionel and 2 others)'))(t),o)}}},81636:(e,t,o)=>{o.d(t,{Q:()=>c,Z:()=>d});var n=o(667294),i=o(682492),s=o.n(i),r=o(112690),l=o(780280),a=o(385740);function c(e,t){const{setViewContextData:o}=(0,a.sV)(),{requestIdentifier:i}=(0,l.B)(),c=(0,r.Z)(),{viewData:d}=(0,a.SU)();(0,n.useEffect)((()=>{var t;e&&(o({viewType:null!==(t=e.view_type)&&void 0!==t?t:1,viewParameter:e.view_parameter,viewData:e.view_data?s()(d,e.view_data):s()({},d),component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),c({...e,event_type:13,request_identifier:i}))}),[t])}function d(e){const{children:t,log:o}=e;return c(o),t||null}},305689:(e,t,o)=>{o.d(t,{Ch:()=>u,nc:()=>x,ZP:()=>b,cA:()=>g,li:()=>f,h1:()=>c});var n=o(682492),i=o.n(n),s=o(6637),r=o(706922);var l=o(385740),a=o(172045);const c=()=>1e6*Date.now(),d=[6945],u={3829:"articleImpressions",18:"pinImpressions",3700:"boardImpressions",3803:"searchImpressions",170:"storyImpressions",3704:"userImpressions"},_=[4700,4701,4702,4703,7042,7043],h=e=>function(e){let t=e.length;for(let o=e.length-1;o>=0;o-=1){const n=e.charCodeAt(o);n>127&&n<=2047?t+=1:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&(o-=1)}return t}(JSON.stringify(e)),p=e=>d.includes(e);function m(e){return e.reduce(((e,t)=>{const o=e.find((n=t,e=>e.view_type===n.viewType&&e.view_parameter===n.viewParameter&&e.event_type===n.eventType&&e.object_id_str===n.objectIdStr&&(0,r.Z)(e.view_data,n.viewData)));var n;if(o&&!p(t.eventType))t.impressionType in o.event_data?o.event_data[t.impressionType].push(t.eventData):o.event_data[t.impressionType]=[t.eventData];else{const o={event_type:t.eventType,view_parameter:t.viewParameter,view_type:t.viewType,view_data:t.viewData,time:c(),component:t.component,clientUUID:(0,a.Z)(),aux_data:t.auxData||{},event_data:{[t.impressionType]:p(t.eventType)?t.eventData:[t.eventData]},object_id_str:t.objectIdStr||void 0};e.push(o)}return e}),[])}const g=e=>{const t=e.event_type,o=_.includes(t),n=(0,l.BE)();return!(!o&&13!==t&&!n)},f=(e,t)=>{const o=e.event_type,n=_.includes(o),s=(0,l.BE)();return n?e:13===o&&e.view_type?(null==t||t({viewType:e.view_type,viewParameter:e.view_parameter,viewData:null!=s&&s.viewData?i()(s.viewData,e.view_data):i()({},e.view_data)}),e):!s||e.view_type&&e.view_parameter?e:{...e,view_type:s.viewType,view_parameter:s.viewParameter,view_data:e.view_data?i()(e.view_data,s.viewData):i()({},s.viewData)}},x=(e,t)=>{var o,n;const i=e.component,s=e.object_id_str,r=e.view_type,l=e.event_type;return null!==(o=((null===(n=e.event_data)||void 0===n?void 0:n[t])||[]).map((o=>({auxData:e.aux_data,...i?{component:i}:{},eventData:o,...l?{eventType:l}:{},...r?{viewType:r}:{},viewData:e.view_data,viewParameter:e.view_parameter,...s?{objectIdStr:s}:null,impressionType:t}))))&&void 0!==o?o:[]};function b(){let e=[],t=[],o=0;function n(){return[...e,...m(t)]}function i(){e=[],t=[],o=0}function r(e=!1){const t=n();t.length&&(s.Z.create("ContextLogResource",{events:t,report_time:c()}).callCreate({async:!e,showError:!1}),i())}return{flushContextEvents:r,getContextEvents:n,logContextEvent:function(t){const n={aux_data:{},event_data:{},view_data:{},...t,time:c(),clientUUID:(0,a.Z)()};o+h(n)>20480&&r(!1),e.push(n)},logImpression:function(e){o+h(e)>20480&&r(!1),t.push(e)},resetEventsBuffer:i}}},782534:(e,t,o)=>{o.d(t,{Z:()=>r,k:()=>i.k});var n=o(780280),i=o(451820),s=o(785893);const r=({dateFormatType:e,useUTC:t=!0,value:o})=>(0,s.jsx)(n.LC,{children:n=>(0,i.Z)(n.locale,o,e,t)})},202139:(e,t,o)=>{o.d(t,{DH:()=>n,F4:()=>r,FS:()=>i,N1:()=>d,N9:()=>a,UK:()=>s,VL:()=>l,v6:()=>c});const n=1e3,i=60*n,s=60*i,r=24*s,l=7*r,a=30*r,c=31*r,d=365*r},451820:(e,t,o)=>{o.d(t,{Z:()=>i,k:()=>n});const n={LONG:"long",YEAR:"year",WEEKDAY_DATE:"weekday_date",WEEKDAY_DATE_TIME_TIMEZONE:"weekday_date_time_timezone",SHORT_WEEKDAY_DATE:"short_weekday_date",LONG_MONTH_YEAR:"long_month_year",NUMERIC:"numeric",MONTH_DAY:"month_day",SHORT_MONTH:"short_month",SHORT_MONTH_DAY:"short_month_day",DAY:"day",YEAR_SHORT_MONTH_DAY:"year_short_month_day",YEAR_SHORT_MONTH_DAY_HOUR:"year_short_month_day_hour",TIME:"time",TIME_TIMEZONE:"time_timezone",HOUR:"hour"};function i(e,t,o,i=!0){const s=function(e){switch(e){case n.YEAR:return{year:"numeric"};case n.LONG:return{year:"numeric",month:"long",day:"numeric"};case n.NUMERIC:return{year:"numeric",month:"numeric",day:"numeric"};case n.WEEKDAY_DATE:return{weekday:"long",month:"long",day:"numeric",year:"numeric"};case n.SHORT_WEEKDAY_DATE:return{weekday:"short",month:"numeric",day:"numeric"};case n.WEEKDAY_DATE_TIME_TIMEZONE:return{weekday:"short",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case n.MONTH_DAY:return{month:"long",day:"numeric"};case n.SHORT_MONTH:return{month:"short"};case n.SHORT_MONTH_DAY:return{month:"short",day:"numeric"};case n.DAY:return{day:"numeric"};case n.LONG_MONTH_YEAR:return{month:"long",year:"numeric"};case n.YEAR_SHORT_MONTH_DAY:return{year:"numeric",month:"short",day:"numeric"};case n.YEAR_SHORT_MONTH_DAY_HOUR:return{month:"short",year:"numeric",day:"numeric",hour:"numeric"};case n.TIME:return{hour:"numeric",minute:"2-digit"};case n.TIME_TIMEZONE:return{hour:"numeric",minute:"2-digit",timeZoneName:"short"};case n.HOUR:return{hour:"numeric"};default:throw new Error('invalid dateFormatType "'+e+'"')}}(o);i&&(s.timeZone="UTC");return new Intl.DateTimeFormat(e,s).format(t)}},766935:(e,t,o)=>{function n(e,t){let o;return(...n)=>{clearTimeout(o),o=setTimeout((()=>e(...n)),t)}}o.d(t,{Z:()=>n})},780679:(e,t,o)=>{o.d(t,{g:()=>r,t:()=>s});var n=o(667294);const i=(0,n.createContext)(null),s=i.Provider,r=()=>(0,n.useContext)(i)},274319:(e,t,o)=>{o.d(t,{Z:()=>u});var n=o(667294),i=o(223815),s=o(934523),r=o(77601),l=o(883119),a=o(785893);function c(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class d extends n.Component{constructor(...e){super(...e),c(this,"state",{animation:null,visible:!1}),c(this,"setRef",(e=>{this.element||(this.element=e,null==e||e.addEventListener("dragover",this.handleDragOver),null==e||e.addEventListener("dragleave",this.handleDragLeave))})),c(this,"handleDragOver",(()=>{const{placement:e}=this.props;if(!this.state.animation){const t="top"===e?-1:1,o=(0,r.Z)({window,duration:1/0,run:(e,o,n)=>{const i=o<500?.8:1.2000000000000002;window.scrollTo(0,window.scrollY+i*t*n)}});o.start(),this.setState({animation:o})}})),c(this,"handleDragLeave",(()=>{const{animation:e}=this.state;e&&(e.cancel(),this.setState({animation:null}))})),c(this,"element",null),c(this,"visibleTimeout",null)}componentDidMount(){this.visibleTimeout=window.setTimeout((()=>this.setState({visible:!0})),500)}componentWillUnmount(){const e=this.element,{animation:t}=this.state;e&&(e.removeEventListener("dragover",this.handleDragOver),e.removeEventListener("dragleave",this.handleDragLeave)),t&&t.cancel(),this.visibleTimeout&&window.clearTimeout(this.visibleTimeout)}render(){const{height:e,placement:t}=this.props,{visible:o}=this.state;return(0,a.jsx)(l.xu,{bottom:"bottom"===t,dangerouslySetInlineStyle:{__style:{zIndex:16777271,visibility:o?"visible":"hidden"}},height:e,left:!0,position:"fixed",right:!0,top:"top"===t,children:(0,a.jsx)("div",{ref:this.setRef,style:{width:"100%",height:"100%"}})})}}function u({noStickyHeader:e}){const t=e?0:s.hu;return(0,a.jsx)(i.Z,{children:(0,a.jsx)(l.mh,{children:(0,a.jsxs)(l.xu,{children:[(0,a.jsx)(d,{placement:"top",height:120+t}),(0,a.jsx)(d,{placement:"bottom",height:120})]})})})}},583421:(e,t,o)=>{o.d(t,{Z:()=>d,y:()=>l});var n=o(667294),i=o(60598),s=o(14890),r=o(785893);const l={Pin:"pin",Board:"board",Section:"section",CarouselItem:"carouselitem"};const a={hover:({index:e,onDragHover:t},o,n)=>{t(e,function(e,t){const o=t.targetEl;if(!(o&&o instanceof HTMLElement))return null;const{x:n,y:i}=e.getClientOffset(),{left:s,right:r,top:l,bottom:a,width:c,height:d}=o.getBoundingClientRect();return{positionRelativeToCenter:{x:n-(s+r)/2,y:i-(l+a)/2},boundingBox:{width:c,height:d}}}(o,n))}};class c extends n.Component{render(){const{children:e,connectDragSource:t,connectDropTarget:o,isDragging:n,isDraggingInternal:i,isDropTargetOnly:s}=this.props,l=o((0,r.jsx)("div",{ref:e=>this.targetEl=e,style:{opacity:n||i?0:1},children:e}));return s?l:t(l)}}const d=(0,s.compose)((0,i.GR)((e=>e.type),a,(e=>({connectDropTarget:e.dropTarget()}))),(0,i.Ej)((e=>e.type),{beginDrag:({index:e,onDragBegin:t})=>(t(e),{index:e}),endDrag:({onDragEnd:e},t)=>e(t.didDrop())},((e,t)=>({connectDragSource:e.dragSource(),isDraggingInternal:t.isDragging()}))))(c)},278380:(e,t,o)=>{o.d(t,{Lz:()=>n,TI:()=>i,X3:()=>s});function n(e,t){return e.itemIndex===t.itemIndex&&e.regionWithinItem===t.regionWithinItem}function i({hoverRelativePosition:{positionRelativeToCenter:{x:e},boundingBox:{width:t}},centerEnabled:o}){const n=o?.5*t:0;return Math.abs(e)<n/2?"center":e<0?"left":"right"}function s({hoverLocation:{itemIndex:e,regionWithinItem:t},sourceIndex:o}){if("center"===t||e===o)return e;const n="left"===t;return e<o===n?e:n?e-1:e+1}},345221:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(60598),i=(o(583421),o(266898)),s=o(14890);const r=e=>t=>(0,s.compose)(i.Z,(0,n.GR)(e,{},((e,t)=>({connectDropTarget:e.dropTarget(),isDragWithinBounds:t.isOver()}))))(t)},701500:(e,t,o)=>{o.d(t,{Z:()=>_});var n=o(667294),i=o(249647),s=o(570470),r=o(883119),l=o(785893);class a extends n.Component{renderPulsar(){const{anchor:e,handleComplete:t,handlePulsarCompleteOnHover:o,zIndex:n}=this.props;return(0,l.jsx)(s.Z,{anchor:e,onTouch:t,onMouseEnter:o,zIndex:n})}renderFlyout(){const{anchor:e,tooltip:t,handleDismiss:o,handleComplete:n}=this.props;if(!t)return null;const{cancelButtonText:i,confirmButtonText:s,mainText:a,idealDirection:c="down"}=t,d=i&&o&&s&&n;return(0,l.jsx)(r.J2,{anchor:e,color:"blue",idealDirection:c,onDismiss:o,shouldFocus:!1,showCaret:!0,size:"flexible",children:(0,l.jsxs)(r.xu,{maxWidth:284,padding:3,width:"max-content",children:[(0,l.jsx)(r.xv,{color:"inverse",overflow:"breakWord",weight:"bold",children:a}),d?(0,l.jsxs)(r.xu,{marginTop:2,display:"flex",alignItems:"center",children:[(0,l.jsx)(r.xu,{column:6,marginEnd:1,children:(0,l.jsx)(r.zx,{fullWidth:!0,color:"transparentWhiteText",onClick:e=>o(e),size:"md",text:String(i)})}),(0,l.jsx)(r.xu,{column:6,children:(0,l.jsx)(r.zx,{fullWidth:!0,color:"white",size:"md",text:String(s),onClick:n})})]}):null]})})}render(){const{anchor:e,pulserOnly:t}=this.props;return e?t?this.renderPulsar():this.renderFlyout():null}}var c=o(70061),d=o(764990),u=o(123159);function _({anchor:e,anchorElementRef:t,children:o,containerBoxConfig:s,experience:_,isHidden:h,onCompleteClick:p,zIndex:m}){var g;const{completeExperience:f,dismissExperience:x,experiences:b,viewExperience:v}=(0,u.M)(),y=(({anchor:e,anchorExperiences:t,passedExperience:o})=>o||(t?t[e]:null))({anchor:e,anchorExperiences:Object.values(b).reduce(((e,t)=>(8===t.type&&(e[(0,d.A0)(t)]=t),e)),{}),passedExperience:_}),P=(null==y||null===(g=y.display_data)||void 0===g?void 0:g.delay)||0,[w,A]=(0,n.useState)(!!P);if((0,n.useEffect)((()=>{if(P>0&&w){const e=setTimeout((()=>{A(!1)}));return()=>clearTimeout(e)}return()=>{}}),[P,w]),(0,n.useEffect)((()=>{!w&&y&&v(y.placement_id,y.experience_id)}),[w,y]),!y||w||h)return n.Children.only(o);const C=(e=>{const{display_data:t}=e;return t.tooltip&&(t.tooltip={...t.tooltip.options,...t.tooltip},delete t.tooltip.options),(0,i.Z)(c.Z,!0)(t)})(y),j=()=>{var e;null!==(e=y.display_data)&&void 0!==e&&e.complete_on_hover&&f(y.placement_id,y.experience_id)};return(0,l.jsxs)(r.xu,{position:"relative",height:null==s?void 0:s.height,display:null==s?void 0:s.display,children:[(0,l.jsx)(r.iP,{onMouseEnter:j,onTap:()=>{p&&p(),C.skipComplete||f(y.placement_id,y.experience_id)},children:n.Children.only(o)}),(0,l.jsx)(a,{anchor:t||null,handlePulsarCompleteOnHover:j,handleComplete:()=>{t instanceof HTMLElement&&t.click()},handleDismiss:e=>{null!=e&&e.event&&e.event.stopPropagation(),x(y.placement_id,y.experience_id)},pulserOnly:!!C.pulserOnly,tooltip:C.tooltip,zIndex:m})]})}},123159:(e,t,o)=>{o.d(t,{F:()=>_,M:()=>u});var n=o(667294),i=o(702664),s=o(14890),r=o(957191),l=o(425288),a=o(332611),c=o(785893);const{Provider:d,useHook:u}=(0,l.Z)("ExperienceContext");function _({children:e}){const[t,o]=(0,n.useReducer)(((e,t)=>{if("MOUNT_PLACEMENT"===t.type)return{...e,[t.payload]:!0};if("UNMOUNT_PLACEMENT"===t.type){const o={...e};return delete o[t.payload],o}return e}),{}),l=(0,i.useDispatch)(),u=(0,i.useSelector)((e=>e.experiences)),_=(0,n.useMemo)((()=>{const e=(0,s.bindActionCreators)({completeExperience:a.CK,dismissExperience:a.Qu,fetchAllExperiences:a.fO,fetchAllExperiencesMulti:r.NW,fetchExperienceForPlacements:a.pz,mountPlacement:a.N,triggerExperimentsForPlacement:a.kd,viewExperience:a.UT},l);return{...e,mountPlacement:(t,...n)=>{e.mountPlacement(t,...n),o({type:"MOUNT_PLACEMENT",payload:t})},unmountPlacement:e=>{o({type:"UNMOUNT_PLACEMENT",payload:e})}}}),[l,o]),h=(0,n.useMemo)((()=>({experiences:u,mountedPlacements:t,..._})),[u,t,_]);return(0,c.jsx)(d,{value:h,children:e})}},48061:(e,t,o)=>{o.r(t),o.d(t,{default:()=>w});var n=o(667294),i=o(155378),s=o(249647),r=o(6663),l=o(898781),a=o(785893);const c=function({color:e="default",handleDismiss:t=(()=>{}),header:o="",headerSubtitle:n="",dismissButtonText:i=""}){const s=(0,l.ZP)();return(0,a.jsx)(r.Z,{message:`${o} ${n}`,dismissButtonText:i||s._('Got it', 'dismissButton.hero.dismissText', 'Dismissing the Hero banner'),onDismiss:t,color:e})};var d=o(121093);const u=()=>{};function _({color:e,completeButtonText:t,completeButtonUrl:o,completeButtonUrlInNewTab:n,dismissButtonText:i,handleComplete:s=u,handleDismiss:c=u,header:d="",headerSubtitle:_=""}){const h=(0,l.ZP)();return(0,a.jsx)(r.Z,{message:(d+" "+_).trim(),dismissButtonText:i||h._('Close', 'Closing a Hero banner', 'Closing a Hero banner'),completeButtonText:t||h._('Go', 'Completing the Hero banner', 'Completing the Hero banner'),completeUrl:o,onComplete:s,onDismiss:c,external:n,color:e})}var h=o(391254);const p=function({color:e="default",completeButtonText:t,completeButtonUrl:o,completeButtonUrlInNewTab:n,handleComplete:i=(()=>{}),header:s="",headerSubtitle:c=""}){const d=(0,l.ZP)();return(0,a.jsx)(r.Z,{message:(s+" "+c).trim(),completeButtonText:t||d._('Go', 'Completing the Hero banner', 'Completing the Hero banner'),completeUrl:o,onComplete:i,external:n,color:e})};var m=o(70061),g=o(116303),f=o(19121),x=o(349700),b=o(883119);function v({completeButtonText:e,headerSubtitle:t,handleComplete:o,handleDismiss:n}){const i=(0,l.ZP)(),s=(0,f.Z)(),{firstName:r,imageLargeUrl:c}=s.isAuth?s:{};return(0,a.jsx)(b.xu,{display:"flex",justifyContent:"center",position:"relative",children:(0,a.jsxs)(b.xu,{alignItems:"center",borderStyle:"shadow",dangerouslySetInlineStyle:{__style:{backgroundColor:"#EBF4FE"}},display:"flex",justifyContent:"between",marginBottom:2,marginEnd:8,marginStart:8,marginTop:4,padding:8,position:"relative",rounding:4,width:1016,children:[(0,a.jsxs)(b.kC,{alignItems:"center",justifyContent:"start",children:[(0,a.jsx)(b.xu,{marginEnd:6,marginTop:-2,marginBottom:-2,children:(0,a.jsx)(g.Z,{name:r,src:c,size:"lg",outline:!0})}),(0,a.jsxs)(b.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,a.jsx)(b.xu,{marginBottom:2,children:(0,a.jsx)(b.X6,{size:"400",children:(0,x.nk)(i._('Welcome back, {{ name }}', 'shown on a banner, "welcome back, first_name"', 'shown on a banner, "welcome back, first_name"'),{name:r})})}),(0,a.jsx)(b.xv,{children:t})]})]}),(0,a.jsx)(b.xu,{marginEnd:4,children:(0,a.jsx)(b.zx,{color:"white",size:"lg",text:e,onClick:o})}),(0,a.jsx)(b.xu,{position:"absolute",padding:2,top:!0,right:!0,children:(0,a.jsx)(b.hU,{accessibilityLabel:i._('Close', 'accessible label for close button', 'accessible label for close button'),iconColor:"darkGray",icon:"cancel",onClick:n,size:"sm"})})]})})}var y=o(615071),P=o(780280);function w({completeButtonUrl:e,onDismiss:t,placementId:o}){const[r,l]=(0,n.useState)(!1),u=(0,P.B)();return(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)(h.Z,{unsafeCSS:"\n.ExperienceHero-enter {\n  opacity: 0;\n  transform: translateY(-50px);\n}\n\n.ExperienceHero-enter-active {\n  opacity: 1;\n  transform: none;\n  transition: all 400ms ease-out;\n}\n\n.ExperienceHero-exit {\n  opacity: 1;\n}\n\n.ExperienceHero-exit-active {\n  opacity: 0;\n  transition: opacity 400ms ease-out;\n}\n"}),(0,a.jsx)(d.Z,{placementId:o,eligibleTypes:[13],children:({complete:o,dismiss:n,experience:{display_data:d,experience_id:h}})=>{e&&(d.complete_button_url=e);const g=(e=>{switch(e){case 502597:return i.default;case 500863:return v;case 501153:case 501487:return p;case 504681:return c;default:return _}})(h),f={requestContext:u,experienceId:h,handleComplete:o,handleDismiss:()=>{t&&t(),n()},color:g===c?"dark":"infoBase",...(0,s.Z)(m.Z)(d)};return r||l(!0),(0,a.jsx)(y.Z,{in:r,timeout:400,classNames:"ExperienceHero",unmountOnExit:!0,children:(0,a.jsx)(b.xu,{marginBottom:4,children:(0,a.jsx)(g,{...f})})})}})]})}},636803:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(121093),i=o(839534),s=o(785893);const r=({anchors:e,idealDirection:t,onCompleteByAnchor:o,placementId:r,positionRelativeToAnchor:l,touchToDismiss:a,useMasonryFlyout:c})=>(0,s.jsx)(n.Z,{placementId:r,predicate:t=>{const{display_data:o}=t;if(2===(null==o?void 0:o.component_type)){const{anchors_by_platform:t}=o;if(null!=t&&t.web){const{anchor:o,placement:n}=t.web;return n===r&&o in e}}return!1},children:({complete:n,dismiss:r,experience:d})=>(0,s.jsx)(i.Z,{anchors:e,complete:n,dismiss:r,displayData:d.display_data,idealDirection:t,onCompleteByAnchor:o,platform:"web",positionRelativeToAnchor:l,touchToDismiss:a,useMasonryFlyout:c})})},839534:(e,t,o)=>{o.d(t,{Z:()=>c});var n=o(667294),i=o(570470),s=o(883119),r=o(785893);const l=new s.Ry(669),a={1:"up",2:"right",3:"down",4:"left"},c=({anchors:e={},complete:t,dismiss:o,displayData:c,idealDirection:d,onCompleteByAnchor:u={},platform:_,positionRelativeToAnchor:h=!0,touchToDismiss:p=!0,useMasonryFlyout:m=!1})=>{var g;const{anchors_by_platform:f={},button_text:x,button_uri:b,display_type:v,flyout_direction:y,scroll_to_dismiss:P,scroll_to_dismiss_delay_in_seconds:w=0,text:A}=c||{},C=null===(g=f[_])||void 0===g?void 0:g.anchor,j=e[C],E=(0,n.useCallback)((()=>{P&&(window.removeEventListener("scroll",E),window.removeEventListener("touchmove",E)),p&&j&&j.removeEventListener("click",E),setTimeout((()=>o()),1e3*w)}),[j]);if((0,n.useEffect)((()=>{j&&(P&&(window.addEventListener("scroll",E),window.addEventListener("touchmove",E)),p&&j.addEventListener("click",E))}),[j]),!j)return null;const{FLYOUT:S,PULSAR:I}={FLYOUT:1,PULSAR:2},T=({children:e})=>{if(m)return(0,r.jsx)(s.mh,{zIndex:l,children:e});if(v===I){const t={};if(h)t.top=j.offsetTop,t.left=j.offsetLeft,t.width=j.offsetWidth,t.height=j.offsetHeight;else{const e=j.getBoundingClientRect();t.top=e.top+window.pageYOffset,t.left=e.left+window.pageXOffset,t.width=e.width,t.height=e.height}return(0,r.jsx)(s.xu,{position:"absolute",top:!0,left:!0,zIndex:l,dangerouslySetInlineStyle:{__style:t},children:e})}return(0,r.jsx)(s.xu,{zIndex:l,children:e})},z=a[y],k=b&&(b.startsWith("https://")||b.startsWith("http://")),D=(u||{})[C],R=()=>{P&&(window.removeEventListener("scroll",E),window.removeEventListener("touchmove",E)),p&&j.removeEventListener("click",E),t()};return(0,r.jsxs)(n.Fragment,{children:[v===I&&(0,r.jsx)(T,{children:(0,r.jsx)(i.Z,{anchor:j,onTouch:()=>{R(),D?D():j instanceof HTMLElement&&j.click()},zIndex:670})}),v===S&&(0,r.jsx)(T,{children:(0,r.jsx)(s.J2,{anchor:j,color:"blue",idealDirection:z||d||"down",onDismiss:E,positionRelativeToAnchor:!m&&h,shouldFocus:!1,showCaret:!0,size:"md",children:(0,r.jsxs)(s.xu,{padding:4,width:"220px",children:[(0,r.jsx)(s.xv,{align:"center",color:"inverse",weight:"bold",children:A}),x?(0,r.jsx)(s.xu,{display:"flex",justifyContent:"center",marginTop:4,children:(0,r.jsx)(s.xu,{column:8,children:b?(0,r.jsx)(s.zx,{fullWidth:!0,color:"white",href:b,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),R()},role:"link",size:"md",target:k?"blank":null,text:x}):(0,r.jsx)(s.zx,{fullWidth:!0,color:"white",onClick:R,size:"md",text:x})})}):null]})})})]})}},378518:(e,t,o)=>{o.d(t,{_:()=>c,a:()=>d});var n=o(667294),i=o(702664),s=o(618446),r=o.n(s),l=o(780280),a=o(332611);const c=({extraContext:e,id:t,shouldUsePlacedExperience:o=!0})=>{const s=(0,n.useRef)(),c=(0,i.useDispatch)(),{isBot:d}=(0,l.B)(),u=(0,i.useSelector)((e=>e.experiences[t]));return(0,n.useEffect)((()=>{c((0,a.kd)(t))}),[c,u,t]),(0,n.useEffect)((()=>{o||r()(s.current,e)||(c((0,a.pz)([t],d,e)),s.current=e)}),[c,e,d,t,o]),u},d=e=>(c(e),(0,i.useSelector)((t=>t.experiencesMulti[e.id])))},497529:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(667294),i=(o(957191),o(764990)),s=o(123159);o(332611);function r(e){const{mountedPlacements:t,completeExperience:o,dismissExperience:r,experiences:l,fetchAllExperiences:a,fetchAllExperiencesMulti:c,fetchExperienceForPlacements:d,triggerExperimentsForPlacement:u,viewExperience:_}=(0,s.M)(),h=e?(0,i.MQ)(l,t,e):null;return(0,n.useMemo)((()=>({completeExperience:o,dismissExperience:r,experienceForPlacement:h,fetchAllExperiences:a,fetchAllExperiencesMulti:c,fetchExperienceForPlacements:d,triggerExperimentsForPlacement:u,viewExperience:_})),[o,r,h,a,c,d,u,_])}},784450:(e,t,o)=>{o.d(t,{ZP:()=>p});var n=o(667294),i=o(702664),s=o(618446),r=o.n(s),l=o(764990),a=o(123159),c=o(332611),d=o(780280),u=o(785893);function _(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const h={shouldUsePlacedExperience:!0,dispatchMountActionDuringSSR:!1,isAdvertiserPlacement:!1},p=(e,t={},o)=>s=>{const p=function(e){return t=>({experience:t.experiences[e],experiencesMulti:t.experiencesMulti?t.experiencesMulti[e]:void 0})}(e);o={...h,...o};const m=function(e,t,o=!0,s=!0,h=!1,p){class m extends n.Component{constructor(e){super(e),_(this,"state",{extraContext:void 0}),_(this,"setExtraContextState",(e=>{r()(this.state.extraContext,e)||this.setState({extraContext:e})}))}componentDidMount(){this.dispatchPlacementMount()}componentDidUpdate(o,n){const{dispatch:i,experience:s,requestContext:l}=this.props;let a=n.extraContext,d=this.state.extraContext||t||{};"function"==typeof t&&(a=t(o,n.extraContext||{}),d=t(this.props,this.state.extraContext||{})),d&&Object.keys(d).length>0&&!r()(a,d)&&i((0,c.pz)([e],l.isBot,d)),!s||o.experience&&s.id===o.experience.id||i((0,c.kd)(e,d))}componentWillUnmount(){this.props.unmountPlacement(e)}dispatchPlacementMount(){const o="function"==typeof t?t(this.props,this.state.extraContext||{}):{...t},n=h&&null!=o&&o.advertiser_id?{advertiserId:o.advertiser_id}:void 0;this.props.mountPlacement(e,o,n)}render(){const{experience:e,experiencesMulti:t}=this.props,o={[h?"advertiserExperience":"experience"]:(0,l.E3)(e)?e:null};return(0,u.jsx)(p,{...this.props,setPlacementExtraContext:this.setExtraContextState,...o,experiencesMulti:t})}}function g(e){const t=(0,d.B)(),o=(0,i.useDispatch)(),{mountPlacement:n,unmountPlacement:s}=(0,a.M)();return(0,u.jsx)(m,{...e,dispatch:o,mountPlacement:n,requestContext:t,unmountPlacement:s})}return g.displayName=`withPlacement(${p.displayName||p.name||"Component"})`,g}(e,t,o.shouldUsePlacedExperience,o.dispatchMountActionDuringSSR,o.isAdvertiserPlacement,s);return(0,i.connect)(p)(m)}},572551:(e,t,o)=>{o.r(t),o.d(t,{default:()=>f});var n=o(667294),i=o(319915),s=o(757184),r=o(317254),l=o(463076);function a(e=300,t=16,o=2){let n=`\n.gridCentered {\n  margin-left: auto;\n  margin-right: auto;\n  max-width: ${t*e}\n}\n\n.gridCentered .static,\n.gridCentered .Masonry-Premount .Collection-Item {\n  position: absolute !important;\n  visibility: hidden !important;\n}\n.gridCentered .Masonry-Premount,\n.gridCentered .Masonry-Premount .AutoSizer,\n.gridCentered .Masonry-Premount .Collection {\n  width: auto !important;\n}\n\n@media (min-width: ${t*e}px) {\n  .gridCentered .Masonry-Premount .Collection-Item:nth-child(-n+${t}),\n  .gridCentered .static:nth-child(-n+${t}) {\n    position: static !important;\n    visibility: visible !important;\n    float: left;\n    display: block;\n  }\n\n  .gridCentered .Masonry-Premount .Collection-Item,\n  .gridCentered .static {\n    width: ${e}px !important;\n  }\n}\n`;for(let i=o;i<t+1;i+=1){n+=`\n@media (min-width: ${i===o?0:(i-1)*e}px) and (max-width: ${i*e-1}px) {\n  .gridCentered .Masonry-Premount .Collection-Item:nth-child(-n+${i}),\n  .gridCentered .static:nth-child(-n+${i}) {\n    position: static !important;\n    visibility: visible !important;\n    float: left;\n    display: block;\n  }\n\n  .gridCentered .Masonry-Premount .Collection-Item,\n  .gridCentered .static {\n    width: calc(100% / ${i}) !important;\n  }\n}\n`}return n}var c=o(391254),d=o(883119),u=o(444445),_=o(785893);function h(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class p extends n.Component{constructor(...e){super(...e),h(this,"Item",(e=>{const{Item:t}=this.props,{gutterWidth:o,paddingBottom:n}=this.getGutters();return(0,_.jsx)("div",{style:{paddingBottom:n,paddingLeft:o/2,paddingRight:o/2},children:(0,_.jsx)(t,{...e})})}))}getGutters(){const{gutterWidth:e,paddingStyle:t}=this.props,o="simplified"===t,n=o?u.oX:e,i=o?16:6;return{gutterWidth:null!=n?n:u.ZZ,paddingBottom:i}}render(){const{columnWidth:e,flexible:t,items:o,layout:n,loadItems:i,masonryRef:s,measurementStore:r,scrollContainerRef:h,serverRender:p,virtualize:m,isGridCentered:g,minCols:f}=this.props,{gutterWidth:x}=this.getGutters(),b=p?"serverRenderedFlexible":"flexible";let v;g&&(v="gridCentered");const y=()=>(null==h?void 0:h.current)||window;return(0,_.jsxs)("div",{className:v,children:[p&&(0,_.jsx)(c.Z,{unsafeCSS:t?a((e||u.yF)+x,o.length||u.g5,f||u.yc):(0,l.Z)((e||u.yF)+x,o.length||u.g5,f||u.yc)}),(0,_.jsx)(d.Rk,{columnWidth:e+x,Item:this.Item,gutterWidth:0,layout:t?b:null!=n?n:"basic",items:o,loadItems:i,measurementStore:r,minCols:f,ref:e=>{s&&(s.current=e)},scrollContainer:y,virtualize:m})]})}}function m(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}h(p,"defaultProps",{gutterWidth:u.ZZ,isGridCentered:!0,minCols:u.yc,paddingStyle:"simplified",virtualize:!0});class g extends n.Component{constructor(...e){super(...e),m(this,"Item",(e=>{const{Item:t}=this.props;return(0,_.jsx)(i.Z,{name:"MasonryPerfTimingItem",children:(0,_.jsx)(t,{...e})})})),m(this,"loadItems",(()=>{const{isFetching:e,loadItems:t}=this.props;!e&&t&&t()}))}render(){const{cacheKey:e,columnWidth:t,flexible:o,gutterWidth:n,isGridCentered:i,items:r,layout:l,masonryRef:a,minCols:c,paddingStyle:d,scrollContainerRef:u,serverRender:h,virtualize:m}=this.props;return(0,_.jsx)(p,{columnWidth:t,flexible:o,gutterWidth:n,isGridCentered:i,Item:this.Item,items:r,layout:l,loadItems:this.loadItems,masonryRef:a,measurementStore:(0,s.Z)(e),minCols:c,paddingStyle:d,scrollContainerRef:u,serverRender:h,virtualize:m})}}function f({cacheKey:e,columnWidth:t,flexible:o,gutterWidth:n,isAtEnd:i,isFetching:s,isGridCentered:l=!0,isLoaded:a,Item:c,items:d,pinData:u,layout:h,loadItems:p,masonryRef:m,minCols:f,paddingStyle:x,scrollContainerRef:b,serverRender:v=!0,virtualize:y=!0,includeBackgroundImages:P,includeVideos:w}){return(0,_.jsx)(r.Z,{isAtEndOfFeed:i,pinData:u,itemCount:d.length,includeBackgroundImages:P,includeVideos:w,children:(0,_.jsx)(g,{cacheKey:e,columnWidth:t,Item:c,flexible:o,gutterWidth:n,isFetching:s,isGridCentered:l,items:d,layout:h,loadItems:p,masonryRef:m,minCols:f,paddingStyle:x,scrollContainerRef:b,serverRender:v,virtualize:y})})}},757184:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(883119);const i={};function s(e){if(null!=e)return i[e]&&i[e].screenWidth===window.innerWidth||(i[e]={screenWidth:window.innerWidth,cache:n.Rk.createMeasurementStore()}),i[e].cache}},463076:(e,t,o)=>{function n(e=236,t=16,o=2){let n="\n.gridCentered {\n  margin-left: auto;\n  margin-right: auto;\n}\n.gridCentered .static,\n.gridCentered .Masonry-Premount .Collection-Item {\n  position: absolute;\n  visibility: hidden;\n}\n.gridCentered .Masonry-Premount,\n.gridCentered .Masonry-Premount .AutoSizer,\n.gridCentered .Masonry-Premount .Collection {\n  width: auto !important;\n}\n";for(let i=o;i<t+1;i+=1){n+=`\n@media (min-width: ${i===o?0:i*e}px) and (max-width: ${(i+1)*e-1}px) {\n  .gridCentered {\n    width: ${i*e}px;\n  }\n  .gridCentered .Masonry-Premount .Collection-Item:nth-child(-n+${i}),\n  .gridCentered .static:nth-child(-n+${i}) {\n    position: static !important;\n    visibility: visible !important;\n    float: left;\n    display: block;\n  }\n}\n`}return n}o.d(t,{Z:()=>n})},890087:(e,t,o)=>{o.d(t,{$m:()=>d,ak:()=>c,j3:()=>a,yv:()=>l});var n=o(898781),i=o(883119),s=o(780280),r=o(785893);function l(e){return e&&["DE","AT","CH"].includes(e.toUpperCase())}function a(){const{country:e=""}=(0,s.B)();return l(e)}function c(){const e=(0,n.ZP)();return e._('Imprint', 'impressumText', 'Text for link to impressum for Germany, Austra, or Switzerland')}function d(e){return(0,r.jsx)(i.xv,{...e,children:c()})}},298361:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(898781),i=o(349700),s=o(202139);function r(){const e=(0,n.ZP)();return function(t,o){const n=new Date(t),r=new Date-n,l=Math.floor(r/s.FS),a=Math.floor(r/s.UK),c=Math.floor(r/s.F4),d=Math.floor(r/s.VL),u=Math.floor(r/s.N1),_=e.ngettext('{{ minutes }} minute ago', '{{ minutes }} minutes ago', l, ' - ', ' -- '),h=e.ngettext('{{ hours }} hour ago', '{{ hours }} hours ago', a, ' - ', ' -- '),p=e.ngettext('{{ days }} day ago', '{{ days }} days ago', c, ' - ', ' -- '),m=e.ngettext('{{ weeks }} week ago', '{{ weeks }} weeks ago', d, ' - ', ' -- '),g=e.ngettext('{{ years }} year ago', '{{ years }} years ago', u, ' - ', ' -- '),f=e.ngettext('{{ minutes }}m', '{{ minutes }}m', l, 'minutes ago abbreviated', 'minutes ago abbreviated'),x=e.ngettext('{{ hours }}h', '{{ hours }}h', a, 'hours ago abbreviated', 'hours ago abbreviated'),b=e.ngettext('{{ days }}d', '{{ days }}d', c, 'days ago abbreviated', 'days ago abbreviated'),v=e.ngettext('{{ weeks }}w', '{{ weeks }}w', d, 'weeks ago abbreviated', 'weeks ago abbreviated'),y=e.ngettext('{{ years }}y', '{{ years }}y', u, 'years ago abbreviated', 'years ago abbreviated');return u>0?(0,i.nk)(o?y:g,{years:u}).join(""):d>0?(0,i.nk)(o?v:m,{weeks:d}).join(""):c>0?(0,i.nk)(o?b:p,{days:c}).join(""):a>0?(0,i.nk)(o?x:h,{hours:a}).join(""):l>0?(0,i.nk)(o?f:_,{minutes:l}).join(""):e._('Just now', ' - ', ' -- ')}}},366428:(e,t,o)=>{o.d(t,{F:()=>d,Z:()=>c});var n=o(667294),i=o(834911),s=o(124580),r=o(407043),l=o(802201);const a={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpressions",idType:"storyIdStr",eventType:170},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9975}};function c({closeupImpressionType:e,closeupNavigationType:t,componentType:o,contextLogData:c,elementType:d,impressionAuxFields:u,inImpressionExp:_,impressionType:h,impressionsFramework:p,isPaused:m,loggingId:g,objectIdStr:f,slotIndex:x,trackCarousel:b,viewData:v,viewParameter:y,viewType:P}){const{logContextEvent:w}=(0,r.v)(),A=(0,l.AF)(),C=g?A[g]:{},j=C&&(0,i.Z)({carouselData:C.carousel_data,images:C.images,richMetadata:C.rich_metadata,richSummary:C.rich_summary}),E=p||s.Z,S=(0,n.useRef)(null),I=n=>{const i=a[h],s=i.idType,r={endTime:n.endTime,[s]:g,slotIndex:x,time:n.startTime,renderDuration:n.endTime-n.startTime,type:e,...u,forcedExit:"removed"===n.forcedExit?0:void 0},l={component:o,object_id_str:f,view_type:P,view_data:v||{},view_parameter:y};if(b){if(j){var _,p,m;w({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...r,carouselDataId:Number(j.id),carouselSlotId:(null===(_=j.carousel_slots)||void 0===_?void 0:_[null!==(p=j.index)&&void 0!==p?p:0])&&Number(j.carousel_slots[null!==(m=j.index)&&void 0!==m?m:0].id),slotIndex:j.index}]},...l,aux_data:{...c}})}}else w({event_type:i.eventType,...l,element:d,event_data:{[i.impressionType]:[r]},aux_data:{closeup_navigation_type:t,...c}})},T=(0,n.useCallback)((()=>{try{S.current instanceof HTMLElement&&E.start(S.current).onExitViewport(I).setDebugId(g||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}}),[S.current]);(0,n.useEffect)((()=>(_&&!E.inExperiment&&E.setExperimentStatus(!0),m||T(),()=>{S.current instanceof HTMLElement&&E.stop(S.current)})),[T]);const z=(0,n.useRef)(m);return(0,n.useEffect)((()=>{z.current&&!m&&T(),z.current=m}),[m,T]),S}const d=({children:e,...t})=>e({impressionTrackerRef:c(t)})},965261:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(6637);const i=e=>n.Z.create("InviteAttributionResource",{invite_code:e}).callCreate();var s=o(826067);const r=(e=(e=>{}))=>{const t=(0,s.mB)(window.location.search),o=t.invite_code;o?i(o):e(t)}},995081:(e,t,o)=>{o.d(t,{Rq:()=>n,Vf:()=>i,jd:()=>s,oy:()=>r});const n=e=>"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436,i=28,s=e=>window.innerHeight>=748&&n(e),r=function(){return!("undefined"==typeof window||!window.navigator)&&(/iPad/.test(navigator.platform)||navigator.maxTouchPoints>1&&"MacIntel"===navigator.platform)}},313047:(e,t,o)=>{o.r(t),o.d(t,{DEFAULT_HEIGHT:()=>c,DEFAULT_PADDING_Y:()=>d,FixedFooter:()=>h,FixedHeader:()=>_});var n=o(667294),i=o(124580),s=o(643010),r=o(834256),l=o(883119),a=o(785893);const c=64,d=3;function u({children:e,footerConfig:t,headerConfig:o,height:r,hideOnScroll:u,hideOnScrollState:{isHidden:_,updateHiddenState:h},noPadding:p,paddingY:m=d,type:g,zIndex:f}){const{headerLimitedOverflow:x,ignoreObstructions:b,zIndexForGestaltBug:v}=o||{},{appUpsellFooterConfig:y,footerInLego:P,footerWidth:w}=t||{},A=!!y,C="header"===g?"top":"bottom",j=(0,n.useRef)(null),E=(0,n.useRef)(null);(0,n.useEffect)((()=>{try{if(!b){const e=j.current;E.current=x&&e&&Array.isArray(e.children)?e.children[0]:e,E.current instanceof HTMLElement&&i.Z.addObstruction(C,E.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{b||E.current instanceof HTMLElement&&i.Z.removeObstruction(C,E.current)}}),[b,x,C]);const S="top"===C?"relative":"fixed",I=p?0:m,T=(null!=r?r:c)+((null==o?void 0:o.overrideTop)||0),z=u?{transition:P?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",..._?{transform:`translateY(${"top"===C?-T:T}px)`,opacity:P?0:1}:Object.freeze({})}:{},k="relative"!==S||null!=o&&o.noGutter?0:2,D=k?-k:0;let R,O;return(0,s.Yc)()&&("header"===g?R=-1:O=-1),(0,a.jsx)(l.xu,{ref:j,dangerouslySetInlineStyle:{__style:{top:R,bottomStyle:O,...!f||v?{zIndex:v||1}:Object.freeze({}),...x?{background:"transparent",overflow:"hidden",paddingBottom:100,marginBottom:-100,pointerEvents:"none"}:Object.freeze({}),...null!=o&&o.hasBorder?{borderBottom:"1px solid #efefef"}:Object.freeze({}),...null!=t&&t.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...z}},zIndex:v?void 0:f,"data-test-id":g,display:A?"flex":void 0,height:r&&!P?r:void 0,position:S,bottom:"footer"===g,top:"header"===g,left:!0,right:!0,marginStart:P?"auto":D,marginEnd:P?"auto":D,onTransitionEnd:()=>{u&&E.current&&(_?i.Z.removeObstruction(C,E.current):i.Z.addObstruction(C,E.current))},width:P||"fixed"!==S?void 0:"100%",children:(0,a.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:((0,s.Yc)()?"#000":(null==o?void 0:o.isTranslucent)&&"rgba(255,255,255,.95)")||(null==o?void 0:o.isTransparentBackground)&&"transparent"||"white",height:P?A?void 0:null!=r?r:c:"100%",boxShadow:P?"0px 0px 8px rgba(0, 0, 0, 0.1)":void 0,marginBottom:P?16:void 0,...x?{pointerEvents:"auto"}:Object.freeze({}),...null!=o&&o.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},paddingX:("footer"!==g||p?0:4)+k,paddingY:I,position:"relative",width:P&&w?w:A?void 0:"100%",rounding:P?"pill":void 0,display:P||null!=t&&t.alignCenter?"flex":void 0,marginStart:P?"auto":void 0,marginEnd:P?"auto":void 0,alignItems:null!=t&&t.alignCenter?"center":void 0,children:"function"==typeof e?e({updateHiddenState:h}):e})})}function _({hasBorder:e,headerLimitedOverflow:t,ignoreObstructions:o,isTranslucent:n,isTransparentBackground:i,noGutter:s,overrideTop:c,useRoundedCorners:_,zIndexForGestaltBug:h,...p}){const{noPadding:m,paddingY:g=d,zIndex:f}=p,x=m?0:g;return(0,a.jsx)(l.Le,{top:c||0,height:t?44+2*x*4:void 0,zIndex:f||void 0,children:(0,a.jsx)(r.Z,{hideOnScroll:p.hideOnScroll,children:r=>(0,a.jsx)(u,{...p,hideOnScrollState:r,type:"header",headerConfig:{isTranslucent:n,isTransparentBackground:i,headerLimitedOverflow:t,hasBorder:e,ignoreObstructions:o,noGutter:s,overrideTop:c,zIndexForGestaltBug:h,useRoundedCorners:_}})})})}function h({alignCenter:e,appUpsellFooterConfig:t,footerInLego:o,footerWidth:n,forceShow:i,hasTopShadow:s,isModal:l,onScroll:c,...d}){return(0,a.jsx)(r.Z,{appUpsellFooterConfig:t,forceShow:i,hideOnScroll:d.hideOnScroll,isModal:l,onScroll:c,children:i=>(0,a.jsx)(u,{...d,hideOnScrollState:i,type:"footer",footerConfig:{alignCenter:e,appUpsellFooterConfig:t,footerInLego:o,footerWidth:n,hasTopShadow:s}})})}},834256:(e,t,o)=>{o.d(t,{Z:()=>l,m:()=>r});var n=o(667294),i=o(700380);function s(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const r=20;class l extends n.Component{constructor(...e){super(...e),s(this,"state",{isHidden:!!this.props.appUpsellFooterConfig}),s(this,"lastScrollPos",0),s(this,"updateHiddenState",(e=>{this.reqAnimationId=window.requestAnimationFrame((()=>{this.setState({isHidden:e})}))})),s(this,"handleScroll",(0,i.Z)((()=>{const{appUpsellFooterConfig:e,isModal:t,onScroll:o}=this.props,{isHidden:n}=this.state,i=window.scrollY,s=i-this.lastScrollPos;let l="none";const{scrollHeight:a,clientHeight:c}=document.documentElement||{};if(!Number.isNaN(a)&&!Number.isNaN(c))if(s<0){const e=window.scrollMinY||0;l=i<=Math.abs(e+Math.max(s,r))?"start":"none"}else{l=i>=(window.scrollMaxY||a-c)-Math.max(s,r)?"end":"none"}const d=t?0:55;if(e)if(s>r&&n&&i>=500){e.shouldShowAfterScroll()&&(this.updateHiddenState(!1),o&&o(!1))}else(s<-r&&!n||i<=d)&&(this.updateHiddenState(!0),o&&o(!0));else(s<-r||"start"===l)&&n||i<=d?(this.updateHiddenState(!1),o&&o(!1)):(s>r||"end"===l)&&!n&&(this.updateHiddenState(!0),o&&o(!0));this.lastScrollPos=i}),30))}componentDidMount(){try{this.props.hideOnScroll&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){this.props.hideOnScroll&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){!e.hideOnScroll&&this.props.hideOnScroll?window.addEventListener("scroll",this.handleScroll):e.hideOnScroll&&!this.props.hideOnScroll&&window.removeEventListener("scroll",this.handleScroll)}render(){const{children:e,forceShow:t}=this.props,{isHidden:o}=this.state;return e({isHidden:!t&&o,updateHiddenState:this.updateHiddenState})}}},542554:(e,t,o)=>{o.r(t),o.d(t,{AMPPageContainer:()=>c,default:()=>d});var n=o(883119),i=o(134879),s=o(444445),r=o(780280),l=o(995081),a=o(785893);const c=({children:e,dataLayoutShiftBoundaryId:t,hasFixedHeader:o=!1,hasGutter:c=!0,useViewport:d=!1,showKeychainError:u=!1})=>{const _=(0,r.B)(),h=(0,l.jd)(_.userAgent.platform)?l.Vf:0;return(0,a.jsx)(n.xu,{"data-layout-shift-boundary-id":t||"PageContainer",height:d?`calc(100vh - ${h}px)`:void 0,paddingX:c?s.D6:void 0,paddingY:o||u?void 0:3,children:(0,a.jsx)(i.C,{value:!!c,children:e})})},d=c},134879:(e,t,o)=>{o.d(t,{C:()=>s,V:()=>r});var n=o(667294);const i=(0,n.createContext)(!1),s=i.Provider,r=()=>(0,n.useContext)(i)},720247:(e,t,o)=>{function n(e){let t=!1;return{promise:new Promise(((o,n)=>{e.then((e=>t?n({isCanceled:!0}):o(e)),(e=>n(t?{isCanceled:!0}:e)))})),cancel(){t=!0}}}o.d(t,{Z:()=>n})},539278:(e,t,o)=>{o.d(t,{Di:()=>_,Jl:()=>c,R:()=>d,ZP:()=>f,aU:()=>h,j2:()=>u,pN:()=>p,rL:()=>x,vW:()=>g});var n=o(116303),i=o(499128),s=o(349700),r=o(826067),l=o(883119),a=o(785893);const c=7e3,d="permanent_account_closure",u="account_deletion_email_sent",_="account_deactivated",h="unlink_successful",p="account_switch_to_settings";function m(e,t,o){return(0,a.jsx)(l.xv,{align:o||"center",children:(0,s.nk)(e,{username:(0,a.jsx)(l.xv,{inline:!0,weight:"bold",children:t})})})}function g({i18n:e,message:t,multipleAccounts:o,username:n=""}){switch(t){case d:return e._('Your account has been deleted. We\'re sad to see you go', 'unauthLoginPage.accountDeletedToast.message', 'Confirmation message after a user has successfully deleted their account');case u:return m(o?e._('An email has been sent with final steps to delete your account, {{username}} and its linked accounts', 'accountDeletedEmailToast.message.multipleAccounts', 'Confirmation message after a user has successfully requested multiple accounts deletion'):e._('An email has been sent with final steps to delete your account, {{username}}', 'accountDeletedEmailToast.message.singleAccount', 'Confirmation message after a user has successfully requested a single account deletion'),n);case _:return m(o?e._('The account, {{username}}, and its associated linked accounts have been deactivated', 'unauthLoginPage.deactivatedToast.message.multipleAccounts', 'Confirmation message after a user has successfully deactivated multiple accounts'):e._('The account, {{username}}, has been deactivated', 'unauthLoginPage.deactivatedToast.message.singleAccount', 'Confirmation message after a user has successfully deactivated a single account'),n);case h:return m(e._('Success! You\'ve unlinked this business account. You are currently in {{username}}.', 'authHomeFeedPage.unlinkAccountToast.message', 'Confirmation message after a user has successfully unlinked business account'),n,"start");case p:return m(e._('You\'ve switched into and are currently in the account {{username}}', 'accountSettings.switchAccountToAccountChanges', 'Confirmation message after a user has successfully switched accounts and got redirected to Account Changes'),n,"start");default:return""}}function f(e,t,o=""){if(!t||!t.search)return"";const n=(0,r.mB)(t.search).message,i=(0,r.mB)(t.search).username||o;return g({i18n:e,message:n,multipleAccounts:"true"===(0,r.mB)(t.search).multiple_accounts,username:i})}function x({showOneToast:e,i18n:t,location:o,history:s,username:l,fullName:d,avatarUrl:u}){if(!o||!o.search)return;const _=f(t,o,l||""),m=(0,r.mB)(o.search).message,g=m===p||m===h;_&&(e((({hideToast:e})=>(0,a.jsx)(i.ZP,{duration:c,onHide:e,text:_,iconThumbnail:g?(0,a.jsx)(n.Z,{name:d||"",src:u||"",size:"md"}):null}))),s.replace(o.hash?`${o.pathname}${o.hash}`:o.pathname))}},249647:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(968630),i=o.n(n);function s(e,t=!1){return o=>{if(!i()(o))return t&&Array.isArray(o)?o.map(s(e,t)):o;const n={};return Object.keys(o).forEach((r=>{const l=e(o[r],r);i()(o[r])||t&&Array.isArray(o[r])?n[l]=s(e,t)(o[r]):n[l]=o[r]})),n}}function r(e,t=!1){const o=(t,o)=>e(o);return e=>s(o,t)(e)}},432730:(e,t,o)=>{o.d(t,{Z:()=>n});const n=(0,o(307061).Z)((e=>{const{rich_metadata:t}=e.pin;return t?{...e,richMetadata:t}:null}))},584595:(e,t,o)=>{o.d(t,{$j:()=>z,Cx:()=>L,D4:()=>S,E:()=>a,E6:()=>C,H9:()=>O,Jt:()=>R,Jw:()=>s,NF:()=>l,OW:()=>d,Pv:()=>k,RL:()=>y,ZP:()=>M,Zn:()=>w,_K:()=>p,aG:()=>h,an:()=>j,at:()=>D,bd:()=>c,cZ:()=>u,dO:()=>_,hU:()=>g,iK:()=>b,iZ:()=>T,lg:()=>m,nY:()=>x,nf:()=>v,oP:()=>f,pH:()=>n,qF:()=>B,rM:()=>I,rm:()=>E,tL:()=>r,tz:()=>i,xN:()=>A,yV:()=>P});const n=101,i=93,s=117,r=116,l=111,a=118,c=9,d=8,u=16,_=12,h=3,p=18,m=105,g=79,f=78,x=77,b=76,v=1402,y=85,P=88,w=1201,A=30,C=84,j=83,E=2901,S=2904,I=2905,T=95,z=19,k=113,D=91,R=2501,O=3050,L=[d,c],B=new Map([[1,"INVALID_PARAMETERS"],[100,"INVALID_NETWORK_ACCESS_TOKEN"],[m,"FACEBOOK_ACCOUNT_NOT_LINKED"],[_,"API_SERVER_ERROR"],[1202,"LOGIN_MFA_TOKEN_INVALID"],[1203,"MFA_CONNECTION_ERROR"],[13,"API_DOWN"],[181,"GPLUS_CONNECTION_ERROR"],[14,"API_SERVER_SPAM_CONTENT"],[u,"API_REQUEST_TIMEOUT"],[50,"API_ERROR_PIN_NOT_FOUND"],[x,"INVALID_PASSWORD_FB_USER"],[f,"INVALID_PASSWORD_ERROR_CODE"],[g,"INVALID_EMAIL_ERROR_CODE"],[80,"INVALID_EMAIL_OR_PASSWORD"],[82,"LOGIN_DEACTIVATED_USER"],[j,"LOGIN_POLICY_VIOLATION_USER"],[y,"AUTO_PASSWORD_RESET_ERROR_CODE"],[86,"LOGIN_PANICKED_USER"],[87,"LOGIN_SOFT_BANNED_USER"],[i,"API_ERROR_UNDERAGE_REGISTER_ATTEMPT"],[r,"API_ERROR_OVERAGE_REGISTER_ATTEMPT"],[99,"LOGIN_PASSWORD_NOT_CREATED"],[d,"API_LIMIT_EXCEEDED_ERROR"],[c,"API_EVENT_BLOCKED_ERROR"],[z,"USER_IN_SAFE_MODE"],[C,"LOGIN_VOLUNTARILY_DEACTIVATED_USER"],[y,"LOGIN_BAD_PASSWORD_ASK_RESET"],[w,"LOGIN_MFA_REQUIRED"],[A,"LOGIN_USER_NOT_FOUND"],[P,"LOGIN_HARD_BANNED_USER"],[429,"RESPONSE_CODE_TOO_MANY_REQUESTS"],[E,"SAR_DOWNLOAD_LIMIT"],[S,"SAR_EMAIL_UNVERIFIED"],[I,"SAR_EMAIL_MISSING"]]),M=[d,c,z,j,y,P]},467570:(e,t,o)=>{o.d(t,{$:()=>a,GH:()=>r,JF:()=>p,Jb:()=>u,a7:()=>_,s0:()=>h,sl:()=>c,uP:()=>m,we:()=>d});var n=o(935879),i=o(713930),s=o(867820);const r="274266067164",l=["picture.type(large)","id","first_name","last_name","email","gender","birthday"],a=["public_profile","email","user_birthday","user_friends"],c=e=>{e&&(0,s.dy)({event:"load_script_success",provider:"facebook"}),"undefined"!=typeof window&&window.FB?(e&&(0,s.dy)({event:"initialize_library",provider:"facebook"}),window.FB.init({appId:r,status:!0,xfbml:!0,version:"v2.7"})):e&&(0,s.dy)({event:"global_object_not_found",provider:"facebook"})},d=(e,t)=>{t&&(0,s.dy)({event:"load_script_start",provider:"facebook"});return(0,i.Z)((0,n.Z)(e),"FACEBOOK").then((()=>c(t)))},u=()=>new Promise((e=>{"undefined"!=typeof window&&window.FB&&window.FB.getLoginStatus(e)})),_=(e,t={},o)=>new Promise(((n,i)=>{if("connected"===e.status){o&&o("success");const{authResponse:{userID:i,accessToken:s}}=e,r={facebook_id:i,facebook_token:s,facebook_autologin:t.autologin||!1},a=`/me?fields=${l.join(",")}`;window.FB.api(a,(e=>{n({creds:r,data:{...e,...r,...e.picture&&!e.picture.data.is_silhouette?{image_url:e.picture.data.url}:{}}})}))}else{const t=e.status||"unknown";o&&o(`failure.${t}`),i({status:t})}})),h=(e,t)=>{const o=e.data;e.isTrusted&&"string"==typeof o&&0===o.indexOf("_FB_")&&-1!==o.indexOf("type=login_button_dialog_open")&&t&&t("facebook_connect.login_button_dialog_open")},p=()=>new Promise((e=>{window.FB.login(e,{scope:a.join(",")})})).then(_),m=e=>new Promise(((t,o)=>{window.FB.api("/me/permissions",(n=>{const i=n.data;if(i){const o=i.find((t=>t.permission===e&&"granted"===t.status));return t({hasPerm:!!o})}return o(Error("Failed to call facebook to get permission"))}))}))},466225:(e,t,o)=>{o.d(t,{Z:()=>n});const n=e=>e.startsWith("enabled")||e.startsWith("employee")},648492:(e,t,o)=>{o.d(t,{Z:()=>i});const n=new function(){function e(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:o}function t(e,t,n){let a;for(e=n?Math.floor(e/i):e>>1,e+=Math.floor(e/t),a=0;e>(o-s)*r>>1;a+=o)e=Math.floor(e/(o-s));return Math.floor(a+(o-s+1)*e/(e+l))}this.utf16={encode:function(e){for(var t,o=[],n=0,i=e.length;i>n;){if(55296==(63488&(t=e[n++])))throw!0;t>65535&&(t-=65536,o.push(String.fromCharCode(t>>>10&1023|55296)),t=56320|1023&t),o.push(String.fromCharCode(t))}return o.join("")}};var o=36,i=700,s=1,r=26,l=38,a=2147483647;this.decode=function(n,i){let l,c,d,u,_,h,p,m,g,f,x,b,v,y=[],P=[],w=n.length;for(l=128,d=0,u=72,_=n.lastIndexOf("-"),0>_&&(_=0),h=0;_>h;++h){if(i&&(P[y.length]=n.charCodeAt(h)-65<26),n.charCodeAt(h)>=128)throw!0;y.push(n.charCodeAt(h))}for(p=_>0?_+1:0;w>p;){for(m=d,g=1,f=o;;f+=o){if(p>=w)throw!0;if(x=e(n.charCodeAt(p++)),x>=o)throw!0;if(x>Math.floor((a-d)/g))throw!0;if(d+=x*g,b=f>u?u+r>f?f-u:r:s,b>x)break;if(g>Math.floor(a/(o-b)))throw!0;g*=o-b}if(c=y.length+1,u=t(d-m,c,0===m),Math.floor(d/c)>a-l)throw!0;l+=Math.floor(d/c),d%=c,i&&P.splice(d,0,n.charCodeAt(p-1)-65<26),y.splice(d,0,l),d++}if(i)for(d=0,v=y.length;v>d;d++)P[d]&&(y[d]=String.fromCharCode(y[d]).toUpperCase().charCodeAt(0));return this.utf16.encode(y)},this.toUnicode=function(e){for(var t=e.split("."),o=[],i=0;i<t.length;++i){const e=t[i];o.push(e.match(/^xn--/)?n.decode(e.slice(4)):e)}return o.join(".")}};function i(e){try{return n.toUnicode(e)}catch(t){return e}}},335972:(e,t,o)=>{o.d(t,{Z:()=>Y});var n=o(667294),i=o(317672),s=o(790348);const r=e=>{const t=performance.getEntriesByType("resource").filter((e=>e.name.includes("i.pinimg"))).reduce(((e,t)=>{const o=t.name.replace(".jpg","").split("/");return{[o[o.length-1]]:{downloadSize:t.name.split("/")[3].split("x")[0]},...e}}),{});[...Array.from(document.getElementsByTagName("img")).map((e=>{const o=e.src.replace(".jpg","").split("/"),n=o[o.length-1];if(t[n]){var s;const o=(null===(s=(0,i.rZ)(e))||void 0===s?void 0:s.width)||1,r=t[n].downloadSize;return{fileName:n,renderedSize:o,downloadedSize:r,ratio:r/o}}return{fileName:n,renderedSize:1,downloadedSize:1,ratio:1}})),...Array.from(document.querySelectorAll('div[role="img"]')).map((e=>{const o=e.style.backgroundImage.split('"')[1].replace(".jpg","").split("/"),n=o[o.length-1];if(t[n]&&e instanceof HTMLDivElement){var s;const o=(null===(s=(0,i.rZ)(e))||void 0===s?void 0:s.width)||1,r=t[n].downloadSize;return{fileName:n,renderedSize:o,downloadedSize:r,ratio:r/o}}return{fileName:n,renderedSize:1,downloadedSize:1,ratio:1}}))].forEach((t=>{const{ratio:o,fileName:n,downloadedSize:i}=t;t.ratio>1.05&&(0,s.A9)(`checkImageRatio.${e}`,{count:Math.round(10*o)/10,tags:{fileName:`${i}_${n}`}})}))};var l=o(860273),a=o(543059),c=o(607150);const d=({constraintMap:e,initialNavTiming:t,annotations:o})=>({...o,...(0,c.jh)("constraint_",e),...(0,c.jh)("mark_",(0,a.gQ)()),...(0,c.jh)("browser_",{...t?(0,c.D3)(t):{},...(0,c.rX)()})});var u=o(358864),_=o(505771),h=o(156381);const p=(e,t)=>{const{firstInputDelay:o}=(0,h.v2)();return[...e.map((e=>(0,_.Z)(e,t))).filter(Boolean),...o?[{name:"fid",id:(0,u.Z)(),parentId:t,startTime:o.startTime,endTime:o.endTime,annotationMap:{},binaryAnnotationMap:{}}]:[]]};var m=o(22773),g=o(453821),f=o(638089);const x=({annotateExperiments:e,annotations:t,binaryAnnotations:o,constraintMap:n,endTime:i,imageTimings:s,metricId:r,pwtStaticContext:a,startTime:c,traceId:u,spans:_})=>{const h=(0,m.Cg)();let x;"initial_app_load"===r.navigationType&&(x=(0,l.Z)());const b=s.map((({name:e})=>e)),v=h.map((e=>(0,g.p)(e,b))).filter((({timing:e})=>!(({startTime:e,responseEnd:t},o)=>e>o.endTime||!!t&&t<o.startTime||e<o.startTime-100)(e,{startTime:c,endTime:i})));return{type:"COMPLETE",traceId:u,startTime:c,endTime:i,spans:p(v,u).concat(_),annotationMap:d({constraintMap:n,initialNavTiming:x,annotations:t}),binaryAnnotationMap:(0,f.rA)({annotateExperiments:e,binaryAnnotations:o,entries:h,metricId:r,performanceResources:v,pwtEndTime:i,pwtStaticContext:a})}};let b=!1;const v=(e,t)=>e&&t?b?((0,s.H)("duplicated_initial_app_load_surface_pwt"),(0,u.Z)()):(b=!0,t):(0,u.Z)();var y=o(883119),P=o(226464),w=o(785893);function A({children:e,heading:t}){return(0,w.jsxs)("table",{style:{width:"100%"},cellPadding:4,children:[(0,w.jsx)("thead",{children:(0,w.jsx)("tr",{children:(0,w.jsx)("th",{colSpan:2,style:{background:"#efefef"},children:(0,w.jsx)(y.xv,{weight:"bold",align:"center",children:t})})})}),(0,w.jsx)("tbody",{children:e})]})}function C({name:e,children:t}){return(0,w.jsxs)("tr",{children:[(0,w.jsx)("td",{children:(0,w.jsx)(y.xv,{weight:"bold",children:e})}),(0,w.jsx)("td",{children:"string"==typeof t?(0,w.jsx)(y.xv,{children:t}):t})]})}function j({result:e}){return"ABORT"===e.type?(0,w.jsx)(C,{name:"Abort Reason",children:e.reason}):(0,w.jsxs)(n.Fragment,{children:[(0,w.jsx)(C,{name:"PWT (ms)",children:(0,w.jsx)(y.xv,{align:"end",children:Math.round(e.endTime-e.startTime)})}),(0,w.jsx)(C,{name:"PinTrace",children:(0,w.jsx)(y.xv,{italic:!0,children:(0,w.jsx)(y.rU,{href:`https://pintrace.pinadmin.com/zipkin/traces/${e.traceId.toString(16)}`,target:"blank",inline:!0,onClick:({dangerouslyDisableOnNavigation:e})=>e(),underline:"hover",children:"Open in a new tab"})})})]})}function E({data:e}){const{metricId:t,constraints:o,constraintMap:n,startTime:i,result:s}=e;return(0,w.jsxs)(y.xu,{children:[(0,w.jsxs)(A,{heading:(0,P.KJ)(t),children:[(0,w.jsx)(C,{name:"Thrift Id",children:String((0,P.Rp)(t))}),(0,w.jsx)(C,{name:"Surface",children:t.surface}),(0,w.jsx)(C,{name:"Navigation Type",children:t.navigationType}),(0,w.jsx)(C,{name:"Viewer Authed",children:String(t.isAuthenticated)})]}),(0,w.jsx)(A,{heading:"Constraints",children:o.map((e=>(0,w.jsx)(C,{name:e,children:(0,w.jsx)(y.xv,{align:"end",children:n[e]?Math.round(n[e]-i):"pending..."})},`constraint_${e}`)))}),(0,w.jsx)(A,{heading:"Result",children:s?(0,w.jsx)(j,{result:s}):(0,w.jsx)(C,{name:"result",children:(0,w.jsx)(y.$j,{accessibilityLabel:"profiling PWT",show:!0})})})]})}var S=o(223815);const I=e=>e.result?"COMPLETE"===e.result.type?"darkGray":"red":"gray";function T({data:e}){const[t,o]=(0,n.useState)(!1);return(0,w.jsx)(S.Z,{children:(0,w.jsxs)(y.mh,{children:[(0,w.jsx)(y.xu,{position:"fixed",margin:3,marginBottom:12,bottom:!0,left:!0,width:50,height:50,dangerouslySetInlineStyle:{__style:{zIndex:2e3}},children:(0,w.jsx)(y.hU,{accessibilityLabel:"PwtDebugger",bgColor:"lightGray",iconColor:I(e),icon:"flash",size:"lg",onClick:()=>o(!0)})}),t&&(0,w.jsx)(y.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{zIndex:2e3}},children:(0,w.jsx)(y.u_,{accessibilityModalLabel:"Pinner Wait Time Debugger Details",heading:"Pinner Wait Time",onDismiss:()=>o(!1),footer:null,size:"sm",children:(0,w.jsx)(y.xu,{padding:6,children:(0,w.jsx)(E,{data:e})})})})]})})}var z=o(558775);const k=(e,t)=>{const o=(0,n.useRef)(e);(0,n.useEffect)((()=>{o.current=e}),[e]);const i=(0,n.useRef)(t);(0,n.useEffect)((()=>{i.current=t}),[t]),(0,n.useEffect)((()=>()=>i.current(o.current)),[])},D=(e,t)=>{const[o,i]=(0,n.useState)(t);return{state:o,dispatch:t=>i((o=>e(o,t)))}};var R=o(985271),O=o(7789),L=o(383434),B=o(567450),M=o(276602),F=o(404646);const N=["initial_app_load","client_route_push"],Z=(0,L.X)("PwtSurface"),U="NavigationComplete",G="VisuallyComplete",H=(e,t)=>{e.isSampled&&(0,z.Z)({metricId:e.metricConfig.metricId,pwtStaticContext:e.metricConfig.pwtStaticContext,result:{type:"ABORT",reason:t}})},V=e=>{if(e.metricConfig.constraints.every((t=>e.constraintMap[t]))){const t=Math.max(...e.metricConfig.constraints.map((t=>e.constraintMap[t])));return((e,t)=>{var o;const{metricConfig:{metricId:n,pwtStaticContext:i,annotateExperiments:l},annotations:c,binaryAnnotations:d,constraintMap:u,startTime:_,imageTimings:h,isSampled:p,spans:m}=e;(0,a.L8)(`PWT_Complete_${(0,P.KJ)(n)}`);const g=v("initial_app_load"===n.navigationType,null===(o=i.serverData)||void 0===o?void 0:o.trace_id),f=x({annotateExperiments:l,annotations:c,binaryAnnotations:d,constraintMap:u,endTime:t,imageTimings:h,metricId:n,pwtStaticContext:i,startTime:_,traceId:g,spans:m});p&&(0,z.Z)({metricId:n,pwtStaticContext:i,result:f});try{r(String(f.binaryAnnotationMap["metricId.surface"].value))}catch(b){(0,s.H)("image_ratio_check_error",{error:b})}return{...e,result:f,status:"DONE"}})(e,t)}return e},W=(e,t)=>{const{constraint:o,time:n}=t,i=(0,P.KJ)(e.metricConfig.metricId);return R.Z?e.metricConfig.constraints.find((e=>e===o))?e.constraintMap[o]?(Z(`constraint "${o}" is already complete.`),(0,s.H)("duplicated_constraint_complete",{constraint:o,action:i}),e):(Z(`marking constraint "${o}" as complete`),(0,a.ZP)(`constraint_${o}_is_complete`),V({...e,constraintMap:{...e.constraintMap,[o]:n||R.Z.now()}})):(Z(`marked constraint "${o}" is not a required constraint.`),e):((0,s.H)("missing_window_performance",{action:i}),e)},$=(e,t)=>{if(Z("dispatch action",t),"INIT_ROUTE"===t.type)return((e,t)=>{const{metricConfig:o,startTime:n,isSampled:i}=t;if("TIMING"===e.status&&n!==e.startTime&&H(e,"routeUpdatedOnSameSurface"),!o)return{status:"DISABLED",metricConfig:null};const r=(0,P.KJ)(o.metricId);return"TIMING"===e.status&&e.startTime===n&&e.constraintMap.NavigationComplete?((0,s.H)("duplicated_init_route_action",{action:r}),e):("Other"===o.pwtStaticContext.browserName&&!1===o.metricId.isAuthenticated&&"initial_app_load"===o.metricId.navigationType?((0,s.A9)(`TIMING.${r}`,{tags:{userAgent:null===(l=window)||void 0===l||null===(a=l.navigator)||void 0===a?void 0:a.userAgent}}),(0,s.A9)(`TIMING.sampled.${r}`,{tags:{userAgent:null===(c=window)||void 0===c||null===(d=c.navigator)||void 0===d?void 0:d.userAgent},sampleRate:.5})):((0,s.A9)(`TIMING.${r}`),(0,s.A9)(`TIMING.sampled.${r}`,{sampleRate:.5})),W({status:"TIMING",metricConfig:o,startTime:n,constraintMap:{},annotations:{},binaryAnnotations:{},imageTimings:[],isSampled:i,spans:[]},{constraint:U}));var l,a,c,d})(e,t.payload);if("TIMING"!==e.status)return Z(`ignoring action due to invalid state ${e.status}`,t),e;switch(t.type){case"ABORT":H(e,t.reason);const o={type:"ABORT",reason:t.reason};return{...e,status:"DONE",result:o};case"ANNOTATE":const{name:n}=t.payload;if(!R.Z)return e;const i=R.Z.now();return Z(`adding annotation {${n}: ${i}}`),{...e,annotations:{...e.annotations,[n]:i}};case"BINARY_ANNOTATE":const{name:r,value:l,annotationType:a}=t.payload;return Z(`adding binary annotation {${r}: ${l}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[r]:{value:l,type:a}}};case"MARK_CONSTRAINT_COMPLETE":return W(e,t.payload);case"REMOVE_CONSTRAINT":return((e,t)=>{if(!R.Z){const t=(0,P.KJ)(e.metricConfig.metricId);(0,s.H)("missing_window_performance",{action:t})}Z(`removing constraint "${t}"`);const o=e.metricConfig.constraints.filter((e=>e!==t)),{[t]:n,...i}=e.constraintMap;return V({...e,constraintMap:i,metricConfig:{...e.metricConfig,constraints:o}})})(e,t.payload);case"SET_SEGMENT":return((e,t)=>{if(!R.Z){const t=(0,P.KJ)(e.metricConfig.metricId);(0,s.H)("missing_window_performance",{action:t})}Z(`updating pwt segment to "${t}"`);const o={...e.metricConfig.metricId,segment:t};return{...e,metricConfig:{...e.metricConfig,metricId:o}}})(e,t.payload);case"SET_VISUALLY_COMPLETE_RESULT":{const{payload:{imageTimings:o}}=t;if(0===o.length){H(e,"visuallyComplete_noImages");const t={type:"ABORT",reason:"visuallyComplete_noImages"};return{...e,status:"DONE",result:t}}const n=Math.max(...o.map((e=>e.responseEnd||0)));return W({...e,imageTimings:o},{constraint:G,time:n})}case"ADD_SUBSPAN":const{startTime:c}=e,{payload:{name:d,startTime:_,endTime:h,annotations:p,binaryAnnotations:m,parentId:g}}=t;return{...e,spans:[...e.spans,{name:d,id:(0,u.Z)(),startTime:_||c,endTime:h,annotationMap:{...p},binaryAnnotationMap:{...m},parentId:g}]};case"START_SUBSPAN":return{...e,spans:[...e.spans,{name:t.payload.name,id:(0,u.Z)(),startTime:R.Z?R.Z.now():0,endTime:1/0,annotationMap:{...t.payload.annotations},binaryAnnotationMap:{...t.payload.binaryAnnotations},parentId:t.payload.parentId}]};case"STOP_SUBSPAN":const f=e.spans.findIndex((e=>e.name===t.payload.name));return f>-1?(e.spans[f].endTime=R.Z?R.Z.now():0,t.payload.annotations&&(e.spans[f].annotationMap={...e.spans[f].annotationMap,...t.payload.annotations}),t.payload.binaryAnnotations&&(e.spans[f].binaryAnnotationMap={...e.spans[f].binaryAnnotationMap,...t.payload.binaryAnnotations})):(0,s.H)("invalid_subspan_stop_name",{name:t.payload.name}),e;default:const x=(0,P.KJ)(e.metricConfig.metricId);return(0,s.H)("invalid_pwt_surface_action",{action:x}),e}};function Y({children:e,...t}){var o;const i=(0,F.fM)(),r=(e=>{if(!e)return"initial_app_load";switch(e.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}})(i),l=["seo_web_react18_render","web_react18_render_auth","web_react18_render_unauth",...null!==(o=t.annotateExperiments)&&void 0!==o?o:[]],a={...t,annotateExperiments:l,navigationInfo:{navigationType:r,clientNavigation:i}},{state:c,context:d}=(({surface:e,constraints:t,segment:o,measureGridVisuallyComplete:i,annotateExperiments:s,customEnabledNavigationTypes:r,navigationInfo:{clientNavigation:l,navigationType:a},sampleRate:c})=>{const d=(0,n.useRef)("NOT_SET"),u=(0,F.N5)(),{state:_,dispatch:h}=D($,{status:"DISABLED",metricConfig:null});if(d.current!==l&&(d.current=l,u)){const{isAuthenticated:n}=u,d=r||N,_=e&&a&&d.includes(a)?{metricId:{type:"surface",surface:e,navigationType:a,isAuthenticated:n,segment:o},annotateExperiments:s,constraints:[U,...t||[],...i?[G]:[]],pwtStaticContext:u}:null;h({type:"INIT_ROUTE",payload:{metricConfig:_,startTime:l?l.time:0,isSampled:!c||Math.random()<c}})}if((0,n.useEffect)((()=>{const e=e=>{h({type:"ABORT",reason:e})};B.Z.onSessionPause(e);const t=()=>{window.removeEventListener("resize",t),h({type:"ABORT",reason:"windowResized"})};return window.addEventListener("resize",t),()=>{B.Z.removePauseListener(e),window.removeEventListener("resize",t)}}),[]),k(_,(e=>{Z("handling unmount",e),"TIMING"===e.status&&H(e,"unmount")})),"TIMING"!==_.status||!_.constraintMap.NavigationComplete)return{state:_,context:null};const{startTime:p,metricConfig:m}=_;return{state:_,context:{id:p,metricId:m.metricId,abort:e=>h({type:"ABORT",reason:e}),addAnnotation:e=>h({type:"ANNOTATE",payload:{name:e}}),addBinaryAnnotation:(e,t,o)=>h({type:"BINARY_ANNOTATE",payload:{name:e,value:t,annotationType:o}}),setVisuallyCompleteResult:m.constraints.includes(G)?e=>h({type:"SET_VISUALLY_COMPLETE_RESULT",payload:e}):null,markConstraintComplete:e=>h({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:e,time:R.Z?R.Z.now():0}}),removeConstraint:e=>h({type:"REMOVE_CONSTRAINT",payload:e}),setSegment:e=>h({type:"SET_SEGMENT",payload:e}),addSubspan:(e,t,o,n={},i={},s=null)=>h({type:"ADD_SUBSPAN",payload:{name:e,startTime:t,endTime:o,annotations:n,binaryAnnotations:i,parentId:s}}),startSubspan:(e,t={},o={},n=null)=>h({type:"START_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:o,parentId:n}}),stopSubspan:(e,t={},o={},n=null)=>h({type:"STOP_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:o,parentId:n}})}}})(a);return(()=>{const e=(0,M.EV)(),t=!!e;(0,n.useEffect)((()=>{if(t){const t=null!=e&&e.metricId?(0,P.KJ)(e.metricId):null;(0,s.H)("nested_pwt_surface",{action:t})}}),[t])})(),(0,w.jsxs)(n.Fragment,{children:[(0,w.jsx)(M.Sb,{value:d,children:e}),O.DQ&&"DISABLED"!==c.status&&(0,w.jsx)(T,{data:{metricId:c.metricConfig.metricId,constraints:c.metricConfig.constraints,constraintMap:c.constraintMap,startTime:c.startTime,result:"DONE"===c.status?c.result:null}})]})}},317254:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(969853),i=o(667294),s=o(276602),r=o(543059);function l({children:e,isAtEndOfFeed:t,pinData:o,itemCount:l,includeBackgroundImages:a=!1,includeVideos:c=!1}){return(0,n.Z)({pinData:o,isAtEndOfFeed:t,includeBackgroundImages:a,includeVideos:c}),function(e){const t=(0,s.EV)(),o=(0,i.useRef)(null);(0,i.useEffect)((()=>{e!==o.current&&(o.current=e,t&&(0,r.ZP)(r.at))}),[!!t,e])}(l),e}},418614:(e,t,o)=>{o.d(t,{Z:()=>c});var n=o(784590),i=o(780280),s=o(826067);var r=o(276775);function l({checkExperiments:e,disableFetch:t,viewer:o}){const n=(0,r.TH)(),l=(0,r.$B)(),a=(0,i.B)(),c=function({advertiser:e,location:{pathname:t,search:o},match:{params:n,path:i},viewer:r}){return{advertiser:e,routeData:{matchPath:i,params:n,parsedSearch:(0,s.mB)(o),pathname:t,search:o},user:{country:r.country||void 0,id:r.id||void 0,isAuth:r.isAuth,isEmployee:!!r.isEmployee||!1,isPartner:!!r.isPartner||!1,username:r.username||void 0}}}({advertiser:a.advertiser,location:n,match:l,viewer:o}),d=!!t&&t(c),u=!(!d&&e)||e(a.experimentsClient);return{args:c,fetchDisabled:d||!u}}var a=o(19121);function c({getOptions:e,checkExperiments:t,disableFetch:o,...i}){const s=function(){const e=(0,a.Z)();return{country:e.country||void 0,id:e.id||void 0,isAuth:e.isAuth,isEmployee:!!e.isEmployee||!1,isPartner:!!e.isPartner||!1,username:e.username||void 0}}(),{args:r,fetchDisabled:c}=l({checkExperiments:t,disableFetch:o,viewer:s}),d=e?e(r):void 0;return(0,n.Z)({dangerouslyDisableFetch:c,options:d,...i})}},550405:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(748367),i=o(780280),s=o(785893);function r(e){const{fullPath:t,isAuthenticated:o,origin:r}=(0,i.B)(),{user:l}=e;return o?null:(0,s.jsx)(n.Z,{type:"application/ld+json",value:(()=>{const e={"@context":"http://schema.org/","@type":"Person",name:l.full_name||l.username,mainEntityOfPage:{"@type":"ProfilePage","@id":t?`${r}${t}`:`${r}/${l.username}/`}};return l.image_xlarge_url&&(e.image={"@type":"ImageObject",contentUrl:l.image_xlarge_url}),l.location&&(e.address={"@type":"PostalAddress",addressLocality:l.location}),l.about&&(e.description=l.about),l.domain_url&&(e.url=l.domain_url),e})()})}},857079:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(883119),i=o(785893);function s({accessibilityLabel:e}){return(0,i.jsx)(n.kC,{alignItems:"center",justifyContent:"center",children:(0,i.jsx)(n.$j,{accessibilityLabel:e,show:!0})})}},740990:(e,t,o)=>{o.d(t,{Z:()=>n});const n=(0,o(667294).createContext)("undefined"!=typeof window?window:null)},304903:(e,t,o)=>{function n(e){return e===window?window.innerHeight:e.clientHeight}function i(){return void 0!==window.scrollY?window.scrollY:document.documentElement&&void 0!==document.documentElement.scrollTop?document.documentElement.scrollTop:0}function s(e){return e===window&&document.documentElement?document.documentElement.scrollHeight:e.scrollHeight}function r(e){return e===window?i():e.scrollTop}function l(){window&&window.scroll(0,0)}o.d(t,{MX:()=>r,S$:()=>i,Uy:()=>n,aZ:()=>s,vM:()=>l})},730447:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(667294),i=o(254469);function s({allowSearchOnMount:e,children:t,onTypeaheadSuggestionsChange:o,resourceName:s,resourceOptions:r,value:l}){const a=(0,i.Z)({allowSearchOnMount:e,resourceName:s,resourceOptions:r,value:l});return(0,n.useEffect)((()=>{null!=a&&a.length&&o(a)}),[a]),t||null}},254469:(e,t,o)=>{o.d(t,{Z:()=>c});var n=o(667294);const i=function(e,t){this.uid=e,this.item=t,this.next=null,this.prev=null},s=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};s.prototype.set=function(e,t){let o=this._uidToData[e];o||(o=new i(e,t),this._uidToData[e]=o,this._numItems+=1),this._moveToFront(o),this._numItems>this._maxNumItems&&this._evict()},s.prototype.get=function(e){const t=this._uidToData[e];return t?(this._moveToFront(t),t.item):null},s.prototype.remove=function(e){const t=this._uidToData[e];t&&(delete this._uidToData[e],this._firstData===t&&(this._firstData=t.next),this._lastData===t&&(this._lastData=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this._numItems-=1)},s.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},s.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1};const r=s;var l=o(6637);function a({resourceName:e,resourceOptions:t}){const o={...t,count:"count"in t?t.count:5},n=l.Z.create(e,o),i=new r,s=()=>{n.abort()};return async function(e,t){const o=i.get(`${t}-${e}`);if(o){const t=o.items;if(t&&t.length){s();return{hint:o.hint,items:t,term:e}}}return e.length>=0?(async(e,t)=>{var o;if(n.isCalling()){var r,l;const o=null===(r=n.options)||void 0===r?void 0:r.term,i=null===(l=n.options)||void 0===l?void 0:l.pin_scope;if(e===o&&t===i)return;s()}const{bookmarks:a,...c}=n.options||{};n.options={...c,term:e,pin_scope:t};const d=null===(o=(await n.callGet({showError:!1})).resource_response)||void 0===o?void 0:o.data,u=null==d?void 0:d.items,_=(null==d?void 0:d.hint)||{},h={hint:_,items:u};return i.set(`${t}-${e}`,h),{term:e,items:u,hint:_}})(e,t):{hint:{},items:[],term:e}}}function c({allowSearchOnMount:e=!1,resourceName:t,resourceOptions:o={},value:i}){const s=(0,n.useRef)(!1),r=(0,n.useRef)({}),[l,c]=(0,n.useState)([]),d=function({resourceName:e,resourceOptions:t}){const o=(0,n.useRef)();return o.current||(o.current=a({resourceName:e,resourceOptions:t})),o.current}({resourceName:t,resourceOptions:o}),u=o.pin_scope||"pins",_=`${u}-${i}`;return(0,n.useEffect)((()=>{(async()=>{if(null!=i&&(e||s.current))if(_ in r.current)c(r.current[_]);else try{const e=await d(i,u);if(e){const{items:t}=e;r.current[_]=t,c(t)}}catch(t){if("Resource call aborted"===t)return;throw t}s.current||(s.current=!0)})()}),[i,u,_]),l}},622739:(e,t,o)=>{o.d(t,{NZ:()=>d,Wd:()=>c,c0:()=>h,nz:()=>_});var n=o(667294),i=o(794230),s=o(276775),r=o(826067);const l=["filters","category","domains","price_min","price_max","rs"],a={query:"",queryParamStrings:{}};function c(e){const[t,o]=(0,n.useState)(a),{action:c}=(0,s.k6)();return(0,n.useEffect)((()=>{["PUSH","POP"].includes(c)&&o(a)}),[c]),{getFullUrlForTab:(0,n.useCallback)((({currentQueryParamString:n,currentTabIndex:s,incomingTabIndex:a,baseUrl:c})=>{o((t=>({query:t.query||e,queryParamStrings:{...t.queryParamStrings,[s]:n}})));const d=t.queryParamStrings[a];return(0,i.Z)(c,(0,r.mB)(d||(0,r.Gw)(n,l)))}),[e,t])}}function d(e,t){return(0,i.Z)(e,(0,r.mB)((0,r.Gw)(t,l)))}const u={explore:{href:"/search/pins/",loggingData:{element:11733},name:"explore",scope:"pins"},shop:{href:"/search/buyable_pins/",loggingData:{element:11734},name:"shop",scope:"buyable_pins"},profiles:{href:"/search/users/",loggingData:{element:12447},name:"profiles",scope:"users"}};function _(e){return(null==e?void 0:e.map((e=>({...u[e.tab_type],text:e.name}))))||[]}function h(e,t){return e.findIndex((e=>e.scope===t))}},80816:(e,t,o)=>{o.d(t,{i:()=>n});const n={REGISTRATION:"registration",SETTINGS:"settings",GOOGLE_PEOPLE_API:"google_people_api",HOLISTIC_PROFILE_PROMPT:"holistic_profile_prompt",IN_APP_BIRTHDAY_PROMPT:"in_app_birthday_prompt",FIX_EMAIL_PROMPT:"fix_email_prompt",NUX:"nux",UNKNOWN:"unknown"}},706922:(e,t,o)=>{o.d(t,{Z:()=>s});const n=Object.prototype.hasOwnProperty;function i(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function s(e,t){if(i(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const o=Object.keys(e),s=Object.keys(t);if(o.length!==s.length)return!1;for(let r=0;r<o.length;r+=1)if(!n.call(t,o[r])||!i(e[o[r]],t[o[r]]))return!1;return!0}},458882:(e,t,o)=>{o.d(t,{l:()=>s,r:()=>r});var n=o(667294);const i=(0,n.createContext)(null),s=()=>(0,n.useContext)(i),r=i.Provider},667679:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(458882),i=o(780679);const s=()=>{const e=(0,i.g)(),t=(0,n.l)();return o=>{const{mobileOptions:n,desktopOptions:i,reason:s,attributionLabel:r}=o;var l;e?e.showDesktopSignupModal({modalType:null!==(l=null==i?void 0:i.modalType)&&void 0!==l?l:"signup",reason:s,attributionLabel:r,...null==i?void 0:i.modalOptions}):t&&t.showMobileSignupModal({reason:s,attributionLabel:r,headingType:null==n?void 0:n.headingType})}}},90771:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(785893);function i({size:e=56}){return(0,n.jsxs)("svg",{fill:"none",height:e,width:e,viewBox:"0 0 56 56",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,n.jsx)("rect",{fill:"#1a73e8",height:"56",rx:"28",width:"56"}),(0,n.jsx)("path",{d:"m37.086 39.782h-18.454c-2.624 0-4.914-1.983-4.914-4.607v-.028 1.536c0 2.624 2.29 4.913 4.914 4.913h18.454c2.653 0 4.914-2.317 4.914-4.913v-1.536c0 2.624-2.29 4.635-4.914 4.635zm-23.395-13.234v-2.094l-3.434-5.667c-.196-.307-.28-.586-.252-.866v2.401c0 .224.084.447.223.698z",fill:"#185abc"}),(0,n.jsx)("path",{d:"m37.086 17h-25.853c-1.033 0-1.619.893-.92 1.843l3.377 5.863v10.469c0 2.68 1.955 4.914 4.607 4.914h18.761c2.653 0 4.914-2.262 4.914-4.914v-13.233c.028-2.68-2.234-4.942-4.886-4.942z",fill:"#fff"}),(0,n.jsx)("path",{d:"m36.78 24.39h-17.842c-.782 0-1.535-.474-1.535-1.228 0-.753.753-1.228 1.535-1.228h17.84c.782 0 1.536.475 1.536 1.228 0 .754-.754 1.229-1.536 1.229zm0 4.915h-17.842c-.782 0-1.535-.475-1.535-1.229s.753-1.228 1.535-1.228h17.84c.782 0 1.536.474 1.536 1.228s-.754 1.229-1.536 1.229zm-4.942 4.941h-12.928c-.782 0-1.535-.474-1.535-1.228s.753-1.229 1.535-1.229h12.927c.781 0 1.535.475 1.535 1.229s-.754 1.228-1.535 1.228z",fill:"#8ab4f8"})]})}},214680:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(785893);function i({size:e=56}){return(0,n.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,n.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"url(#paint0_linear_4144_9512)"}),(0,n.jsx)("path",{d:"M27.7512 13C23.3085 13 19.0478 14.47 15.9063 17.0867C12.7649 19.7033 11 23.2522 11 26.9526C11.004 29.3596 11.7556 31.7247 13.1816 33.8182C14.6076 35.9117 16.6595 37.6624 19.138 38.9C18.4779 40.3778 17.4878 41.7636 16.2089 43C18.6891 42.5646 21.0173 41.65 23.0123 40.3273C24.5505 40.708 26.1465 40.9027 27.7512 40.9053C32.1939 40.9052 36.4546 39.4352 39.5961 36.8186C42.7375 34.202 44.5024 30.6531 44.5024 26.9526C44.5024 23.2522 42.7375 19.7033 39.5961 17.0867C36.4546 14.47 32.1939 13 27.7512 13Z",fill:"white"}),(0,n.jsx)("defs",{children:(0,n.jsxs)("linearGradient",{id:"paint0_linear_4144_9512",x1:"28.4444",y1:"52.2827",x2:"28.4444",y2:"6.94986",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#0CBD2A"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#5BF675"})]})})]})}},862960:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(785893);function i({size:e=56}){return(0,n.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,n.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"url(#paint0_linear_4401_2673)"}),(0,n.jsx)("path",{d:"M22.452 39.991c-.907 0-.753-.342-1.066-1.206l-2.667-8.779 20.533-12.181",fill:"#C8DAEA"}),(0,n.jsx)("path",{d:"M22.452 39.991c.7 0 1.01-.32 1.4-.7l3.734-3.63-4.657-2.808",fill:"#A9C9DD"}),(0,n.jsx)("path",{d:"m22.928 32.854 11.284 8.336c1.288.71 2.217.343 2.538-1.195l4.593-21.645c.47-1.885-.719-2.74-1.95-2.181l-26.971 10.4c-1.841.738-1.83 1.765-.336 2.223l6.921 2.16 16.024-10.109c.757-.458 1.45-.212.881.294",fill:"url(#paint1_linear_4401_2673)"}),(0,n.jsxs)("defs",{children:[(0,n.jsxs)("linearGradient",{id:"paint0_linear_4401_2673",x1:"37.352",y1:"9.352",x2:"23.352",y2:"42",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#37AEE2"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#1E96C8"})]}),(0,n.jsxs)("linearGradient",{id:"paint1_linear_4401_2673",x1:"31.096",y1:"27.16",x2:"35.466",y2:"37.116",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#EFF7FC"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#fff"})]})]})]})}},89396:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(785893);function i({size:e=56}){return(0,n.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,n.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#7360F2"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.362 31.327s.57.05.875-.33l.597-.75c.288-.374.984-.61 1.665-.232.902.509 2.067 1.309 2.866 2.054.44.371.542.918.242 1.495l-.002.012a6.278 6.278 0 0 1-1.243 1.53l-.012.009c-.587.489-1.261.773-1.983.538l-.013-.018c-1.296-.367-4.405-1.952-6.386-3.532-3.242-2.558-5.546-6.776-6.183-9.038l-.02-.013c-.235-.724.052-1.398.539-1.984l.01-.01a6.224 6.224 0 0 1 1.53-1.243l.012-.003c.576-.3 1.122-.198 1.494.243.49.505 1.408 1.721 2.054 2.865.378.68.141 1.377-.231 1.664l-.752.598c-.379.306-.33.876-.33.876s1.113 4.207 5.271 5.269Zm6.543-3.488a.405.405 0 0 1-.406-.403c-.018-2.44-.752-4.384-2.178-5.776-1.43-1.393-3.236-2.108-5.37-2.122a.403.403 0 0 1-.4-.408.403.403 0 0 1 .403-.402h.003c2.35.016 4.344.808 5.93 2.352 1.586 1.55 2.402 3.687 2.422 6.35a.406.406 0 0 1-.401.409h-.003Zm-2.127-.832h-.01a.405.405 0 0 1-.395-.414c.032-1.384-.364-2.503-1.208-3.425-.84-.918-1.993-1.42-3.527-1.532a.406.406 0 0 1-.374-.433.406.406 0 0 1 .433-.375c1.725.127 3.093.73 4.065 1.794.977 1.066 1.456 2.409 1.42 3.989a.406.406 0 0 1-.404.396Zm-2.077-.696a.404.404 0 0 1-.404-.386c-.068-1.373-.716-2.045-2.036-2.117a.404.404 0 1 1 .043-.808c1.744.093 2.712 1.092 2.8 2.886a.403.403 0 0 1-.383.423l-.02.002Zm9.09 4.625c-.808 6.503-5.563 6.913-6.44 7.195-.374.12-3.843.982-8.203.698 0 0-3.251 3.92-4.266 4.94-.158.159-.344.223-.469.194-.175-.043-.223-.251-.22-.553l.027-5.354v-.001c-6.35-1.764-5.98-8.394-5.908-11.864.072-3.47.724-6.315 2.661-8.227 3.48-3.152 10.65-2.681 10.65-2.681 6.054.027 8.955 1.85 9.628 2.46 2.234 1.912 3.371 6.49 2.54 13.193Zm-.87-14.817c-.796-.73-4.01-3.064-11.167-3.096 0 0-8.44-.51-12.554 3.267-2.29 2.29-3.096 5.64-3.181 9.797-.085 4.157-.195 11.944 7.311 14.056l.008.002-.005 3.221s-.047 1.306.812 1.572c1.039.322 1.648-.669 2.641-1.738a88.708 88.708 0 0 0 1.863-2.107c5.135.43 9.082-.556 9.532-.701 1.036-.337 6.902-1.088 7.857-8.876.984-8.03-.477-13.106-3.117-15.397Z",fill:"#fff"})]})}},619277:(e,t,o)=>{o.d(t,{o$:()=>i,ty:()=>s,vE:()=>r});var n=o(425288);const{Provider:i,MaybeConsumer:s,useMaybeHook:r}=(0,n.Z)("inviteContext")},430323:(e,t,o)=>{o.d(t,{Z:()=>f});var n=o(667294),i=o(722767),s=o(706922),r=o(245474),l=o(558068),a=o(780280),c=o(790123),d=o(425288);const{Provider:u,useMaybeHook:_}=(0,d.Z)("timeSpentContext");var h=o(785893);function p(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class m extends n.Component{constructor(e){super(e),p(this,"componentWillUnmount",(()=>{this.unregisterComponent()})),p(this,"getContext",(()=>{const{clientTrackingParams:e,component:t,element:o,objectId:n,timeSpentContext:i,view:s,viewParameter:r}=this.props;return{view:s||i&&i.view,viewParameter:r||i&&i.viewParameter,component:t||i&&i.component,element:o,objectId:n||i&&i.objectId,clientTrackingParams:e||i&&i.clientTrackingParams,getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}})),p(this,"getLoggerContext",(()=>{const e={...this.getContext()};return delete e.getParentUuid,e})),p(this,"getParentId",(()=>{const{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){const t=e.getGrandparentUuid();if(t)return t}return e&&e.getParentUuid?e.getParentUuid():void 0})),p(this,"getUuid",(()=>this.state.timedPair?this.state.timedPair.uuid:void 0)),p(this,"getTimedPair",(()=>this.state.timedPair)),p(this,"setTimedPair",(e=>this.setState({timedPair:e}))),p(this,"isRegistered",!1),p(this,"registerComponent",(()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0})),p(this,"unregisterComponent",(()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)})),p(this,"handleVisibilityChange",(e=>{const{intersectionRatio:t}=e[0],{bottom:o,left:n,right:i,top:s}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===o&&0===n&&0===i&&0===s?this.unregisterComponent():this.registerComponent())})),this.state={timedPair:new r.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,s.Z)(e.auxData,this.props.auxData)&&(0,s.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){const{children:e}=this.props;return(0,h.jsx)(u,{value:this.getContext(),children:(0,h.jsx)(i.Z,{options:{threshold:0},onVisibilityChange:this.handleVisibilityChange,children:n.Children.only(e)})})}}function g(e){var t;const o=(0,l.Hv)(),i=_(),s=(0,c.w)(),{requestIdentifier:r=""}=(0,a.B)(),d={app_instance_id:r.slice(0,8),...null!==(t=e.auxData)&&void 0!==t?t:{}};return(0,n.useEffect)((()=>{null==s||s.setHistoryStackContext(o)}),[o,s]),s?(0,h.jsx)(m,{...e,auxData:d,timeSpentContext:i,timeSpentManager:s,children:e.children}):e.children}g.displayName="TimeSpent";const f=g},790123:(e,t,o)=>{o.d(t,{j:()=>i,w:()=>s});var n=o(425288);const{Provider:i,useMaybeHook:s}=(0,n.Z)("TimeSpentManagerContext")},245474:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(172045),i=o(17314);function s(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const r="undefined"!=typeof window&&window.performance&&window.performance.now?()=>Math.floor(1e6*window.performance.now()):()=>1e6*Date.now();const l=class{constructor(e){s(this,"start",(()=>(this.startTime=r(),this.startTime))),s(this,"end",(()=>(this.endTime=r(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration)));try{this.uuid=(0,n.Z)()}catch(t){this.uuid=(0,i.Z)()}e&&Object.assign(this,e)}}},758127:(e,t,o)=>{o.d(t,{U:()=>s,Z:()=>r});var n=o(883119),i=o(785893);const s=", ";function r(){return(0,i.jsx)(n.xu,{display:"visuallyHidden",children:s})}},6663:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(667294),i=o(701500),s=o(391254),r=o(898781),l=o(486840),a=o(883119),c=o(785893);function d({color:e,completeButtonText:t,completeUrl:o,dismissButtonText:d,experienceId:u,external:_,message:h,onComplete:p,onDismiss:m}){const g=(0,l.Z)(),f=(0,r.ZP)(),x=(0,n.useRef)(null),b=({event:e})=>{10202===u&&g(),p&&p(e)},v=({event:e})=>{m&&m(e)},y=h&&!t,P=500735===u,w=t&&(!o||P)&&(0,c.jsx)(a.zx,{color:"white",onClick:b,text:t}),A=t&&o&&(0,c.jsx)(i.Z,{anchor:".HomeButton2",anchorElementRef:x.current,containerBoxConfig:{display:"flex",height:"100%"},children:(0,c.jsx)(a.zx,{accessibilityLabel:t,ref:x,role:"link",href:o,onClick:({event:e})=>b({event:e}),rel:_?"nofollow":"none",size:"md",color:"white",text:t},"naglink")}),C=d&&m&&(0,c.jsx)(a.xu,{mdPaddingX:2,children:(0,c.jsx)(a.zx,{color:e&&"default"!==e?"white":"gray",onClick:v,text:d})}),j=y&&!P&&m&&!d&&(0,c.jsx)(a.hU,{accessibilityLabel:f._('Close', 'accessibility close label', 'accessibility close label'),bgColor:"lightGray",onClick:v,icon:"cancel",iconColor:"gray",size:"md"});return(0,c.jsxs)(a.xu,{display:"flex",direction:"column",smDirection:"row",color:null!=e?e:"dark",paddingY:3,paddingX:6,alignItems:"center",justifyContent:"between",children:[(0,c.jsx)(a.xu,{column:12,smColumn:y?11:8,children:(0,c.jsxs)(a.xv,{color:"inverse",weight:P?"normal":"bold",children:[(0,c.jsx)(s.Z,{unsafeCSS:".Banner--message a { color: #fff; text-decoration: underline; }"}),(0,c.jsx)("div",{className:"Banner--message",children:(0,c.jsx)("span",{dangerouslySetInnerHTML:{__html:h}})})]})}),(0,c.jsxs)(a.kC,{alignItems:"center",justifyContent:"end",children:[C,w||A,j]})]})}},237900:(e,t,o)=>{o.d(t,{q:()=>s});var n=o(188682),i=o.n(n);const s=(e,t)=>{if(t){let t=e;return/.*?:\/\//.test(e)||(t="http://"+t),t=i()(t),t.host}return e=(e=e.replace(/.*?:\/\//g,"")).replace(/\/$/,"")}},887831:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(667294);let i=null,s=!1,r=0;const l=()=>{i&&clearTimeout(i),s=!0,i=setTimeout((()=>{s=!1}),100)},a=()=>{const[e,t]=(0,n.useState)(!1),o=(0,n.useRef)(null);(0,n.useEffect)((()=>(0===r&&window.addEventListener("scroll",l),r+=1,()=>{o.current&&clearTimeout(o.current),r-=1,r||window.removeEventListener("scroll",l)})),[]);const i=e=>{o.current&&clearTimeout(o.current),o.current=e&&s?setTimeout((()=>i(!0)),100):setTimeout((()=>{t(e)}),32)};return{isHovering:e,hoverHandlers:(0,n.useRef)({onMouseOver:()=>i(!0),onMouseLeave:()=>i(!1)}).current}}},311541:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(667294);function i(e,t){const o=(0,n.useRef)([]),[i,s]=(0,n.useState)(),[r,l]=(0,n.useReducer)(null!=i?i:()=>t,t),a=(0,n.useCallback)((t=>{i?l(t):(o.current.length||e().then((e=>{s((()=>e.default))})),o.current=[...o.current,t])}),[e,i]);return(0,n.useEffect)((()=>{i&&(o.current.forEach(l),o.current=[])}),[i]),[r,a]}},342877:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(667294),i=o(720247);function s(){const e=(0,n.useRef)([]),t=(0,n.useRef)({});return(0,n.useEffect)((()=>()=>{[...Object.keys(t.current).map((e=>t.current[e])),...e.current].forEach((e=>e()))}),[]),function(o,n){if(n){const e=t.current[n];e&&(e(),delete t.current[n])}const{cancel:s,promise:r}=(0,i.Z)(o);return n?t.current[n]=s:e.current.push(s),r}}},134906:(e,t,o)=>{o.d(t,{Bh:()=>d,C9:()=>v,CU:()=>r,FU:()=>E,G$:()=>x,GT:()=>l,Gy:()=>m,J_:()=>A,Jx:()=>h,MZ:()=>g,VC:()=>_,VG:()=>a,ZA:()=>c,Zt:()=>p,a3:()=>S,aH:()=>s,h7:()=>w,nw:()=>b,oR:()=>y,qA:()=>u,qp:()=>C,sG:()=>f,vd:()=>j,xk:()=>P});var n=o(89254);const i=e=>{const t={"０":"0","１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","　":" "},o=String(e).split("");return o.forEach(((e,n)=>{const i=t[e];i&&(o[n]=i)})),o.join("")};function s(e){return function(t,o){const n=[];t&&/\S/.test(t)||n.push(e.message);const i={errors:n,warnings:[]};return o&&o(i),i}}const r=new RegExp(["(^[-!#$%&'*+/=?^_`{}|~0-9A-Z]+(\\.[-!#$%&'*+/=?^_`{}|~0-9A-Z]+)*",'|^"([\\001-\\010\\013\\014\\016-\\037!#-\\[\\]-\\177]|\\\\[\\001-\\011\\013\\014\\016-\\177])*"',")@((?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\\.)+[A-Z]{2,20}$)","|\\[(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)(\\.(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)){3}\\]$"].join(""),"i");function l(e){return function(t,o){const n=[];(t=t&&t.trim())&&!t.match(r)&&n.push(e.message);const i={errors:n,warnings:[]};return o&&o(i),i}}function a(e){return function(t,o){const n=[];(t=t&&t.trim())&&!t.match(/^[^0-9].*$/)&&n.push(e.message);const i={errors:n,warnings:[]};return o&&o(i),i}}function c(e){return function(t,o){const n=[];t&&(Number.isNaN(parseInt(t))&&n.push(e.invalidAgeString),e.ageTooShortString&&t<10&&n.push(e.ageTooShortString),t<=0||t>120?n.push(e.invalidAgeString):e.checkUnderAgeWithString&&t<13&&n.push(e.checkUnderAgeWithString));const i={errors:n,warnings:[]};return o&&o(i),i}}function d(e){return function(t,o){const n=(t=t&&t.trim()).replace(/[\(\)\+\-\. ]/g,""),i=[],s=!1!==e.checkLength&&n.length<7;!t||t.match(/^(\(?\+?[0-9]*\)?)?[0-9_\- \.\(\)]*$/g)&&!s||i.push(e.message);const r={errors:i,warnings:[]};return o&&o(r),r}}function u(e){return function(t,o){const n=/^\d+$/,s=[];"number"==typeof t||"string"==typeof t&&(t=t&&t.trim(),(t=i(t))&&!t.match(n)&&s.push(e.message));const r={errors:s,warnings:[]};return o&&o(r),r}}function _(e){return function(t,o){const n=/^[\d\ -]+$/,s=[];"number"==typeof t||"string"==typeof t&&(t=t&&t.trim(),(t=i(t))&&!t.match(n)&&s.push(e.message));const r={errors:s,warnings:[]};return o&&o(r),r}}function h(e){return function(t,o){const n=[];t&&!t.match(/^(https?:\/\/){0,1}[a-z0-9_\-]+\..+/gi)&&n.push(e.message);const i={errors:n,warnings:[]};return o&&o(i),i}}function p(e){return function(t,o){const i=[];if(t)try{const o=(0,n.Z)(t);o&&o.protocol&&("http"!==o.protocol||"localhost"===o.hostname)||i.push(e.message)}catch(r){i.push(e.message)}const s={errors:i,warnings:[]};return o&&o(s),s}}function m(e){return function(t,o){const n=[];(e.should_trim||!1)&&(t=t&&t.trim());const i=t.length;e.min&&i<e.min?n.push(e.minErrorString):e.max&&i>e.max&&n.push(e.maxErrorString);const s={errors:n,warnings:[]};return o&&o(s),s}}function g(e){return function(t,o){const n=!e.checkExclusion,i=e.substrings,s=[];(n&&!i.some((e=>t.includes(e)))||!n&&i.some((e=>t.includes(e))))&&s.push(e.message);const r={errors:s,warnings:[]};return o&&o(r),r}}function f(e){return function(t,o){const n=[];t!==(e&&e.targetValue)&&n.push(e.message);const i={errors:n,warnings:[]};return o&&o(i),i}}function x(e){return function(t,o){t&&(t=parseFloat(t));const n=[];t<=e.value&&n.push(e.message);const i={errors:n,warnings:[]};return o&&o(i),i}}function b(e){return function(t,o){t&&(t=parseFloat(t));const n=[];t<e.value&&n.push(e.message);const i={errors:n,warnings:[]};return o&&o(i),i}}function v(e){return function(t,o){const n=new Date(t),i=[];e.date instanceof Date&&n instanceof Date&&e.date<n&&i.push(e.message);const s={errors:i,warnings:[]};return o&&o(s),s}}function y(e){return function(t,o){const n=[];/^[\040-\176]*$/.test(t)||n.push(e.message);const i={errors:n,warnings:[]};return o&&o(i),i}}function P(e){return function(t,o){let n=2;if(e.hasFractionalCents)n=3;else if(e.currencyCode){const{maximumFractionDigits:t}=new Intl.NumberFormat(void 0,{style:"currency",currency:e.currencyCode}).resolvedOptions();n=t}const i=new RegExp(n?`^\\d*(\\.\\d{1,${n}})?$`:"^\\d*$"),s=[];"number"==typeof t&&(t=t.toString()),t&&!t.match(i)&&(t=t&&t.trim(),s.push(e.message));const r={errors:s,warnings:[]};return o&&o(r),r}}function w(e){return function(t,o){const n=[];Number(t)>=1e13&&n.push(e.message);const i={errors:n,warnings:[]};return o&&o(i),i}}function A(e){return function(t,o){t=t&&t.trim();const n=[],i=new Date(t);t&&!i.getTime()&&n.push(e.message);const s={errors:n,warnings:[]};return o&&o(s),s}}function C(e){return function(t,o){const n=[];(t=t&&t.trim())&&!t.match(/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/)&&n.push(e.message);const i={errors:n,warnings:[]};return o&&o(i),i}}function j(e){return function(t,o){const n=[];e.pattern.test(t)||n.push(e.message);const i={errors:n,warnings:[]};return o&&o(i),i}}function E(e,t){const o=e.map((e=>e(t).errors));return[].concat(...o)}function S(e,t){let o="";return t.some((t=>{const n=t(e);return n.errors.length>0&&(o=n.errors[0],!0)})),o}},319825:(e,t,o)=>{o.d(t,{Z:()=>c});var n=o(667294);const i="normal",s=({className:e,type:t="text",animation:o="pulse",hasChildren:n=!1,hideChildren:s=!0,enableAnimation:r=!0,color:l=("wave"===o?"rgba(239, 239, 239, 0.2)":"#ebebeb"),highlightColor:a="#EFEFEF",height:c,width:d,borderRadius:u,duration:_=1.5,direction:h="normal"})=>{const p="rtl"===h?"reverse":i,m="number"==typeof _?`${_}s`:"1.5s";return`\n@keyframes pulseAnimation {\n  0% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.4;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n@keyframes waveAnimation {\n  0% {\n    transform: translateX(-100%);\n  }\n  50% {\n    transform: translateX(100%);\n  }\n  100% {\n    transform: translateX(100%);\n  }\n}\n\n.${e} {\n  background-color: ${l};\n  display: block;\n  line-height: 1;\n  ${"text"===t?"\n  margin-top: 0;\n  margin-bottom: 0;\n  height: auto;\n  transform-origin: 0 55%;\n  transform: scale(1, 0.6);\n  ":""}\n  ${"circle"===t?"\n  border-radius: 50%;\n  ":""}\n  ${n&&!d?"\n  max-width: fit-content;\n  ":""}\n  ${n&&!c?"\n  height: auto;\n  ":""}\n  ${r&&"pulse"===o?`\n  animation-name: pulseAnimation;\n  animation-direction: ${p};\n  animation-duration: ${m};\n  animation-timing-function: ease-in-out;\n  animation-iteration-count: infinite;\n  `:""}\n  ${r&&"wave"===o?"\n  position: relative;\n  overflow: hidden;\n  z-index: 1;\n\n  --webkit-mask-image: radial-gradient(white, black);\n  mask-image: radial-gradient(white, black);\n  ":""}\n  ${"circle"!==t&&"number"==typeof u||"string"==typeof u?`\n  border-radius: ${u}${"number"==typeof u?"px":""};\n  `:""}\n  ${"number"==typeof d||"string"==typeof d?`\n  width: ${d}${"number"==typeof d?"px":""};\n  `:""}\n  ${"number"==typeof c||"string"==typeof c?`\n  height: ${c}${"number"==typeof c?"px":""};\n  `:""}\n}\n${"text"===t?`\n.${e}:empty:before {\n  content: "\\00a0";\n}\n`:""}\n${n&&s?`\n.${e} > * {\n  visibility: hidden;\n}\n`:""}\n${r&&"wave"===o?`\n.${e}::after {\n  content: ' ';\n  animation-name: waveAnimation;\n  animation-direction: ${p};\n  animation-duration: ${m};\n  animation-timing-function: linear;\n  animation-iteration-count: infinite;\n\n  background-repeat: no-repeat;\n  background-image: linear-gradient(\n    90deg,\n    ${l},\n    ${a},\n    ${l}\n  );\n  border-radius: 100px;\n  position: absolute;\n  transform: translateX(-100%);\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n`:""}\n`};var r=o(391254),l=o(883119),a=o(785893);function c({id:e,type:t="text",animation:o="pulse",children:i,...c}){const d=(0,l.JZ)(),u=Boolean(i),_=`catalog-loading-skeleton-${e}`,h=s({className:_,type:t,animation:o,hasChildren:u,enableAnimation:!d,...c});return(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)(r.Z,{unsafeCSS:h}),(0,a.jsx)("span",{className:_,"data-test-id":_,children:u?i:(0,a.jsx)(n.Fragment,{children:"‌"})})]})}},487392:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(784590),i=o(19121),s=o(780280);function r(){var e;const t=(0,s.B)(),o=(0,i.Z)(),{advertiser:r}=t,l=(0,n.Z)({name:"UserResource",options:{user_id:r?r.owner_user_id:o.isAuth&&o.id,field_set_key:"merchant_summary"},dangerouslyDisableFetch:!(null==r||!r.merchant_id)});return{merchantId:(null==r?void 0:r.merchant_id)||(null===(e=l.data)||void 0===e?void 0:e.ppa_merchant_id)||"",advertiserId:(null==r?void 0:r.id)||"",ownerUserId:(null==r?void 0:r.owner_user_id)||(o.isAuth?o.id:""),advertiser:r}}},36675:(e,t,o)=>{o.d(t,{AC:()=>_,AV:()=>s,Bm:()=>u,E2:()=>d,HS:()=>l,cb:()=>n,mX:()=>c,rf:()=>i,yo:()=>r,zv:()=>a});const n=150,i=175,s=300,r=700,l=4e3,a=6e3,c={DESC:"desc",ASC:"asc"},d={SHOPIFY:"SHOPIFY",WOOCOMMERCE:"WOOCOMMERCE"},u=32,_=10},183051:(e,t,o)=>{o.d(t,{C:()=>i,O:()=>n});const n=()=>["2","100","101","102","103","129","138","139","140","143","150","152","155"],i=()=>["108","114","115","116","117","118","119","121","123","124","125","126","127","129","130","131","132","133","134","136","137","144","145","146","147","148","149","153","154","155","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","174","175","176","4029","4043","4055"]},699639:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(667294),i=o(618446),s=o.n(i);const r=e=>"object"!=typeof e?e:Array.isArray(e)?[...e]:{...e};var l=o(785893);function a(e,t,o){const i=(0,n.createContext)(),a=function(e){let t=e.slice(1);return t=t.endsWith("Context")?t:`${t}Context`,`${e[0].toUpperCase()}${t}`}(e);i.displayName=a;const c=({children:e})=>{const a=function(e,t){const[o,i]=(0,n.useReducer)(e,t),l=(0,n.useRef)([]),a=(0,n.useRef)([]),c=(0,n.useRef)(o),d=(0,n.useCallback)((()=>c.current),[]);(0,n.useEffect)((()=>{s()(o,c.current)||(c.current=r(o))}),[o]);const u=(0,n.useCallback)((e=>{l.current=a.current.slice();const t=l.current.slice();for(const o of t)o({action:e})}),[]),_=(0,n.useCallback)((()=>{a.current===l.current&&(a.current=l.current.slice())}),[]),h=(0,n.useCallback)((e=>{let t=!0;return _(),a.current=[...a.current.slice(),e],()=>{if(!t)return;t=!1,_();const o=a.current.indexOf(e);a.current=a.current.filter(((e,t)=>t!==o)),l.current=[]}}),[_]),p=(0,n.useCallback)(((e,t=s())=>{const o=()=>e(d());let n=r(o());return e=>({action:i})=>{const s=r(o());if(!t(n,s)){const t=n;n=s,e({action:i,state:s,prevState:t})}}}),[d]),m=(0,n.useCallback)((e=>{i(e),setTimeout((()=>u(e)),0)}),[i,u]);return(0,n.useMemo)((()=>({state:o,dispatch:m,watchChanges:p,subscribe:h,getState:d})),[o,m,p,h,d])}(t,o());return(0,l.jsx)(i.Provider,{value:a,children:e})},d=({children:e})=>{const t=(0,n.useContext)(i);if(void 0===t)throw new Error(`${a}Consumer must be used within a ${a}Provider.`);return e(t)};return c.displayName=`${a}Provider`,d.displayName=`${a}Consumer`,{Provider:c,Consumer:d,useStateStoreContext:()=>{const e=(0,n.useContext)(i);if(!e)throw new Error(`use${a} must be used within a ${a}Provider.`);return e}}}},497020:(e,t,o)=>{o.d(t,{Bc:()=>v,Di:()=>A,Dy:()=>m,Hc:()=>x,I5:()=>E,Qv:()=>c,Sx:()=>I,Vn:()=>w,Yy:()=>h,bD:()=>y,bQ:()=>a,d9:()=>C,f7:()=>d,gP:()=>j,h$:()=>b,hW:()=>_,p6:()=>p,qH:()=>f,v6:()=>g});var n=o(66699),i=o(183051),s=(o(883119),o(981930)),r=o(451820),l=o(488177);const a=({feedProfile:e,workflows:t})=>{if(t.length){var o;const n=t[0].workflowStatus,i=l.EF.includes(n);return n===l.qN.DISAPPROVED?l.yn.DISABLED:(null==e?void 0:e.feedStatus)===l.Hm.INACTIVE?l.yn.PAUSED:n===l.qN.UNDER_REVIEW||n===l.qN.UNDER_APPEAL||i&&(null==e||null===(o=e.lastSuccessfulIngestion)||void 0===o?void 0:o.workflowStatus)!==l.qN.COMPLETED?l.yn.PENDING:null!=e&&e.lastSuccessfulIngestion?l.yn.ACTIVE:l.yn.INACTIVE}return null},c=(e,t=null)=>0===e&&(t===s.$o.PENDING||t===s.$o.APPEAL_PENDING),d=e=>({[l.yn.PENDING]:{color:"subtle",icon:"workflow-status-unstarted",text:e._('Pending', 'catalogs.dataSource.UnderReviewStatus', '[Catalogs] The data source is under review')},[l.yn.ACTIVE]:{color:"success",icon:"workflow-status-in-progress",text:e._('Active', 'catalogs.dataSource.ActiveStatus', '[Catalogs] The feed has ingested successfully.')},[l.yn.PAUSED]:{color:"subtle",icon:"workflow-status-halted",text:e._('Paused', 'catalogs.dataSource.PausedStatus', '[Catalogs] The daily feed ingestion processes are paused and will not refresh')},[l.yn.DISABLED]:{color:"error",icon:"workflow-status-problem",text:e._('Disabled', 'catalogs.dataSource.DisabledStatus', '[Catalogs] The feed has been disapproved by our review team.')},[l.yn.INACTIVE]:{color:"error",icon:"workflow-status-problem",text:e._('Inactive', 'catalogs.dataSource.InactiveStatus', '[Catalogs] The feed has not completed ingestion successfully and needs to be corrected')}}),u={SHOPIFY:"Shopify",WOOCOMMERCE:"WooCommerce"},_=(e,t,o)=>{if(o&&o in u)return u[o];if(!t)return e._('-', 'catalogs.dataSource.noFileName', '[Catalogs] no data source file name');const n=t.split("/");if(1===n.length)return t;const i=n.pop();return i.length>15?"../"+i.slice(i.length-15):"../"+i},h=(e,t,o,i,s)=>`${(0,n.Z)(i.ngettext('{{ count }} error', '{{ count }} errors', t, ' - ', ' -- '),{count:s(e,t)})} | ${(0,n.Z)(i.ngettext('{{ count }} alert', '{{ count }} alerts', o, ' - ', ' -- '),{count:s(e,o)})}`,p=(e,t,o,n)=>o.toDateString()===t.toDateString()?n._('Today', 'catalogs.dataSources.dateAttribute', 'Date represents today in local timezone'):(0,r.Z)(e,t,r.k.NUMERIC),m=(e,t)=>{if(!e)return"-";const o=t[e]||e;return o.length>17?o.substring(0,14)+"...":o},g=e=>({...e.validationStatsWarnings,...e.ingestionStatsWarnings}),f=e=>({...e.validationStatsErrors,...e.ingestionStatsErrors}),x=e=>({warningStats:g(e),errorStats:f(e),downloadUrl:e.s3ValidationUrl,s3SourceUrl:e.s3SourceUrl,successCount:e.productCount,workflowStatus:e.workflowStatus,disapprovalReasons:e.disapprovalReasons||[]}),b=(e,t)=>Object.keys(e).length>0||Object.keys(t).length>0,v=e=>({id:e.id,url:e.url,format:e.format,defaultCurrency:e.defaultCurrency,defaultAvailability:"None"===e.defaultAvailability?null:e.defaultAvailability,credential:e.credential,feedStatus:e.feedStatus,feedPreferredScheduleTime:e.feedPreferredScheduleTime,feedPreferredScheduleTimezone:e.feedPreferredScheduleTimezone,locale:e.locale,country:e.country,feedProfileName:e.feedProfileName});function y(e){return e.filter((({workflowStatus:e})=>e===l.qN.COMPLETED||e===l.qN.COMPLETED_EARLY)).some((e=>Object.values(l.N7).some((t=>e[t]&&0!==e[t]))))}function P(e){const t="128",o="1008";return Object.keys(e).every((e=>[t,o].includes(e)))}function w(e,t){return P(t)&&0===Object.keys(e).length||P(t)&&!function(e){return Object.keys(e).some((e=>(0,i.C)().includes(e)))}(e)}function A(e){const{feed_format:t,feed_default_currency:o,default_availability_type:n,id:i,location_config:s,feed_username:r,feed_has_password:l,feed_status:a,preferred_schedule:c,locale:d,country:u,display_name:_,last_successful_ingestion:h,all_products_pg_item_count:p,integration_platform_type:m,created_at:g,domain:f}=e||{};return{id:i,url:s?s.full_feed_fetch_location:"",format:t,defaultCurrency:o,defaultAvailability:n,feedStatus:a,feedPreferredScheduleTime:c?c.time:void 0,feedPreferredScheduleTimezone:c?c.timezone:void 0,feedProfileName:_,integrationPlatformType:m,locale:d,country:u,credential:{username:r,hasPassword:l},lastSuccessfulIngestion:(x=h,x?{workflowStatus:x.workflow_status,workflowId:x.feed_fetch_workflow_id,productCount:x.product_count,inStockProductCount:x.in_stock_product_count,outOfStockProductCount:x.out_of_stock_product_count,preorderProductCount:x.preorder_product_count,originalProductCount:x.original_product_count,dateModified:x.created_at,originalUrl:x.original_url,s3SourceUrl:x.s3_source_url,s3ValidationUrl:x.s3_validation_url,validationStatsWarnings:x.validation_stats_warnings||{},validationStatsErrors:x.validation_stats_errors||{},ingestionStatsWarnings:x.ingestion_stats_warnings||{},ingestionStatsErrors:x.ingestion_stats_errors||{},ingestionStatsInfo:x.ingestion_stats_info||{},lastSuccessfulWorkflowId:x.last_successful_workflow_id}:null),allProductsPGItemCount:p,createdAt:g,domain:f};var x}function C(e){return(e||[]).map((e=>A(e)))}function j(e,t){return!!(e.id&&t.id?e.id===t.id:e.feedProfileName&&t.feedProfileName&&e.feedProfileName===t.feedProfileName)}function E(e,t){return e.find((e=>j(t,e)))}const S=(e,t)=>({[l.ul.IN_STOCK]:t._('in stock', 'Catalogs.DataSource.feedProfileAvailabilyType.inStock', 'Feed profile in stock availability type'),[l.ul.OUT_OF_STOCK]:t._('out of stock', 'Catalogs.DataSource.feedProfileAvailabilyType.outOfStock', 'Feed profile out of stock availability type'),[l.ul.PREORDER]:t._('preorder', 'Catalogs.DataSource.feedProfileAvailabilyType.preorder', 'Feed profile preorder availability type')}[e]),I=e=>[{value:"UNAVAILABLE",label:e._('NONE', 'Catalogs.DataSource.feedProfileAvailabilyType.none', 'Feed profile no availability type')},...Object.keys(l.ul).map((t=>{var o;return{value:t,label:(null!==(o=S(l.ul[t],e))&&void 0!==o?o:e._('Unknown Type', 'Catalogs.DataSource.feedProfileAvailabilyType.Unknown', 'Unknown availability type.')).toUpperCase()}}))]},677581:(e,t,o)=>{o.d(t,{O:()=>P,ZP:()=>w,rS:()=>A});var n=o(667294),i=o(294184),s=o.n(i),r=o(6637),l=o(66699),a=o(319825),c=o(933543),d=o(487392),u=o(708032),_=o(139195),h=o(407043),p=o(529590),m=o(276775),g=o(898781),f=o(36675),x=o(306732),b=o(400264),v=o(883119),y=o(785893);const P=(e,t)=>{switch(e){case x.EK.MAX_GROUPS_FEATURED:return(0,l.Z)(t._('No more than {{maxFeaturedPGs}} product groups can be featured', 'ProductGroupTableFeatureCell.Flyout.maxGroupsFeatured', 'Tootip text saying you can\'t feature that group. maxFeaturedPGs: Maximum featured product groups limit'),{maxFeaturedPGs:`${f.Bm}`});case x.EK.TOO_MANY_PRODUCTS:return t._('Product groups with more than 500 items can\'t be featured', 'ProductGroupTableFeatureCell.Flyout.tooManyProducts', '[Catalogs] a tootip saying you can\'t feature that group');case x.EK.TOO_FEW_PRODUCTS:return(0,l.Z)(t._('Product groups with less than {{minPGPinLimit}} items can\'t be featured', 'ProductGroupTableFeatureCell.Flyout.tooFewProducts', 'Tootip saying you can\'t feature that group. minPGPinLimit: Minimum product group pin limit'),{minPGPinLimit:`${f.AC}`});case x.EK.TOO_FEW_UNIQUE_PRODUCTS:return(0,l.Z)(t._('To feature this product group, make sure it contains at least {{minPGPinLimit}} in stock items. Product group changes may take up to 24 hours to appear in Catalogs.', 'ProductGroupTableFeatureCell.Flyout.tooFewUniqueProducts', 'Tootip saying you can\'t feature that group. minPGPinLimit: Minimum product group pin limit'),{minPGPinLimit:`${f.AC}`});default:return""}};function w({productGroup:{id:e,featureStatus:t,featuredPosition:o},onFeaturedButtonClick:i,enableFeaturedButton:r=!1}){const{logContextEvent:l}=(0,h.v)(),d=(0,g.ZP)(),[u,_]=(0,n.useState)(!1),p=(0,n.useRef)(),m=null!=o,f=t===x.EK.FEATURING,b=t===x.EK.FEATURED,w=t===x.EK.CAN_FEATURE,A=b||!m&&f,C=P(t,d),j=(0,y.jsx)(c.Z,{cardId:e,children:(0,y.jsx)(v.hU,{accessibilityLabel:A?d._('Featured product group', 'ProductGroupTableFeatureCell.IconButton.featured', 'accessibility text for featured icon button'):d._('Feature product group', 'ProductGroupTableFeatureCell.IconButton.feature', 'accessibility text for feature icon button'),icon:"star",size:"lg",iconColor:b?"darkGray":"gray",onClick:()=>{l({event_type:101,view_type:236,view_parameter:3248,component:13331,element:12205}),i&&i(e)},disabled:!r||f})});return(0,y.jsxs)(n.Fragment,{children:[w||f||b?(0,y.jsx)("div",{className:s()("pg-feature-button",{"is-featured":A}),"data-test-id":"product-group-feature-button",children:r&&!f?(0,y.jsx)(v.u,{inline:!0,idealDirection:"down",text:A?d._('Featured', 'catalogs.productGroups.ProductGroupTableFeatureCell.FeaturedTooltipText', 'Tooltip for featured product group button'):d._('Feature', 'catalogs.productGroups.ProductGroupTableFeatureCell.FeatureTooltipText', 'Tooltip for feature product group button'),children:j}):(0,y.jsx)(a.Z,{id:"feature-cell",type:"rect",animation:"pulse",color:"transparent",hideChildren:!1,children:j})}):(0,y.jsx)(v.xu,{position:"relative",onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1),ref:p,children:(0,y.jsx)(v.Sj,{icon:"alert",size:"lg",iconColor:"gray"})}),u&&C&&(0,y.jsx)(v.mh,{zIndex:new v.Ry(50),children:(0,y.jsx)(v.J2,{anchor:p.current,color:"red",onDismiss:()=>{},size:"md",idealDirection:"left",positionRelativeToAnchor:!1,children:(0,y.jsx)(v.xu,{padding:3,children:(0,y.jsx)(v.xv,{color:"inverse",weight:"bold",children:C})})})})]})}function A({id:e,onFeaturedPgError:t}){const{logContextEvent:o}=(0,h.v)(),i=(0,g.ZP)(),[l,f]=(0,n.useState)(!1),[w,A]=(0,n.useState)(!0),[C,j]=(0,n.useState)(!1),E=(0,n.useRef)(),{state:{batchProductGroupsMap:S,featuredProductGroupsSet:I},dispatch:T}=(0,p.n)(),{advertiserId:z,merchantId:k}=(0,d.Z)(),{params:{feed_profile_id:D}}=(0,m.$B)();(0,n.useEffect)((()=>{if(!S)return()=>{};const e=setTimeout((()=>{A(!1)}),x.iu);return()=>{clearTimeout(e)}}),[S,A]);const{isLoaded:R,data:O,refresh:L}=(0,b.G7)({advertiserId:z,feedProfileId:D,productGroupsIds:(null==S?void 0:S[e])||[e]},w),B=null==O?void 0:O.find((t=>t.id===String(e))),M=B&&B.featured_position,F=R?(0,u._c)(O||[],String(e),""):"",N=null!=M,Z=(null==I?void 0:I.has(String(e)))||F===x.EK.FEATURED;(0,n.useEffect)((()=>{I&&(I.has(String(e))&&F!==x.EK.FEATURED||!I.has(String(e))&&F===x.EK.FEATURED)&&(L(),j(!1))}),[I,L,F,e]);const U=F===x.EK.CAN_FEATURE,G=P(F,i),H=(0,y.jsx)(c.Z,{cardId:e,children:(0,y.jsx)(v.hU,{accessibilityLabel:Z?i._('Featured product group', 'ProductGroupTableFeatureCell.IconButton.featured', 'accessibility text for featured icon button'):i._('Feature product group', 'ProductGroupTableFeatureCell.IconButton.feature', 'accessibility text for feature icon button'),icon:"star",size:"lg",iconColor:Z?"darkGray":"gray",onClick:()=>{o({event_type:101,view_type:236,view_parameter:3248,component:13331,element:12205});const n=r.Z.create("FeaturedProductGroupsResource",{productGroupId:e,advertiserId:z,merchantId:k,feedProfileId:D}),i=Z?n.callDelete():n.callCreate();j(!0),i.then((()=>{T((0,_.Oh)({featuringProductGroupIds:Z?[]:[String(e)],unFeaturingProductGroupIds:Z?[String(e)]:[]}))})).catch((()=>{t(),j(!1)}))},disabled:!(R||I)||C})});return(0,y.jsxs)(n.Fragment,{children:[U||Z||N||C||!R?(0,y.jsx)("div",{className:s()("pg-feature-button",{"is-featured":Z}),"data-test-id":"product-group-feature-button",children:!R&&!I||C?(0,y.jsx)(a.Z,{id:"feature-cell",type:"rect",animation:"pulse",color:"transparent",hideChildren:!1,children:H}):(0,y.jsx)(v.u,{inline:!0,idealDirection:"down",text:Z?i._('Featured', 'catalogs.productGroups.ProductGroupTableFeatureCell.FeaturedTooltipText', 'Tooltip for featured product group button'):i._('Feature', 'catalogs.productGroups.ProductGroupTableFeatureCell.FeatureTooltipText', 'Tooltip for feature product group button'),children:H})}):(0,y.jsx)(v.xu,{position:"relative",onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),ref:E,children:(0,y.jsx)(v.Sj,{icon:"alert",size:"lg",iconColor:"gray"})}),l&&G&&(0,y.jsx)(v.mh,{zIndex:new v.Ry(50),children:(0,y.jsx)(v.J2,{anchor:E.current,color:"red",onDismiss:()=>{},size:"md",idealDirection:"left",positionRelativeToAnchor:!1,children:(0,y.jsx)(v.xu,{padding:3,children:(0,y.jsx)(v.xv,{color:"inverse",weight:"bold",children:G})})})})]})}},933543:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(667294),i=o(669381),s=o(785893);const r=e=>{const t=e=>e.stopPropagation();return Array.isArray(e)?e.reduce(((e,o)=>({...e,[o]:t})),{}):{[e]:t}};function l({cardId:e,children:t}){const{setIsHoveringCard:o}=(0,i.a)(),l=n.Children.only(t);return(0,s.jsx)("div",{...r(["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseMove","onMouseOver","onMouseOut","onMouseUp","onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onInvalid","onSubmit"]),onMouseEnter:()=>{o(null)},onMouseLeave:()=>{o(e)},style:{display:"inline-block"},children:l})}},306732:(e,t,o)=>{o.d(t,{Be:()=>a,CN:()=>Y,DD:()=>A,EK:()=>c,Eo:()=>m,F$:()=>K,HK:()=>te,KO:()=>k,MD:()=>O,MU:()=>L,PD:()=>M,QE:()=>j,R0:()=>Q,Tj:()=>x,V0:()=>f,Vw:()=>$,WH:()=>z,XT:()=>y,Y3:()=>u,aF:()=>N,bS:()=>g,cU:()=>C,cm:()=>U,d0:()=>w,eu:()=>p,g2:()=>E,gd:()=>S,gw:()=>W,h8:()=>r,hL:()=>I,hh:()=>P,iu:()=>J,j1:()=>F,k7:()=>ee,kc:()=>h,kl:()=>_,kq:()=>Z,l5:()=>b,pF:()=>B,pM:()=>D,pV:()=>v,ps:()=>l,q9:()=>d,qB:()=>V,r2:()=>q,rC:()=>R,rD:()=>ie,t7:()=>ne,ul:()=>s,vr:()=>oe,wZ:()=>H,yA:()=>G,yq:()=>T,zq:()=>X});var n=o(225643),i=o(808683);const s={IN_STOCK:"in stock",OUT_OF_STOCK:"out of stock",PREORDER:"preorder"},r={NEW:"new",USED:"used",REFURBISHED:"refurbished"},l={MALE:"male",FEMALE:"female",UNISEX:"unisex"},a={[i.CatalogProductGroupType.ALL_PRODUCTS]:"All Products",[i.CatalogProductGroupType.BEST_DEALS]:"Best Deals",[i.CatalogProductGroupType.PINNER_FAVORITES]:"Most Popular",[i.CatalogProductGroupType.TOP_SELLERS]:"Top Sellers",[i.CatalogProductGroupType.BACK_IN_STOCK]:"Back In Stock",[i.CatalogProductGroupType.NEW_ARRIVALS]:"New Arrivals"},c={FEATURED:"FEATURED",CAN_FEATURE:"CAN_FEATURE",FEATURING:"FEATURING",NO_FILTERS:"NO_FILTERS",TOO_FEW_PRODUCTS:"TOO_FEW_PRODUCTS",TOO_FEW_UNIQUE_PRODUCTS:"TOO_FEW_UNIQUE_PRODUCTS",TOO_MANY_PRODUCTS:"TOO_MANY_PRODUCTS",MAX_GROUPS_FEATURED:"MAX_GROUPS_FEATURED",UNFEATUREABLE:"UNFEATUREABLE"},d=[i.CatalogProductGroupType.ALL_PRODUCTS,i.CatalogProductGroupType.BEST_DEALS,i.CatalogProductGroupType.PINNER_FAVORITES,i.CatalogProductGroupType.TOP_SELLERS,i.CatalogProductGroupType.BACK_IN_STOCK,i.CatalogProductGroupType.NEW_ARRIVALS,i.CatalogProductGroupType.SHOPIFY_COLLECTIONS,i.CatalogProductGroupType.I2PC],u=[i.CatalogProductGroupType.ALL_PRODUCTS,i.CatalogProductGroupType.BEST_DEALS,i.CatalogProductGroupType.PINNER_FAVORITES,i.CatalogProductGroupType.TOP_SELLERS,i.CatalogProductGroupType.BACK_IN_STOCK,i.CatalogProductGroupType.NEW_ARRIVALS,i.CatalogProductGroupType.I2PC],_=[i.CatalogProductGroupType.ALL_PRODUCTS,i.CatalogProductGroupType.BEST_DEALS,i.CatalogProductGroupType.PINNER_FAVORITES,i.CatalogProductGroupType.TOP_SELLERS,i.CatalogProductGroupType.BACK_IN_STOCK,i.CatalogProductGroupType.NEW_ARRIVALS,i.CatalogProductGroupType.SHOPIFY_COLLECTIONS,i.CatalogProductGroupType.MERCHANT_CREATED,i.CatalogProductGroupType.I2PC],h=90,p=350,m=72,g=450,f=200,x=12,b=114,v={MERCHANT_CREATED:"MERCHANT_CREATED",ALL_PRODUCTS:"ALL_PRODUCTS"},y={FEATUREABLE:1,UNFEATUREABLE_NOT_ENOUGH_PINS:2,UNFEATUREABLE_NOT_ENOUGH_UNIQUE_PINS:3,UNFEATUREABLE_EXCEEDED_PINS_LIMIT:4},P={ITEM_ID:"Item ID",PRODUCT_CATEGORY:"Category",PRODUCT_TYPE:"Product type",BRANDS:"Brands",COST:"Cost",CUSTOM_LABEL:"Custom",CUSTOM_LABEL_0:"Custom label 0",CUSTOM_LABEL_1:"Custom label 1",CUSTOM_LABEL_2:"Custom label 2",CUSTOM_LABEL_3:"Custom label 3",CUSTOM_LABEL_4:"Custom label 4",AVAILABILITY:"Availability",PRICE:"Price",GENDER:"Gender",CONDITION:"Condition",CURRENCY:"Currency",ITEM_GROUP_ID:"Item group ID"},w=[P.PRODUCT_CATEGORY,P.PRODUCT_TYPE,P.BRANDS,P.CUSTOM_LABEL_0,P.CUSTOM_LABEL_1,P.CUSTOM_LABEL_2,P.CUSTOM_LABEL_3,P.CUSTOM_LABEL_4],A={[P.ITEM_ID]:["ITEM_ID"],[P.ITEM_GROUP_ID]:["ITEM_GROUP_ID"],[P.PRODUCT_CATEGORY]:["GOOGLE_PRODUCT_CATEGORY_0"],[P.PRODUCT_TYPE]:["PRODUCT_TYPE_0"],[P.COST]:["MIN_PRICE","MAX_PRICE"],[P.BRANDS]:["BRAND"],[P.CUSTOM_LABEL]:["CUSTOM_LABEL_0","CUSTOM_LABEL_1","CUSTOM_LABEL_2","CUSTOM_LABEL_3","CUSTOM_LABEL_4"],[P.AVAILABILITY]:["AVAILABILITY"],[P.CONDITION]:["CONDITION"],[P.GENDER]:["GENDER"]},C=[P.CUSTOM_LABEL,P.COST,P.CURRENCY],j={[n.AvailabilityType.IN_STOCK]:s.IN_STOCK,[n.AvailabilityType.OUT_OF_STOCK]:s.OUT_OF_STOCK,[n.AvailabilityType.PREORDER]:s.PREORDER},E={[n.ConditionType.NEW]:r.NEW,[n.ConditionType.USED]:r.USED,[n.ConditionType.REFURBISHED]:r.REFURBISHED},S={[n.GenderType.MALE]:l.MALE,[n.GenderType.FEMALE]:l.FEMALE,[n.GenderType.UNISEX]:l.UNISEX},I={[i.CatalogProductGroupFilterKey.ITEM_ID]:P.ITEM_ID,[i.CatalogProductGroupFilterKey.GOOGLE_PRODUCT_CATEGORY_0]:P.PRODUCT_CATEGORY,[i.CatalogProductGroupFilterKey.PRODUCT_TYPE_0]:P.PRODUCT_TYPE,[i.CatalogProductGroupFilterKey.BRAND]:P.BRANDS,[i.CatalogProductGroupFilterKey.AVAILABILITY]:P.AVAILABILITY,[i.CatalogProductGroupFilterKey.CUSTOM_LABEL_0]:P.CUSTOM_LABEL_0,[i.CatalogProductGroupFilterKey.CUSTOM_LABEL_1]:P.CUSTOM_LABEL_1,[i.CatalogProductGroupFilterKey.CUSTOM_LABEL_2]:P.CUSTOM_LABEL_2,[i.CatalogProductGroupFilterKey.CUSTOM_LABEL_3]:P.CUSTOM_LABEL_3,[i.CatalogProductGroupFilterKey.CUSTOM_LABEL_4]:P.CUSTOM_LABEL_4,[i.CatalogProductGroupFilterKey.CONDITION]:P.CONDITION,[i.CatalogProductGroupFilterKey.GENDER]:P.GENDER,[i.CatalogProductGroupFilterKey.MIN_PRICE]:P.PRICE,[i.CatalogProductGroupFilterKey.MAX_PRICE]:P.PRICE,[i.CatalogProductGroupFilterKey.CURRENCY]:P.CURRENCY,[i.CatalogProductGroupFilterKey.ITEM_GROUP_ID]:P.ITEM_GROUP_ID},T={[P.ITEM_ID]:i.CatalogProductGroupFilterKey.ITEM_ID,[P.PRODUCT_CATEGORY]:i.CatalogProductGroupFilterKey.GOOGLE_PRODUCT_CATEGORY_0,[P.PRODUCT_TYPE]:i.CatalogProductGroupFilterKey.PRODUCT_TYPE_0,[P.BRANDS]:i.CatalogProductGroupFilterKey.BRAND,[P.AVAILABILITY]:i.CatalogProductGroupFilterKey.AVAILABILITY,[P.CUSTOM_LABEL_0]:i.CatalogProductGroupFilterKey.CUSTOM_LABEL_0,[P.CUSTOM_LABEL_1]:i.CatalogProductGroupFilterKey.CUSTOM_LABEL_1,[P.CUSTOM_LABEL_2]:i.CatalogProductGroupFilterKey.CUSTOM_LABEL_2,[P.CUSTOM_LABEL_3]:i.CatalogProductGroupFilterKey.CUSTOM_LABEL_3,[P.CUSTOM_LABEL_4]:i.CatalogProductGroupFilterKey.CUSTOM_LABEL_4,[P.CONDITION]:i.CatalogProductGroupFilterKey.CONDITION,[P.GENDER]:i.CatalogProductGroupFilterKey.GENDER,[P.PRICE]:i.CatalogProductGroupFilterKey.MAX_PRICE,[P.CURRENCY]:i.CatalogProductGroupFilterKey.CURRENCY,[P.ITEM_GROUP_ID]:i.CatalogProductGroupFilterKey.ITEM_GROUP_ID},z={GREATER_INCLUSION:"0",GREATER_EXCLUSION:"1",LESS_INCLUSION:"2",LESS_EXCLUSION:"3"},k={[z.GREATER_EXCLUSION]:{filterType:i.CatalogProductGroupFilterKey.MIN_PRICE,filterOperator:{negated:!1,inclusion:!1}},[z.GREATER_INCLUSION]:{filterType:i.CatalogProductGroupFilterKey.MIN_PRICE,filterOperator:{negated:!1,inclusion:!0}},[z.LESS_EXCLUSION]:{filterType:i.CatalogProductGroupFilterKey.MAX_PRICE,filterOperator:{negated:!1,inclusion:!1}},[z.LESS_INCLUSION]:{filterType:i.CatalogProductGroupFilterKey.MAX_PRICE,filterOperator:{negated:!1,inclusion:!0}}},D="newlyCreatedPGId",R="storefront",O={campaignId:"createNewCampaign",objectiveType:"CATALOG_SALES",absolutify:!0},L=163,B=350,M={LIST:"LIST",GRID:"GRID"},F="236x",N=50,Z="calc(100vh - 277px)",U="calc(100vh - 175px)",G=75,H=200,V=40,W=127,$=", ",Y=/[\t\n,]+/,K=/[^\t\n,]+/gi,q=/^[\s]+$/,X=/[^\S\t\n]+/,Q={PRODUCT_GROUP_NAME:"PRODUCT_GROUP_NAME",PRODUCT_COUNT:"PRODUCT_COUNT",PRODUCT_AVAILABILITY:"PRODUCT_AVAILABILITY",LAST_UPDATE:"LAST_UPDATE",PRODUCT_GROUP_PROMOTED:"PRODUCT_GROUP_PROMOTED",PRODUCT_GROUP_FEATURED:"PRODUCT_GROUP_FEATURED",PRODUCT_GROUP_ACTIONS:"PRODUCT_GROUP_ACTIONS",PG_METRIC:"PG_METRIC"},J=500,ee=20,te=40,oe=100,ne=4,ie={DELETE_FAILED:"DELETE_FAILED",DELETE_SUCCESSFULLY:"DELETE_SUCCESSFULLY",REMOVE_SUCCESSFULLY:"REMOVE_SUCCESSFULLY"}},529590:(e,t,o)=>{o.d(t,{a:()=>r,n:()=>l});var n=o(699639),i=(o(667294),o(139195));const s=()=>({productGroupsCountMap:{},featuredProductGroupsSet:null,batchProductGroupsMap:null,batchSideSheetProductGroupsMap:null});const{Provider:r,useStateStoreContext:l}=(0,n.Z)("ProductGroups",((e,t)=>{switch(t.type){case i.N9.BATCH_PRODUCT_GROUPS:return((e,t)=>({...e,batchProductGroupsMap:{...t.payload}}))(e,t);case i.N9.BATCH_SIDE_SHEET_PRODUCT_GROUPS:return((e,t)=>({...e,batchSideSheetProductGroupsMap:{...t.payload}}))(e,t);case i.N9.UPDATE_PRODUCT_COUNT:return((e,t)=>({...e,productGroupsCountMap:{...e.productGroupsCountMap,[t.payload.id]:t.payload.count}}))(e,t);case i.N9.UPDATE_FEATURED_PRODUCT_GROUP_SET:return((e,{payload:{featuringProductGroupIds:t,unFeaturingProductGroupIds:o}})=>{const n=new Set(e.featuredProductGroupsSet);return t.forEach((e=>n.add(e))),o.forEach((e=>n.delete(e))),{...e,featuredProductGroupsSet:n}})(e,t);default:return e}}),s)},669381:(e,t,o)=>{o.d(t,{a:()=>s,w:()=>i});var n=o(425288);const{Provider:i,useHook:s}=(0,n.Z)("ProductGroupsTable")},708032:(e,t,o)=>{o.d(t,{I3:()=>c,Kk:()=>r,_c:()=>a});var n=o(36675),i=o(306732);const s=e=>(e||[]).filter((e=>void 0!==e.featured_position&&null!==e.featured_position)).map((e=>({...e,featured:!0}))),r=(e,t)=>(e=>s(e).map((e=>e.id.toString())))(e).includes(t.toString()),l=(e,t)=>(e||[]).find((({id:e})=>e.toString()===t))||null,a=(e,t,o)=>{const a=s(e).filter((e=>e.group_type===i.pV.MERCHANT_CREATED)).length,c=((e,t)=>{const o=l(e,t);return o&&o.featureable_status&&o.featureable_status.code?o.featureable_status.code:i.XT.FEATUREABLE})(e,t);return o===t?i.EK.FEATURING:r(e,t)?i.EK.FEATURED:c===i.XT.UNFEATUREABLE_NOT_ENOUGH_PINS?i.EK.TOO_FEW_PRODUCTS:c===i.XT.UNFEATUREABLE_NOT_ENOUGH_UNIQUE_PINS?i.EK.TOO_FEW_UNIQUE_PRODUCTS:c===i.XT.UNFEATUREABLE_EXCEEDED_PINS_LIMIT?i.EK.TOO_MANY_PRODUCTS:a>=n.Bm?i.EK.MAX_GROUPS_FEATURED:i.EK.CAN_FEATURE},c=(e,t,o,n,i)=>t.map((t=>{const s=t.id.toString(),r=l(e,s),c=a(e,s,o||"");return{id:t.id.toString(),name:t.name,lastUpdate:t.last_update,createdAt:t.created_at,productCount:t.product_count?Number(t.product_count):0,type:t.type,featuredPosition:null==r?void 0:r.featured_position,featureStatus:c,promotedStatus:"",previewPins:null==r?void 0:r.preview_pins,filters:t.filters,filter_v2:t.filter_v2,promoted:!!n.find((({catalog_product_group_id:e})=>e===t.id.toString())),promotedButNotAccessible:!!i.includes(t.id),sourceId:t.source_id}}))},400264:(e,t,o)=>{o.d(t,{G7:()=>c,Lp:()=>d,Ib:()=>a});var n=o(667294),i=o(898781),s=o(784590),r=o(306732),l=o(808683);function a(e={},t=!1,o=!1){const a=(0,i.ZP)(),c=(0,s.Z)({name:"ProductGroupsResource",options:e,dangerouslyDisableFetch:t,enabledRouteRefresh:!0,noCache:o}),d=(0,n.useMemo)((()=>c.data&&c.isLoaded?c.data.map((e=>(e.name===r.Be[Number(e.type)]&&(Number(e.type)===l.CatalogProductGroupType.ALL_PRODUCTS?e.name=a._('All Products', 'catalogs.productGroup.name.allProducts', 'Product group name All Products'):Number(e.type)===l.CatalogProductGroupType.BEST_DEALS?e.name=a._('Best Deals', 'catalogs.productGroup.name.bestDeals', 'Product group name Best Deals'):Number(e.type)===l.CatalogProductGroupType.PINNER_FAVORITES?e.name=a._('Most Popular', 'catalogs.productGroup.name.mostPopular', 'Product group name Most Popular'):Number(e.type)===l.CatalogProductGroupType.TOP_SELLERS?e.name=a._('Top Sellers', 'catalogs.productGroup.name.topSellers', 'Product group name Top Sellers'):Number(e.type)===l.CatalogProductGroupType.BACK_IN_STOCK?e.name=a._('Back In Stock', 'catalogs.productGroup.name.inStock', 'Product group name In Stock'):Number(e.type)===l.CatalogProductGroupType.NEW_ARRIVALS&&(e.name=a._('New Arrivals', 'catalogs.productGroup.name.newArrivals', 'Product group name New Arrivals'))),e))):[]),[a,c.data,c.isLoaded]);return{...c,data:d}}function c(e={},t=!1){const o=(0,s.Z)({name:"FeaturedProductGroupsResource",enabledRouteRefresh:!0,options:e,dangerouslyDisableFetch:t});return(0,n.useEffect)((()=>{o.isAtEnd||o.fetchMore()}),[o.nextBookmark]),{...o,data:o&&o.data||[]}}function d(e={}){const t=(0,s.Z)({name:"ProductGroupFilterResource",options:e,enabledRouteRefresh:!0});return{...t,data:t&&t.data||{}}}},139195:(e,t,o)=>{o.d(t,{N9:()=>n,Oh:()=>l,b0:()=>i,qu:()=>r,sT:()=>s});const n={BATCH_PRODUCT_GROUPS:"batchProductGroups",BATCH_SIDE_SHEET_PRODUCT_GROUPS:"batchSideSheetProductGroups",UPDATE_PRODUCT_COUNT:"updateProductGroupCount",UPDATE_FEATURED_PRODUCT_GROUP_SET:"updateFeaturedProductGroupSet"},i=e=>({type:n.BATCH_PRODUCT_GROUPS,payload:e}),s=e=>({type:n.BATCH_SIDE_SHEET_PRODUCT_GROUPS,payload:e}),r=({id:e,count:t})=>({type:n.UPDATE_PRODUCT_COUNT,payload:{id:e,count:t}}),l=e=>({type:n.UPDATE_FEATURED_PRODUCT_GROUP_SET,payload:e})},845772:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(717615),i=o(19121),s=o(231947);const r=()=>{const e=(0,i.Z)(),t=(0,n.Z)();return(0,s.lJ)(e,t)}},439181:(e,t,o)=>{o.d(t,{N:()=>u,t:()=>_});var n=o(667294),i=o(904431),s=o(924196),r=o(332730),l=o(6637),a=o(425288),c=o(785893);const{Provider:d,useHook:u}=(0,a.Z)("LinkedAccount");function _({children:e}){const[t,o]=(0,n.useState)(!1),[a,u]=(0,n.useState)([]),_=(0,n.useCallback)((({businessName:e,thirdPartyApps:t,thirdPartyMarketingTrackingEnabled:n,nextUrl:a})=>{o(!0);const c={business_name:e,third_party_apps:t};return l.Z.create("BusinessOwnershipResource",c).callCreate({showError:!0}).then((()=>{n&&(i.Z.reportFacebookConversion(s.Z.FACEBOOK_ADVERTISER_ID,"CompleteRegistration",{content_name:"/business/convert"}),i.Z.reportPinterestConversion("track","lead",{lead_type:"Self-serve"}),i.Z.reportLinkedInConversion(s.Z.LINKEDIN_PARTNER_ID,s.Z.LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT),i.Z.reportGoogleConversion(s.Z.GOOGLE_ADWORDS_ID,s.Z.GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT)),o(!1),(e=>{(0,r.Z)(e?`/?next=${encodeURIComponent(e)}`:"/")})(a)})).catch((e=>(o(!1),Promise.reject({error:e}))))}),[o]),h=(0,n.useMemo)((()=>({createLinkedBusinessAccount:_,linkedBusinessCreationLoading:t,userAccounts:a,userAccountsRetrieved:u})),[_,t,u,a]);return(0,c.jsx)(d,{value:h,children:e})}},874934:(e,t,o)=>{o.d(t,{pb:()=>f,nf:()=>x,lV:()=>b});var n=o(667294),i=o(6637),s=o(618446),r=o.n(s),l=o(682492),a=o.n(l);const c={feature_map:Object.freeze({})},d=(e,t)=>{const o={...a()({},e,t),...t.content?{content:t.content}:Object.freeze({}),...t.reaction_counts?{reaction_counts:t.reaction_counts}:Object.freeze({}),...t.tags?{tags:t.tags}:Object.freeze({}),...t.tagged_users?{tagged_users:t.tagged_users}:Object.freeze({})};return r()(e,o)?e:o},u=(e=c,t)=>{if("FETCH_COMPLETE"===t.type){const{payload:{resource:o}}=t,n=t.payload.response.resource_response.data;if("AggregatedCommentFeedResource"===o||"AggregatedCommentReplyFeedResource"===o||"DidItCommentsResource"===o){const t=(n||[]).reduce(((t,o)=>(t[o.id]=d(e[o.id],o),t)),{});return{...e,...t}}if("UnifiedCommentsResource"===o&&n&&n.length>0){const t=n.filter((e=>"aggregatedcomment"===e.type)).reduce(((t,o)=>(t[o.id]=d(e[o.id],o),t)),{});return{...e,...t}}if("UnifiedCommentsPreviewResource"===o&&n&&n.length>0){const t=n[0].aggregated_comment,o=t?{[t.id]:d(e[t.id],t)}:{},i=n[0].creator_reply,s=i?{[i.id]:d(e[i.id],i)}:{};return{...e,...o,...s}}if("AggregatedCommentFeaturesResource"===o&&n&&Object.keys(n).length>0)return{...e,feature_map:n}}else{if("AGGREGATED_COMMENT_CREATED"===t.type){const{payload:{aggregatedComment:o}}=t;return o.id?{...e,[o.id]:o}:e}if("AGGREGATED_COMMENT_DELETED"===t.type||"AGGREGATED_COMMENT_HIDDEN"===t.type){const{payload:{aggregatedCommentId:o}}=t,n={...e};return delete n[o],n}if("AGGREGATED_COMMENT_HIDDEN_FOR_USER"===t.type){const{payload:{userId:o}}=t;return Object.fromEntries(Object.entries(e).filter((e=>{var t;return(null===(t=e[1].user)||void 0===t?void 0:t.id)!==o})))}if("AGGREGATED_COMMENT_UPDATED"===t.type){const{payload:{data:o}}=t;return{...e,[o.id]:d(e[o.id],o)}}if("AGGREGATED_COMMENT_LIKE_TOGGLED"===t.type){const{payload:{data:o}}=t,n=e[o.id],i=n.reaction_counts[1]||0,s={1:o.reaction_by_me?i+1:i-1},r={...n,reaction_by_me:o.reaction_by_me,reaction_counts:s};return{...e,[o.id]:r}}if("AGGREGATED_COMMENT_HELPFUL_TOGGLED"===t.type){const{payload:{data:o}}=t,n=e[o.id],i=n.helpful_count||0,s=o.marked_helpful_by_me?i+1:i-1,r={...n,marked_helpful_by_me:o.marked_helpful_by_me,helpful_count:s};return{...e,[o.id]:r}}if("AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED"===t.type){const{payload:{data:o}}=t,n={...e[o.aggregated_comment_id],highlighted_by_pin_owner:o.is_highlighted};return{...e,[o.aggregated_comment_id]:n}}if("AGGREGATED_COMMENT_FEATURES_UPDATED"===t.type){const{payload:{data:{featureMap:o}}}=t;return{...e,feature_map:{...e.feature_map,...o}}}if("UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT"===t.type){const{payload:{increment:o,id:n}}=t,i=e[n],s={...i,comment_count:i.comment_count+o};return{...e,[n]:s}}if("DELETE_COMMENT_MENTION"===t.type){const{payload:{aggregatedCommentId:o,tagged_users:n}}=t,i={...e[o],tagged_users:n};return{...e,[o]:i}}}return e};var _=o(425288),h=o(505920),p=o(785893);const{Provider:m,useHook:g}=(0,_.Z)("AggregatedComments");function f({children:e}){const[t,o]=(0,n.useReducer)(u,c),i=e=>{o({type:"FETCH_COMPLETE",payload:e})};(0,h.Z8)("AggregatedCommentFeaturesResource",i),(0,h.my)("AggregatedCommentFeaturesResource",i),(0,h.Z8)("AggregatedCommentFeedResource",i),(0,h.my)("AggregatedCommentFeedResource",i),(0,h.Z8)("AggregatedCommentReplyFeedResource",i),(0,h.my)("AggregatedCommentReplyFeedResource",i),(0,h.Z8)("DidItCommentsResource",i),(0,h.my)("DidItCommentsResource",i),(0,h.Z8)("UnifiedCommentsPreviewResource",i),(0,h.my)("UnifiedCommentsPreviewResource",i),(0,h.Z8)("UnifiedCommentsResource",i),(0,h.my)("UnifiedCommentsResource",i);const s=(0,n.useMemo)((()=>({aggregatedComments:t,dispatch:o})),[t,o]);return(0,p.jsx)(m,{value:s,children:e})}function x(){const{dispatch:e}=g();return(0,n.useMemo)((()=>({aggregatedCommentCreated(t,o){e({type:"AGGREGATED_COMMENT_CREATED",payload:{parentId:t,aggregatedComment:o}})},aggregatedCommentDeleted:(t,o)=>{e({type:"AGGREGATED_COMMENT_DELETED",payload:{parentId:t,aggregatedCommentId:o}})},aggregatedCommentHidden:t=>{e({type:"AGGREGATED_COMMENT_HIDDEN",payload:{aggregatedCommentId:t}})},aggregatedCommentsHiddenForUser:t=>{e({type:"AGGREGATED_COMMENT_HIDDEN_FOR_USER",payload:{userId:t}})},flagAggregatedComment:async({commentId:e,reason:t,detailedReasons:o})=>{const n={commentId:e,reason:t,detailedReasons:o};return i.Z.create("AggregatedCommentFlagResource",n).callCreate()},deleteCommentMention:async t=>{var o;const{resource_response:n}=await i.Z.create("MentionsResource",{aggregatedCommentId:t,field_set_key:"comment"}).callDelete(),s=null!==(o=null==n?void 0:n.data)&&void 0!==o?o:{};e({type:"DELETE_COMMENT_MENTION",payload:{aggregatedCommentId:s.id,tagged_users:s.tagged_users}})},toggleAggregatedCommentHelpful:({aggregatedCommentId:t,isMarkedHelpfulByMe:o})=>{const n=i.Z.create("HelpfulResource",{helpfulModelType:1,objectId:t});o?n.callDelete({showError:!1}):n.callCreate({showError:!1}),e({type:"AGGREGATED_COMMENT_HELPFUL_TOGGLED",payload:{data:{id:t,marked_helpful_by_me:!o}}})},toggleAggregatedCommentHighlight:({aggregatedCommentId:t,pinId:o,isHighlighted:n})=>{const s=i.Z.create("AggregatedCommentHighlightResource",{aggregatedCommentId:t,pinId:o});n?s.callDelete({showError:!1}):s.callCreate({showError:!1}),e({type:"AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED",payload:{data:{aggregated_comment_id:t,pin_id:o,is_highlighted:!n}}})},toggleAggregatedCommentLike:({aggregatedCommentId:t,isLikedByMe:o})=>{const n=i.Z.create("AggregatedCommentLikeResource",{aggregatedCommentId:t});o?n.callDelete({showError:!1}):n.callCreate({showError:!1}),e({type:"AGGREGATED_COMMENT_LIKE_TOGGLED",payload:{data:{id:t,reaction_by_me:o?0:1}}})},updateAggregatedComment:async({commentId:t,orbacSubjectId:o,tags:n,text:s})=>{var r;const{resource_response:l}=await i.Z.create("AggregatedCommentResource",{commentId:t,tags:n,text:s,...o?{orbacSubjectId:o}:{}}).callUpdate({showError:!1}),{tagged_users:a}=null!==(r=null==l?void 0:l.data)&&void 0!==r?r:{},c=a.map((e=>Object.assign({},e)));e({type:"AGGREGATED_COMMENT_UPDATED",payload:{data:{id:t,tagged_users:c,tags:JSON.parse(n),text:s}}})},updateAggregatedCommentFeatures:async({userId:t,featureMap:o})=>{var n;const{resource_response:s}=await i.Z.create("AggregatedCommentFeaturesResource",{userId:t,featureMap:o}).callUpdate({showError:!1}),r=null!==(n=null==s?void 0:s.data)&&void 0!==n?n:Object.freeze({});e({type:"AGGREGATED_COMMENT_FEATURES_UPDATED",payload:{data:{featureMap:r}}})},updateCommentCount:(t,o)=>{e({type:"UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT",payload:{increment:o,id:t}})}})),[e])}function b(){const{aggregatedComments:e}=g();return e}},107656:(e,t,o)=>{o.d(t,{o:()=>n});const n={aggregatedComment:"aggregatedComment",didIt:"didIt",pin:"pin"}},87732:(e,t,o)=>{o.d(t,{a:()=>u,S:()=>d});var n=o(667294),i=o(6637);const s={boardMap:{}};function r(e=s,t){if("BLOCKING_ACTIONS_UPDATED"===t.type){const{payload:{boardId:o,blockingActions:n}}=t;let i=null,s=null;const r={};return n.forEach((({section_id:e,progress:t,id:o,created_timestamp:n})=>{const l={id:o,createdAt:n,progress:t};e?"-1"===e?i=l:r[e]=l:s=l})),{...e,boardMap:{...e.boardMap,[o]:{wholeBoard:i,unorganized:s,sectionMap:r}}}}return e}var l=o(425288),a=o(785893);const{Provider:c,useMaybeHook:d}=(0,l.Z)("BlockingAction");function u({children:e}){const[t,o]=(0,n.useReducer)(r,s),l=(0,n.useCallback)((e=>function(e){return i.Z.create("BoardActionStatusResource",{board_id:e}).callGet({showError:!1}).then((e=>new Promise(((t,o)=>{const n=e&&e.resource_response&&e.resource_response.data&&e.resource_response.data.blocking_actions;n?t(n):o(new Error("No blocking actions found in the response"))}))))}(e).then((t=>(o({type:"BLOCKING_ACTIONS_UPDATED",payload:{boardId:e,blockingActions:t}}),t)))),[]),d=(0,n.useMemo)((()=>({blockingActions:t,fetchBlockingActions:l})),[t,l]);return(0,a.jsx)(c,{value:d,children:e})}},980750:(e,t,o)=>{o.d(t,{Z:()=>v});var n=o(87732),i=o(343341),s=o(667294),r=o(391254),l=o(50286),a=o(898781),c=o(883119),d=o(499128),u=o(785893);function _(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function h(){const e=(0,a.ZP)();return(0,u.jsxs)(c.kC,{alignItems:"stretch",justifyContent:"around",overflow:"hidden",children:[(0,u.jsx)(r.Z,{unsafeCSS:"\n@keyframes spin {\n  from {\n    opacity: 1;\n    transform: rotate(0deg);\n  }\n\n  to {\n    opacity: 1;\n    transform: rotate(360deg);\n  }\n}"}),(0,u.jsx)(c.xu,{display:"block",opacity:0,dangerouslySetInlineStyle:{__style:{animationDelay:"0.3s",animationDuration:"1.2s",animationIterationCount:"infinite",animationName:"spin",animationTimingFunction:"linear"}},children:(0,u.jsx)(c.JO,{accessibilityLabel:e._('board action pending', 'accessibility label for board action toast to indicate pending action', 'accessibility label for board action toast to indicate pending action'),color:"inverse",icon:"knoop",size:40})})]})}class p extends s.Component{constructor(...e){super(...e),_(this,"state",{hiding:!1,visible:!1}),_(this,"handleHide",(()=>{this.setState({hiding:!0}),this.timeout=window.setTimeout(this.props.onHide,d.Vg)})),_(this,"handleMouseEnter",(()=>{window.clearTimeout(this.timeout)})),_(this,"handleMouseLeave",(()=>{this.timeout=window.setTimeout(this.handleHide,this.props.duration||2e3)}))}componentDidMount(){this.firstLine&&(window.setTimeout((()=>{this.setState({visible:!0})}),100),this.timeout=window.setTimeout(this.handleHide,this.props.duration||2e3))}get firstLine(){const{actionType:e,actionStatus:t,location:{isSection:o}}=this.props,n="completed"===t;switch(e){case"create_section":return n?this.props.i18n._('Created section', 'toast text to indicate a section has been created successfully', 'toast text to indicate a section has been created successfully'):this.props.i18n._('Creating section', 'toast text to indicate a section is being created', 'toast text to indicate a section is being created');case"delete_pins":return o?n?this.props.i18n._('Deleted Pins from', 'toast text to notify Pins have been deleted from a section', 'toast text to notify Pins have been deleted from a section'):this.props.i18n._('Deleting Pins from', 'toast text to notify Pins are being deleted from a section', 'toast text to notify Pins are being deleted from a section'):n?this.props.i18n._('Deleted Pins from', 'toast text to notify Pins have been deleted from a board', 'toast text to notify Pins have been deleted from a board'):this.props.i18n._('Deleting Pins from', 'toast text to notify Pins are being deleted from a board', 'toast text to notify Pins are being deleted from a board');case"move_pins":return o?n?this.props.i18n._('Moved to', 'toast text to notify pins have been moved to this section', 'toast text to notify pins have been moved to this section'):this.props.i18n._('Moving to', 'toast text to notify pins are being moved to this section', 'toast text to notify pins are being moved to this section'):n?this.props.i18n._('Moved to', 'toast text to notify pins have been moved to this board', 'toast text to notify pins have been moved to this board'):this.props.i18n._('Moving to', 'toast text to notify pins are being moved to this board', 'toast text to notify pins are being moved to this board');case"merge":return o?n?this.props.i18n._('Moved to', 'toast text to notify anotehr section has been merged to this section', 'toast text to notify anotehr section has been merged to this section'):this.props.i18n._('Moving to', 'toast text to notify another section is being merged to this section', 'toast text to notify another section is being merged to this section'):n?this.props.i18n._('Moved to', 'toast text to notify another board has been merged to this board', 'toast text to notify another board has been merged to this board'):this.props.i18n._('Moving to', 'toast text to notify another board is being merged to this board', 'toast text to notify another board is being merged to this board');default:return null}}render(){const{actionStatus:e,deviceType:t,location:o}=this.props,{visible:n,hiding:i}=this.state;if(!this.firstLine)return null;const r="inProgress"===e?`${o.name}...`:o.name;return(0,u.jsx)(c.xu,{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,dangerouslySetInlineStyle:{__style:(0,d.UZ)({deviceType:t,visible:n,hiding:i})},children:(0,u.jsx)(c.FN,{text:(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)(c.xv,{children:this.firstLine}),(0,u.jsx)(c.xv,{weight:"bold",children:r})]}),thumbnail:"completed"===e?void 0:(0,u.jsx)(h,{})})})}}function m(e){const t=(0,l.ZP)(),o=(0,a.ZP)();return(0,u.jsx)(p,{...e,deviceType:t,i18n:o})}const g=["merge","move_pins","create_section"];let f=0;const x={};const b=(e,t,o,n)=>({hideToast:i})=>{var s,r;return(0,u.jsx)(m,{actionType:t,actionStatus:e,duration:2e3,location:{name:n?null!==(s=n.title)&&void 0!==s?s:"":null!==(r=o.name)&&void 0!==r?r:"",isSection:!!n},onHide:i})};function v(){var e;const{showToast:t}=(0,i.F9)(),{fetchBlockingActions:o}=null!==(e=(0,n.S)())&&void 0!==e?e:{fetchBlockingActions:e=>new Promise((e=>e([])))};return{showBlockingActionToast:({actionType:e,board:n,section:i})=>{t(b("inProgress",e,n,i)),function({check:e,checkDelay:t,checkInterval:o,onComplete:n}){const i=`timeout${f}`;f+=1;const s=()=>{const t=Date.now();e().then((e=>{const r=Date.now()-t;e?(n(),delete x[i]):x[i]=setTimeout(s,Math.max(1e3,o-r))})).catch((()=>{delete x[i]}))};x[i]=setTimeout(s,t)}({check:()=>o(n.id).then((t=>!function({blockingActions:e,actionType:t,boardId:o,sectionId:n}){return e.find((e=>!(function(e){switch(e){case 22:return"delete_board";case 7172:case 7173:return"merge";case 900:case 7158:case 7109:return"delete_pins";case 901:case 7108:return"move_pins";case 7100:return"create_section";case 7102:return"delete_section";default:return null}}(e.action_type)!==t||g.includes(e.action_type)&&e.is_origin||e.board_id!==o||(n?n!==e.section_id:e.section_id&&"-1"!==e.section_id)||1===e.progress)))}({blockingActions:t,actionType:e,boardId:n.id,sectionId:i&&i.id}))),checkDelay:2e3,checkInterval:5e3,onComplete:()=>t(b("completed",e,n,i))})}}}},787294:(e,t,o)=>{o.d(t,{Z:()=>T});var n=o(667294),i=o(702664),s=o(121151),r=o(898781),l=o(349700),a=o(780280),c=o(883119),d=o(785893);function u({boardName:e,collaboratorName:t,onCancelTransferRequest:o,onDismiss:n}){const i=(0,r.ZP)(),u=(0,a.B)();return(0,d.jsx)(s.ZP,{accessibilityModalLabel:i._('Board ownership transfer modal', 'boardCollabOwnershipTransferModal.accessibilityModalLabel', 'Accessibility label on board ownership transfer modal'),heading:(0,d.jsxs)(c.xu,{paddingY:8,position:"relative",children:[(0,d.jsx)(c.X6,{align:"center",size:"500",children:i._('Collaborators', 'boardCollabOwnershipTransferModal.heading', 'Heading for board ownership transfer modal')}),(0,d.jsx)(c.xu,{position:"absolute",top:!0,left:u.isRTL,right:!u.isRTL,paddingY:8,paddingX:6,children:(0,d.jsx)(c.hU,{accessibilityLabel:i._('Close', 'boardCollabOwnershipTransferModal.iconAccessibilityLabel', 'Accessibility label on cancel icon button'),icon:"cancel",iconColor:"darkGray",onClick:n,size:"md"})})]}),footer:(0,d.jsxs)(c.kC,{alignItems:"center",flex:"grow",justifyContent:"between",children:[(0,d.jsx)(c.iP,{fullWidth:!1,onTap:o,children:(0,d.jsx)(c.xv,{weight:"bold",children:i._('Cancel request', 'boardCollabOwnershipTransferModal.cancelRequest', 'Option to cancel board ownership transfer request')})}),(0,d.jsx)(c.zx,{color:"red",onClick:n,size:"lg",text:i._('Got it', 'boardCollabOwnershipTransferModal.confirmationButton', 'Button confirming board ownership transfer action')})]}),onDismiss:n,children:(0,d.jsx)(c.xu,{paddingX:8,children:(0,d.jsx)(c.xv,{align:"center",children:(0,l.nk)(i._('We sent {{ collaboratorName }} your request for them to own {{ boardName }}. When they accept, you can still add Pins\u2014but you won\u2019t be able to manage collaborators, change the name, cover photo, or description of this board.', 'boardCollabOwnershipTransferModal.descriptionText', 'Explanation of transfer request and potential permissions changes'),{collaboratorName:t,boardName:(0,d.jsx)(c.xv,{inline:!0,weight:"bold",children:e})})})})})}var _=o(715519),h=o(98265);function p({boardId:e,collaboratorId:t,collaboratorName:o,isAcceptedCollaborator:s,onDelete:l}){const a=(0,i.useDispatch)(),p=(0,r.ZP)(),m=(0,n.useRef)(null),[g,f]=(0,n.useState)(!1),[x,b]=(0,n.useState)(!1),{boardName:v,pendingOwnershipTransfer:y}=(0,_.Z)(),P=()=>{a((0,h.xx)(e,t)),f(!1)},w=function({i18n:e,isAcceptedCollaborator:t,onCancelTransferRequest:o,onDelete:n,onRequestTransfer:i,showCancelRequestOption:s,showRequestTransferOption:r}){const l=[{onSelect:n,option:{value:"Remove from board",label:e._('Remove from board', 'getCollaboratorDropdownItems.removeText', 'Text for option to remove collaborator from board')}}];return t&&(s&&l.push({onSelect:o,option:{value:"Cancel request",label:e._('Cancel request', 'getCollaboratorDropdownItems.cancelText', 'Text for option to cancel ownership transfer request')}}),r&&l.push({onSelect:i,option:{value:"Request as board owner",label:e._('Request as board owner', 'getCollaboratorDropdownItems.requestText', 'Text for option to request ownership transfer')}})),l}({i18n:p,isAcceptedCollaborator:s,onCancelTransferRequest:P,onDelete:l,onRequestTransfer:()=>{(async()=>{f(!1),await a((0,h.Cf)(e,t)),b(!0)})()},showCancelRequestOption:y===t,showRequestTransferOption:!y});return(0,d.jsxs)(n.Fragment,{children:[(0,d.jsxs)(c.kC,{justifyContent:"center",children:[(0,d.jsx)(c.hU,{accessibilityLabel:p._('Collaborator options', 'boardCollabInviteOverflowButton.accessibilityLabel', 'Accessibility label for overflow icon button'),bgColor:"transparent",icon:"ellipsis",iconColor:"darkGray",onClick:()=>f(!g),ref:m,selected:g,size:"md"}),g&&(0,d.jsx)(c.Lt,{anchor:m.current,id:"board-collaborator-dropdown",idealDirection:"down",onDismiss:()=>f(!1),zIndex:new c.Ry(1e3),children:(0,d.jsx)(c.Lt.Section,{label:p._('Options', 'boardCollabInviteOverflowButton.dropdownSection', 'Options section in dropdown menu'),children:w.map((e=>(0,d.jsx)(c.Lt.Item,{onSelect:e.onSelect,option:e.option},e.option.value)))})})]}),x&&(0,d.jsx)(u,{boardName:v,collaboratorName:o,onCancelTransferRequest:()=>{P(),b(!1)},onDismiss:()=>{b(!1)}})]})}var m=o(381297),g=o(985913),f=o(19121),x=o(773285);function b({actionsDisabled:e,invite:t,invitedUser:o,isDim:n,onApprove:i,onDelete:s}){const l=(0,r.ZP)(),a=(0,f.Z)(),{access:u,board:h,status:b,invited_by_user:v}=t,{pendingOwnershipTransfer:y,viewerIsOwner:P}=(0,_.Z)(),w=a.isAuth&&o.id===a.id,A=a.isAuth&&v.id===a.id,C=o.id===v.id,j="accepted"===b,E=u.includes("approve"),S=u.includes("delete"),I=l._('Approve', '[button] approve another pinner\'s request to join the board as a collaborator', '[button] approve another pinner\'s request to join the board as a collaborator'),T=((e,t,o)=>e?l._('Leave', '[button] for a collaborator to leave a group board', '[button] for a collaborator to leave a group board'):t&&!o?l._('Decline', '[button] decline another pinner\'s request to join board as a collaborator', '[button] decline another pinner\'s request to join board as a collaborator'):l._('Remove', '[button] remove a collaborator from the board]', '[button] remove a collaborator from the board]'))(w,C,j),z=S&&!E,k=S&&E,D=`/${o.username}/`,{checkExperiment:R}=(0,x.F)(),O=P&&R("web_board_ownership_transfer").anyEnabled,L=O?(0,d.jsx)(p,{boardId:h.id,collaboratorId:o.id,collaboratorName:o.full_name,onDelete:s||(()=>{}),isAcceptedCollaborator:j}):(0,d.jsx)(c.zx,{disabled:e,onClick:s,text:T,size:"lg"}),B=y===o.id,M=O&&(void 0!==n?n:!j);return(0,d.jsxs)(c.xu,{children:[(0,d.jsx)(m.Z,{imageUrl:o.image_medium_url||"",name:o.full_name,title:o.full_name,subtitle:((e,o,n,i,s)=>{const r=t.invited_by_user.full_name;let a;return a=o?l._('Invitation pending', 'boardCollabInviteCell.pendingInvitationText', 'Subtext for collaborator with pending invitation'):n?l._('That\'s you', 'subtext for current user who requested to join this board', 'subtext for current user who requested to join this board'):i?l._('Invited by you', 'subtext for a pending collaborator who was invited by the current viewer', 'subtext for a pending collaborator who was invited by the current viewer'):s?l._('Requested to join', 'The subtext that identifies a pending collaborator has personally requested to join the board', 'The subtext that identifies a pending collaborator has personally requested to join the board'):(0,g.Z)(l._('Invited by {{ user_full_name }}', 'The subtext that identifies a pending collaborator who was invited to collaborate on the board', 'The subtext that identifies a pending collaborator who was invited to collaborate on the board'),{user_full_name:r}),e&&(a=a.concat(l._(' \xB7 Ownership pending', 'boardCollabInviteCell.pendingOwnershipText', 'Additional subtext for collaborator who has a pending board ownership transfer invitation'))),a})(B,M,w,A,C),linkURL:D,isDim:!O&&(void 0!==n?n:!j),accessory:z&&L}),k&&(0,d.jsxs)(c.xu,{paddingX:3,marginStart:12,display:"flex",justifyContent:"end",children:[(0,d.jsx)(c.xu,{paddingX:1,flex:"grow",width:"50%",children:(0,d.jsx)(c.zx,{fullWidth:!0,disabled:e,onClick:s,text:T,size:"lg"})}),(0,d.jsx)(c.xu,{paddingX:1,flex:"grow",width:"50%",children:(0,d.jsx)(c.zx,{fullWidth:!0,color:"red",disabled:e,onClick:i,text:I,size:"lg"})})]})]})}var v=o(499128),y=o(717615),P=o(231947),w=o(934523);function A(e){const t=(0,r.ZP)(),{onCancel:o,onRemove:n,useGestaltModal:i}=e,l=t._('Are you sure you want to leave this group board and remove it from your profile?', ' - ', ' -- '),a=i?c.u_:s.ZP;return(0,d.jsx)(a,{accessibilityModalLabel:t._('Leave board?', ' - ', ' -- '),heading:t._('Leave board?', ' - ', ' -- '),onDismiss:o,size:"sm",footer:(0,d.jsxs)(c.kC,{alignItems:"stretch",justifyContent:"end",children:[(0,d.jsx)(c.xu,{paddingX:1,children:(0,d.jsx)(c.zx,{onClick:o,text:t._('Cancel', ' - ', ' -- ')})}),(0,d.jsx)(c.xu,{paddingX:1,children:(0,d.jsx)(c.zx,{color:"red",onClick:n,text:t._('Leave', ' - ', ' -- ')})})]}),children:(0,d.jsx)(c.xu,{padding:5,children:(0,d.jsx)(c.xv,{children:l})})})}class C extends n.Component{constructor(...e){var t,o,n;super(...e),n={shouldBlock:!1},(o="state")in(t=this)?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n}getBlockDescription(e,t){return"declineRequest"===e?t?(0,l.nk)(this.props.i18n._('This will decline {{ invited_user_first_name }} from joining this board and block them from subsequent collaboration requests.', 'decline another pinner\'s request to join board as a collaborator and block them', 'decline another pinner\'s request to join board as a collaborator and block them'),{invited_user_first_name:t}):this.props.i18n._('This will decline this person from joining this board and block them from subsequent collaboration requests.', 'message that explains consequences of declining a request to join board as a collaborator', 'message that explains consequences of declining a request to join board as a collaborator'):t?(0,l.nk)(this.props.i18n._('This will remove {{ invited_user_first_name }}, people {{ invited_user_first_name }} invited, and all their Pins.', ' - ', ' -- '),{invited_user_first_name:t}):this.props.i18n._('This will remove this person, people they invited, and all their Pins.', 'message that explains consequences of removing a collaborator', 'message that explains consequences of removing a collaborator')}render(){const{removeType:e,firstName:t,fullName:o,onCancel:i,onRemove:r,onRemoveAndBlock:a,useGestaltModal:u}=this.props,_="declineRequest"===e?(0,l.nk)(this.props.i18n._('Decline {{ invited_user_name }}?', '[button] to decline a pinner\'s request to join a board as a collaborator', '[button] to decline a pinner\'s request to join a board as a collaborator'),{invited_user_name:o}).join(""):(0,l.nk)(this.props.i18n._('Remove {{ invited_user_name }}?', '[button] to remove a pinner as a collaborator from a group board', '[button] to remove a pinner as a collaborator from a group board'),{invited_user_name:o}).join(""),h=this.props.i18n._('This will keep them from saving Pins to this board. You can also:', 'decline another pinner\'s request to join board as collaborator. Ending fragment preceeds checkbox for blocking the user.', 'decline another pinner\'s request to join board as collaborator. Ending fragment preceeds checkbox for blocking the user.'),p=this.getBlockDescription(e,t),m=this.state.shouldBlock?this.props.i18n._('Block', 'block another pinner after denying their request to collaborate on a board', 'block another pinner after denying their request to collaborate on a board'):this.props.i18n._('Remove', 'decline another pinner\'s request to collaborate on a board', 'decline another pinner\'s request to collaborate on a board'),g=(0,d.jsxs)(n.Fragment,{children:[(0,d.jsx)(c.xu,{padding:5,children:(0,d.jsx)(c.xv,{children:h})}),(0,d.jsx)(c.iz,{}),(0,d.jsxs)(c.xu,{padding:5,display:"flex",children:[(0,d.jsx)(c.xu,{paddingX:1,children:(0,d.jsx)(c.XZ,{checked:this.state.shouldBlock,id:"banUser",name:"ban",onChange:()=>this.setState((({shouldBlock:e})=>({shouldBlock:!e})))})}),(0,d.jsx)(c.xu,{paddingX:1,children:(0,d.jsxs)(c.__,{htmlFor:"banUser",children:[(0,d.jsx)(c.xv,{weight:"bold",children:(0,l.nk)(this.props.i18n._('Block {{ name }}', ' - ', ' -- '),{name:t||""})}),(0,d.jsx)(c.xv,{size:"200",children:p})]})})]})]}),f=u?c.u_:s.ZP;return(0,d.jsx)(f,{accessibilityModalLabel:_,heading:_,onDismiss:i,size:"sm",footer:(0,d.jsxs)(c.xu,{display:"flex",justifyContent:"end",marginStart:-1,marginEnd:-1,children:[(0,d.jsx)(c.xu,{paddingX:1,children:(0,d.jsx)(c.zx,{onClick:i,text:this.props.i18n._('Cancel', ' - ', ' -- ')})}),(0,d.jsx)(c.xu,{paddingX:1,children:(0,d.jsx)(c.zx,{color:"red",onClick:this.state.shouldBlock?a:r,text:m})})]}),children:g})}}function j(e){const t=(0,r.ZP)();return(0,d.jsx)(C,{...e,i18n:t})}var E=o(343341);function S(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class I extends n.Component{constructor(...e){super(...e),S(this,"state",{currentModal:null,loading:!1}),S(this,"showRemoveSuccessToast",(()=>{const{toastManagerContext:e}=this.props,t=this.props.i18n._('Collaborator removed', 'BoardCollabInviteCellContainer.toast', 'Toast for removing a collaborator from a board');e.showOneToast((({hideToast:e})=>(0,d.jsx)(v.ZP,{duration:3e3,onHide:e,text:t})))})),S(this,"onDelete",(()=>{const{onModalOpen:e}=this.props;e&&e(),this.setState({currentModal:"delete"})})),S(this,"onApprove",(()=>{const{approveBoardCollabInvite:e,onInviteDidUpdate:t}=this.props;this.setState({loading:!0}),e().then(t).finally((()=>{this.setState({loading:!1})}))})),S(this,"deleteBoardInvite",((e=!1)=>{const{deleteBoardCollabInvite:t,onBoardLeave:o,onInviteDidUpdate:n,orbacSubjectId:i}=this.props,s=this.isViewerInvitedUser;this.setState({currentModal:null,loading:!0}),t(s,e,i).then((()=>{n(),this.showRemoveSuccessToast(),s&&o()})).catch((()=>{})).finally((()=>{this.setState({loading:!1})}))})),S(this,"handleDeleteBoardInvite",(()=>{this.deleteBoardInvite(!1)})),S(this,"handleDeleteBoardInviteAndBan",(()=>{this.deleteBoardInvite(!0)})),S(this,"handleHideModal",(()=>{this.setState({currentModal:null})}))}get isViewerInvitedUser(){const{viewer:e,invitedUser:t}=this.props;return e.isAuth&&e.id===t.id}get isRequestToJoin(){const{invitedUser:e,invite:{invited_by_user:t}}=this.props;return e.id===t.id}renderCurrentModal(){const{invitedUser:e,useGestaltModal:t=!1}=this.props,{currentModal:o}=this.state;return"delete"===o?this.isViewerInvitedUser?(0,d.jsx)(c.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{zIndex:w.fe+1}},children:(0,d.jsx)(A,{onCancel:this.handleHideModal,onRemove:this.handleDeleteBoardInvite,useGestaltModal:t})}):(0,d.jsx)(c.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{zIndex:w.fe+1}},children:(0,d.jsx)(j,{removeType:this.isRequestToJoin?"declineRequest":"removeCollaborator",firstName:e.first_name,fullName:e.full_name,onCancel:this.handleHideModal,onRemove:this.handleDeleteBoardInvite,onRemoveAndBlock:this.handleDeleteBoardInviteAndBan,useGestaltModal:t})}):null}render(){const{invite:e,invitedUser:t,isDim:o}=this.props,{loading:n}=this.state;return(0,d.jsxs)(c.xu,{children:[(0,d.jsx)(b,{invite:e,invitedUser:t,isDim:o&&"accepted"!==e.status,onDelete:this.onDelete,onApprove:this.onApprove,actionsDisabled:n}),this.renderCurrentModal()]})}}function T(e){const{invite:t,invitedUser:{id:o},invite:{board:{id:n}}}=e,s=(0,r.ZP)(),l=(0,i.useDispatch)(),a=(0,f.Z)(),c=(0,y.Z)(),{checkExperiment:u}=(0,x.F)(),{anyEnabled:_}=u("web_m10n_business_access_orbac_ga"),p=_?(0,P.lJ)(a,c):void 0;return(0,d.jsx)(I,{...e,approveBoardCollabInvite:()=>l((0,h.q1)(n,o)),deleteBoardCollabInvite:(e,o)=>l((0,h.Jn)(t,e,o,p)),i18n:s,toastManagerContext:(0,E.F9)(),viewer:(0,f.Z)(),orbacSubjectId:p})}},901410:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(667294),i=o(250059),s=o(298361),r=o(898781),l=o(349700),a=o(883119),c=o(785893);function d({invite:e,handleInviteResponse:t}){const o=(0,r.ZP)(),d=(0,s.Z)(),{url:u,name:_,image_cover_url:h}=e.board||{},{full_name:p}=e.invited_by_user||{},m=(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(a.xu,{paddingX:0,marginEnd:2,children:(0,c.jsx)(a.zx,{fullWidth:!0,color:"gray",text:o._('Decline', 'decline board collaborator invite or request', 'decline board collaborator invite or request'),onClick:()=>t(!1),size:"lg"})}),(0,c.jsx)(a.xu,{paddingX:0,children:(0,c.jsx)(a.zx,{fullWidth:!0,color:"red",text:o._('Accept', 'accept board invite', 'accept board invite'),onClick:()=>t(!0),size:"lg"})})]}),g=(0,i.Z)(u);return(0,c.jsx)(a.xu,{marginTop:6,marginBottom:8,padding:6,rounding:6,borderStyle:"shadow",children:(0,c.jsx)(a.iP,{role:"link",href:g,tapStyle:"none",children:(0,c.jsxs)(a.xu,{display:"flex",direction:"row",marginBottom:0,children:[(0,c.jsx)(a.xu,{position:"relative",marginEnd:0,children:(0,c.jsx)(a.zd,{width:48,height:48,rounding:2,children:(0,c.jsx)(a.Ee,{alt:_||"",naturalWidth:40,naturalHeight:40,src:h,fit:"cover"})})}),(0,c.jsxs)(a.xu,{display:"flex",flex:"grow",direction:"column",column:6,paddingX:2,children:[(0,c.jsx)(a.xv,{size:"300",children:(0,l.nk)(o._('{{ inviterFullName }} invited you to join the board {{ board }} {{ age }}', 'intro text for invitation on profile page', 'inviterFullName: full name of user, board: board name,age: time since creation, Profile page intro text for invitation'),{inviterFullName:p,board:(0,c.jsx)(a.xv,{inline:!0,weight:"bold",children:(0,c.jsx)(a.rU,{inline:!0,href:g,tapStyle:"none",underline:"hover",children:_})}),age:(0,c.jsx)(a.xv,{inline:!0,color:"subtle",children:d(e.created_at,!0)})})}),(0,c.jsx)(a.xu,{display:"flex",marginTop:2,children:m})]})]})})})}},353068:(e,t,o)=>{o.d(t,{Z:()=>x});var n=o(667294),i=o(787294),s=o(596222),r=o(898781),l=o(883119),a=o(785893);function c({fetchMore:e,invites:t,isAtEnd:o,isFetching:n,onBoardLeave:i,refreshData:c,renderInvite:d,scroll:u}){const _=(0,r.ZP)();return(0,a.jsxs)(l.xu,{children:[u&&(0,a.jsx)(s.Z,{scrollBuffer:3*u.container.clientHeight,scrollHeight:u.container.scrollHeight,scrollTop:u.top,isAtEnd:o,isFetching:n,fetchMore:e}),t.map(((e,t)=>e&&e.invited_user&&e.invited_user.id?(0,a.jsx)(l.xu,{children:d(e,i,c)},t):null)),n&&!o&&(0,a.jsx)(l.$j,{accessibilityLabel:_._('loading board invites', 'accessibility label for board collaborator invites loading spinner', 'accessibility label for board collaborator invites loading spinner'),show:!0})]})}var d=o(381297),u=o(169158),_=o(715519),h=o(845772),p=o(784590),m=o(349700),g=o(773285);class f extends n.Component{constructor(...e){var t,o,n;super(...e),n=()=>{const{invitesPendingApproval:e,invites:t}=this.props;e.refresh(),t.refresh()},(o="handleInvitesDidUpdate")in(t=this)?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n}shouldComponentUpdate(e){const{invites:{data:t},pendingOwnershipTransfer:o}=e,{invites:{data:n},pendingOwnershipTransfer:i}=this.props;return!(n&&!(i!==o))||!!t&&n.length!==t.length}render(){var e,t;const{board:o,invites:s,invitesPendingApproval:r,scrollInfo:_,onBoardLeave:h,onModalOpen:p,pendingOwnershipTransfer:g,renderInvite:f}=this.props,{full_name:x,image_medium_url:b,username:v}=o.owner,y=null===(e=(s.data||[]).find((e=>{var t;return(null===(t=e.invited_user)||void 0===t?void 0:t.id)===g})))||void 0===e||null===(t=e.invited_user)||void 0===t?void 0:t.full_name,P=g&&y?(0,m.nk)(this.props.i18n._('Requested {{ collaboratorName }} to change to board owner', 'boardInviteSheet.CollaboratorList.boardOwner.ownershipRequestSubtitle', 'Subtext for an owner of board who has sent an ownership transfer request'),{collaboratorName:y}).join(""):this.props.i18n._('Owner of this board', 'boardInviteSheet.CollaboratorList.boardOwner.subtitle', 'The subtext that identifies the owner of a board');return(0,a.jsx)(n.Fragment,{children:s.isLoaded||r.isLoaded?(0,a.jsx)(u.Z,{fetchMore:s.fetchMore,children:({onScroll:e,setRef:t})=>(0,a.jsxs)(l.xu,{width:"100%",onScroll:e,ref:t,children:[(0,a.jsx)(c,{fetchMore:r.fetchMore,invites:r.data||[],isAtEnd:r.isAtEnd,isFetching:r.isFetching,onBoardLeave:h,refreshData:this.handleInvitesDidUpdate,scroll:_,renderInvite:f}),(r.data||[]).length>0?(0,a.jsx)(l.xu,{paddingY:3,children:(0,a.jsx)(l.iz,{})}):null,(0,a.jsxs)(l.xu,{paddingY:1,children:[(0,a.jsx)(d.Z,{imageUrl:null!=b?b:"",linkURL:`/${v}/`,name:null!=x?x:"",subtitle:P,title:null!=x?x:""}),(s.data||[]).map((e=>e&&e.invited_user&&e.invited_user.id?(0,a.jsx)(i.Z,{invite:e,invitedUser:e.invited_user,onBoardLeave:h,onModalOpen:p,onInviteDidUpdate:s.refresh},e.invited_user.id):null))]})]})}):(0,a.jsx)(l.$j,{show:!0,accessibilityLabel:this.props.i18n._('Loading', 'Loading state for showing board collaborators', 'Loading state for showing board collaborators')})})}}function x(e){const t=(0,r.ZP)(),{pendingOwnershipTransfer:o}=(0,_.Z)(),{checkExperiment:n}=(0,g.F)(),{anyEnabled:i}=n("web_m10n_business_access_orbac_ga"),s=(0,h.Z)(),l=(0,p.Z)({name:"BoardInvitesResource",options:{board_id:e.board.id,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0,allow_stale:!1,...i&&s?{orbac_subject_id:s}:{}}}),c=(0,p.Z)({name:"BoardInvitesResource",options:{board_id:e.board.id,field_set_key:"boardEdit",status_filters:"pending_approval",allow_stale:!1,...i&&s?{orbac_subject_id:s}:{}}});return(0,a.jsx)(f,{...e,invites:l,invitesPendingApproval:c,i18n:t,pendingOwnershipTransfer:o})}},381297:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(667294),i=o(116303),s=o(149230),r=o(883119),l=o(785893);function a(e){const{imageUrl:t,name:o,title:a,subtitle:c,accessory:d,linkURL:u,isDim:_}=e,h={__style:{opacity:_?.5:1}},p=(0,s.Z)({url:null!=u?u:""})?"nofollow":"none";return(0,l.jsx)(n.Fragment,{children:o&&a&&(0,l.jsxs)(r.xu,{display:"flex",alignItems:"center",paddingX:4,marginBottom:4,children:[(0,l.jsx)(r.xu,{marginEnd:2,dangerouslySetInlineStyle:h,children:(0,l.jsx)(r.iP,{role:"link",rel:p,href:u||"",rounding:"circle",children:(0,l.jsx)(i.Z,{outline:!0,size:"md",name:o,src:t})})}),(0,l.jsxs)(r.xu,{display:"flex",flex:"grow",alignItems:"stretch",direction:"column",dangerouslySetInlineStyle:h,children:[(0,l.jsx)(r.xv,{color:"default",size:"300",lineClamp:1,weight:"bold",children:(0,l.jsx)(r.rU,{rel:p,href:u||"",children:a})}),(0,l.jsx)(r.xv,{lineClamp:1,size:"100",color:"subtle",children:c})]}),d&&(0,l.jsx)(r.xu,{marginStart:4,children:d})]})})}},326285:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(883119),i=o(785893);function s(e){const{iconNode:t,title:o,subtitle:s,accessory:r,inContactsSearchform:l}=e;return(0,i.jsxs)(n.xu,{display:"flex",alignItems:"center",paddingX:4,paddingY:2,children:[(0,i.jsx)(n.xu,{marginEnd:l?4:2,children:t}),(0,i.jsxs)(n.kC,{alignItems:"start",direction:"column",flex:"grow",justifyContent:"start",children:[(0,i.jsx)(n.xv,{color:"default",size:"300",lineClamp:1,weight:"bold",children:o}),(0,i.jsx)(n.xv,{lineClamp:1,size:"100",color:"subtle",children:s})]}),r&&(0,i.jsx)(n.xu,{children:r})]})}},715519:(e,t,o)=>{o.d(t,{Z:()=>c,k:()=>a});var n=o(667294),i=o(425288),s=o(785893);const{Provider:r,useHook:l}=(0,i.Z)("BoardOwnershipTransferContext");function a({boardName:e="",children:t,pendingOwnershipTransfer:o=null,viewerIsOwner:i}){const l=(0,n.useMemo)((()=>({boardName:e,pendingOwnershipTransfer:o,viewerIsOwner:i})),[e,o,i]);return(0,s.jsx)(r,{value:l,children:t})}const c=l},344676:(e,t,o)=>{o.d(t,{Z:()=>f});var n=o(667294),i=o(702664),s=o(978776),r=o(27255),l=o(717615),a=o(19121),c=o(223123),d=o(898781),u=o(231947),_=o(883119),h=o(98265),p=o(785893);function m(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class g extends n.Component{constructor(...e){super(...e),m(this,"state",{selectedCollaborators:[]}),m(this,"handleSubmit",(e=>{const{advertiserId:t,createBoard:o,onBoardCreate:n,viewer:i,orbacActingAs:s}=this.props,r=(0,u.lJ)(i,s),{name:l,description:a,privacy:c,collab_board_email:d,collaborator_invites_enabled:_}=e;return o({boardCreateOptions:{name:l,description:a,privacy:c,collab_board_email:d,collaborator_invites_enabled:_,...t?{advertiser_id:t}:{},...r?{orbac_subject_id:r}:Object.freeze({})}}).then((e=>{this.inviteSelectedColaborators(e.id),n(e)}))})),m(this,"emptyBoardData",{collab_board_email:!0,collaborator_invites_enabled:!1,id:"",is_collaborative:!1,name:this.props.suggestedBoardName||"",description:"",category:"other",owner:{username:(0,u.Ms)(this.props.viewer,this.props.orbacActingAs)},pin_count:0})}inviteSelectedColaborators(e){const t=this.state.selectedCollaborators.filter((({type:e})=>"email"===e));t.length>=1&&(0,h.OA)(e,t.map((({type:e})=>e)));const o=this.state.selectedCollaborators.filter((({type:e})=>e.startsWith("user")));o.length>=1&&(0,h.pS)(e,o.map((({id:e})=>e)))}render(){const{advertiserId:e,isAdAccountOwner:t,onClose:o,privacy:n,useModalWithNoLayer:i}=this.props;return(0,p.jsx)(s.Z,{board:{...this.emptyBoardData,privacy:t?n:r.Z.BoardPrivacy.PROTECTED},currentUserIsOwner:!0,isAdAccount:!!e,isAdAccountOwner:t,isDeletable:!1,isEditable:!0,isNameAndSecretView:!0,onClose:o,onSubmit:this.handleSubmit,submitText:this.props.i18n._('Create', ' - ', ' -- '),useModalWithNoLayer:i,title:(0,p.jsx)(_.xu,{paddingY:8,width:"100%",children:(0,p.jsx)(_.X6,{align:"center",size:"500",children:this.props.i18n._('Create board', 'BoardCreate.BoardCreate', 'Modal heading')})})})}}function f(e){const t=(0,c.Z)(),o=(0,d.ZP)(),n=(0,a.Z)(),s=(0,i.useSelector)((({advertiser:e})=>e?e.id:void 0)),r=(0,l.Z)(),u=(0,i.useSelector)((({advertiser:e})=>!e||n.isAuth&&e.owner_user_id===n.id));return(0,p.jsx)(g,{...e,advertiserId:s,createBoard:t,dispatch:(0,i.useDispatch)(),isAdAccountOwner:u,viewer:n,i18n:o,orbacActingAs:r})}m(g,"defaultProps",{privacy:r.Z.BoardPrivacy.PUBLIC})},109592:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(121151),i=o(898781),s=o(883119),r=o(785893);function l({cancelButtonLabel:e,confirmButtonLabel:t,heading:o,message:l,onCancel:a,onConfirm:c}){const d=(0,i.ZP)(),u=o||d._('Are you sure?', ' - ', ' -- '),_=e||d._('Cancel', ' - ', ' -- ');return(0,r.jsx)(n.ZP,{accessibilityModalLabel:u,footer:(0,r.jsxs)(s.xu,{marginEnd:-1,marginStart:-1,children:[(0,r.jsx)(s.xu,{"data-test-id":"cancel-button",padding:1,children:(0,r.jsx)(s.zx,{fullWidth:!0,onClick:a,size:"lg",text:_})}),(0,r.jsx)(s.xu,{"data-test-id":"confirm-button",padding:1,children:(0,r.jsx)(s.zx,{fullWidth:!0,color:"red",onClick:c,size:"lg",text:t})})]}),heading:u,onDismiss:a,role:"alertdialog",children:(0,r.jsx)(s.xu,{padding:4,children:(0,r.jsx)(s.xv,{children:l})})})}},596222:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(667294);class i extends n.PureComponent{constructor(...e){var t,o,n;super(...e),n=()=>{const{isAtEnd:e,isFetching:t,fetchMore:o,scrollBuffer:n,scrollHeight:i,scrollTop:s}=this.props;e||t||s+n>i&&o()},(o="check")in(t=this)?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n}componentDidMount(){setTimeout(this.check)}componentDidUpdate(){this.check()}render(){return null}}},978776:(e,t,o)=>{o.d(t,{Z:()=>U});var n=o(667294),i=o(161702),s=o(109592),r=o(883119),l=o(785893);const a=({label:e,labelId:t})=>t?(0,l.jsx)(r.__,{htmlFor:t,children:(0,l.jsx)(r.xv,{size:"100",children:e})}):(0,l.jsx)(r.xv,{size:"100",children:e});function c(e){const{children:t,label:o,labelId:i}=e;return(0,l.jsxs)(n.Fragment,{children:[(0,l.jsx)(r.xu,{marginBottom:2,children:(0,l.jsx)(a,{label:o,labelId:i})}),t]})}var d=o(898781),u=o(780280);const _=138;function h({coverPin:e,handleShowBoardCoverEditModal:t}){const o=(0,d.ZP)(),[i,s]=(0,n.useState)(!1),{isRTL:a}=(0,u.B)();return(0,l.jsx)(c,{label:o._('Board cover', 'BoardForm.BoardFormCoverButton', 'Form label for updating board cover'),children:(0,l.jsx)(r.xu,{width:_,position:"relative",children:(0,l.jsx)(r.iP,{onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onTap:t,rounding:4,children:null!=e&&e.custom_cover?(0,l.jsxs)(n.Fragment,{children:[(0,l.jsx)(r.zd,{height:_,rounding:4,width:_,children:(0,l.jsx)(r.Ee,{alt:e.image_url,color:"gray",fit:"cover",naturalHeight:e.size&&e.size[0]||_,naturalWidth:e.size&&e.size[0]||_,src:e.image_url})}),(0,l.jsx)(r.xu,{position:"absolute",left:a,right:!a,bottom:!0,padding:2,children:(0,l.jsx)(r.xu,{alignItems:"center",display:"flex",height:44,justifyContent:"center",rounding:"circle",width:44,dangerouslySetInlineStyle:{__style:{background:i?"white":"rgba(255, 255, 255, 0.8)"}},children:(0,l.jsx)(r.JO,{accessibilityLabel:o._('Edit board cover', 'BoardForm.BoardFormBoardCoverButton', 'Accessibility label on icon'),icon:"edit",color:"default",size:16})})})]}):(0,l.jsx)(r.xu,{alignItems:"center",color:i?"darkWash":"secondary",display:"flex",height:_,justifyContent:"center",rounding:4,width:_,children:(0,l.jsx)(r.JO,{accessibilityLabel:o._('Add cover photo', 'BoardForm.BoardFormCoverButton', 'Accessibility label on icon'),color:"default",icon:"add",size:24})})})})})}function p({children:e,label:t,labelId:o,subtext:i}){return(0,l.jsx)(n.Fragment,{children:(0,l.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:"start",paddingY:1,children:[e,(0,l.jsx)(r.xu,{marginStart:2,children:(0,l.jsxs)(r.__,{htmlFor:o,children:[(0,l.jsx)(r.xv,{size:"300",weight:"bold",children:t}),i]})})]})})}function m({hasCollabBoardEmail:e,isCollaborative:t,onCheckboxChange:o}){const n=(0,d.ZP)();return t&&(0,l.jsx)(p,{label:n._('Email notifications', 'BoardForm.BoardFormCollaboratorsEmailCheckbox', 'Form label'),labelId:"emailNotificationsCheckbox",subtext:(0,l.jsx)(r.xv,{color:"subtle",size:"300",children:n._('Get an email when someone saves Pins to this board', 'BoardForm.BoardFormCollaboratorsEmailCheckbox', 'Text explaing field on board form')}),children:(0,l.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,l.jsx)(r.xu,{marginEnd:1,children:(0,l.jsx)(r.XZ,{checked:e,id:"emailNotificationsCheckbox",name:"email",onChange:o})})})})}var g=o(681650),f=o(349700);function x({board:e,onCollaboratorInviteClick:t}){var o;const n=(0,d.ZP)(),i=(0,g.Z)({boardId:e.id,ownerName:null!==(o=e.owner.full_name)&&void 0!==o?o:"",ownerUsername:e.owner.username,ownerImgSrc:e.owner.image_medium_url||e.owner.image_small_url||""}),s=i.slice(0,3).map((e=>e.name));let a="";switch(i.length){case 3:a=(0,f.Wc)(`${n._('{{ first }}, {{ second }}, and {{ last }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars', 'List of three usernames')}`,{first:`${s[0]}`,second:`${s[1]}`,last:`${s[2]}`});break;case 2:a=(0,f.Wc)(`${n._('{{ first }} and {{ second }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars', 'List of two usernames.')}`,{first:`${s[0]}`,second:`${s[1]}`});break;default:a=s.join(", ")}const c=i.length>3?(0,f.Wc)(n.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', i.length - 3, 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars'),{userNames:a,leftCount:""+(i.length-3)}):(0,f.Wc)(`${n._('Collaborators: {{ userNames }}.', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree', 'Accessibility label that lists the names of collaborators')}`,{userNames:a});return(0,l.jsxs)(r.kC,{alignItems:"center",justifyContent:"between",children:[(0,l.jsx)(r.HE,{accessibilityLabel:c,collaborators:i.map((({name:e,src:t})=>({src:null!=t&&t.endsWith("/default_75.png")?void 0:t,name:e}))),size:"md"}),(0,l.jsx)(r.hU,{accessibilityLabel:n._('Invite collaborators', 'BoardEdit.BoardCollaboratorsAndInviteSection', 'Accessibility label on button'),bgColor:"lightGray",icon:"add",iconColor:"darkGray",onClick:t,size:"lg"})]})}var b=o(948618),v=o(966113);function y({board:e,onCollaboratorInviteClick:t}){const o=(0,d.ZP)(),n=(0,l.jsxs)(r.kC,{alignItems:"center",justifyContent:"start",children:[(0,l.jsx)(r.xv,{size:"100",inline:!0,children:o._('Collaborators', ' - ', ' -- ')}),(0,l.jsx)(b.Z,{}),(0,l.jsx)(r.xv,{inline:!0,size:"100",weight:"bold",children:(0,l.jsx)(r.rU,{inline:!0,target:"blank",href:v.Z.settings.HELP_BOARDS_INVITE_URL_SRC_CREATE,underline:"hover",children:o._('Learn more', ' - ', ' -- ')})})]});return(0,l.jsx)(c,{label:n,labelId:"collaborators",children:(0,l.jsx)(x,{board:e,onCollaboratorInviteClick:t})})}function P({collaboratorInvitesEnabled:e,isCollaborative:t,onCheckboxChange:o}){const n=(0,d.ZP)();return t&&(0,l.jsx)(p,{label:n._('Let collaborators add people', 'BoardForm.BoardFormCollaboratorsInviteToggle', 'Form label'),labelId:"collaboratorInvitesEnabledCheckbox",children:(0,l.jsx)(r.XZ,{checked:e,id:"collaboratorInvitesEnabledCheckbox",name:"collaboratorInvitesEnabled",onChange:o})})}function w({description:e,descriptionValidatorErrors:t,onChange:o}){const n=(0,d.ZP)(),i="boardEditDescription";return(0,l.jsx)(c,{label:n._('Description', 'BoardForm.BoardFormDescription', ' Form field label'),labelId:i,children:(0,l.jsx)(r.Kx,{errorMessage:t.join(", "),id:i,name:"description",onChange:o,placeholder:n._('What\'s your board about?', ' - ', ' -- '),value:e})})}const A=({children:e})=>(0,l.jsx)(r.xu,{paddingX:8,role:"list",children:n.Children.map(e,((t,o)=>t&&(0,l.jsx)(r.xu,{role:"listitem",marginBottom:o===n.Children.count(e)-1?1:8,children:t},o)))});var C=o(27255);function j({isProtectedToggler:e,isToggleDisable:t,onChange:o,onCheckboxChange:i,privacy:s}){const a=(0,d.ZP)();if(!0===e)return(0,l.jsx)(p,{label:a._('Protected board (not listed on user\'s profile)', 'BoardForm.BoardFormSecretToggle', 'protected board'),labelId:"protected",children:(0,l.jsx)(r.xu,{paddingY:2,children:(0,l.jsx)(r.rs,{onChange:o,switched:s===C.Z.BoardPrivacy.PROTECTED,id:"protected",disabled:t})})});if(s!==C.Z.BoardPrivacy.PROTECTED){const e=a._('Keep this board secret', 'BoardForm.BoardFormSecretToggle', 'Caption for board settings to set visibility'),o=(0,l.jsx)(n.Fragment,{children:(0,l.jsxs)(r.xv,{color:"subtle",size:"300",children:[a._('So only you and collaborators can see it.', 'BoardForm.BoardFormSecretToggle', 'notifying the board owner only they and the collaborators can see the board if it set to secret')," ",(0,l.jsx)(r.rU,{inline:!0,target:"blank",href:v.Z.settings.HELP_BOARDS_SECRET_URL_SRC_CREATE,underline:"hover",children:a._('Learn more', 'BoardForm.BoardFormSecretToggle', 'Link to learn more about secret boards')})]})});return(0,l.jsx)(p,{label:e,labelId:"secret",subtext:o,children:(0,l.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,l.jsx)(r.XZ,{checked:s===C.Z.BoardPrivacy.SECRET,id:"secret",name:"secret",onChange:i,disabled:t})})})}return null}function E({allowHomefeedRecommendations:e,onCheckboxChange:t}){const o=(0,d.ZP)();return(0,l.jsx)(p,{label:o._('Personalization', 'BoardForm.BoardFormRecommendationToggle', 'form label'),labelId:"recommendation",subtext:(0,l.jsx)(r.xv,{color:"subtle",size:"300",children:o._('Show Pins inspired by this board in your home feed.', 'BoardForm.BoardFormRecommendationToggle', 'Caption for board settings to set visibility')}),children:(0,l.jsx)(r.XZ,{checked:e,id:"recommendation",name:"recommendation",onChange:t})})}function S({name:e,nameValidatorErrors:t,onChange:o}){const n=(0,d.ZP)();return(0,l.jsx)(c,{label:n._('Name', 'BoardForm.BoardFormTitleInput', 'Form field label'),labelId:"boardEditName",children:(0,l.jsx)(r.nv,{errorMessage:t.join(", "),id:"boardEditName",name:"boardName",onChange:o,placeholder:n._('Like "Places to Go" or "Recipes to Make"', ' - ', ' -- '),size:"lg",value:e})})}var I=o(66699),T=o(497997),z=o(50286),k=o(121151),D=o(343341),R=o(134906);function O(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const L=(0,n.lazy)((()=>o.e(13021).then(o.bind(o,213021)))),B=(e,t)=>(0,R.Gy)({max:e,maxErrorString:(0,I.Z)(t._('Please enter no more than {{ maxLength }} characters.', 'Validation error when a string is too long', 'Validation error when a string is too long'),{maxLength:e})}),M=e=>[B(C.Z.MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION,e)],F=e=>[(0,R.aH)({message:e._('Don\'t forget to name your board!', ' - ', ' -- ')}),B(C.Z.MAX_CHARS_FOR_BOARD_TITLE,e)],N=({condition:e,children:t})=>e?(0,l.jsx)(r.xu,{position:"absolute",zIndex:k.b7,children:t}):t;class Z extends n.Component{constructor(e){super(e),O(this,"handleChangeName",(({value:e})=>{const t=(0,R.FU)(F(this.props.i18n),e);this.setState({name:e,nameValidatorErrors:t})})),O(this,"handleChangeDescription",(({value:e})=>{const t=(0,R.FU)(M(this.props.i18n),e);this.setState({description:e,descriptionValidatorErrors:t})})),O(this,"handleChangePrivacyToggle",(({value:e})=>{let t="public";e&&(t=this.props.isAdAccount?"protected":"secret"),this.state.privacy!==t&&this.setState({privacy:t})})),O(this,"handleEnableSecret",(()=>{this.setState({privacy:"secret",showSecretConfirmation:!1})})),O(this,"handleHideSecretConfirmation",(()=>{this.setState({showSecretConfirmation:!1})})),O(this,"handleChangeRecommendationToggle",(({value:e})=>{this.setState({allowHomefeedRecommendations:e})})),O(this,"handleChangeCollabBoardEmail",(({value:e})=>{this.setState({collab_board_email:e})})),O(this,"handleChangeCollaboratorInvitesEnabled",(({value:e})=>{this.setState({collaboratorInvitesEnabled:e})})),O(this,"handleCheckboxChange",(e=>({event:t,checked:o})=>e({event:t,value:o}))),O(this,"handleSubmit",(e=>{const{onSubmit:t}=this.props,{collab_board_email:o,collaboratorInvitesEnabled:n,description:i,name:s,privacy:r,allowHomefeedRecommendations:l}=this.state;if(e.preventDefault&&e.preventDefault(),this.submitDisabled())return;const a=s.trim(),c=i.trim();this.setState({submitting:!0,submitError:""}),t({name:a,collab_board_email:o,collaborator_invites_enabled:n,description:c,privacy:r,allow_homefeed_recommendations:l}).then((()=>{this.setState({submitting:!1})})).catch((e=>{let t=this.props.i18n._('Uh oh! Something went wrong.', ' - ', ' -- ');if(e.message){const{message:o,message_detail:n}=e;t=n?`${o} ${n}`:o}else"string"==typeof e&&(t=e);this.setState({submitting:!1,submitError:t})}))})),O(this,"handleShowBoardCoverEditModal",(()=>{this.setState({showBoardCoverEdit:!0})})),O(this,"handleHideBoardCoverEditModal",(()=>{this.setState({showBoardCoverEdit:!1})})),O(this,"handleShowCollaboratorsModal",(()=>{this.setState({showCollaboratorsModal:!0})})),O(this,"handleHideCollaboratorsModal",(()=>{this.setState({showCollaboratorsModal:!1})})),O(this,"handleSaveBoardCoverEditModal",(e=>{this.handleHideBoardCoverEditModal();const{onCropChange:t}=this.props;t&&t(e)}));const{board:{collab_board_email:t,collaborator_invites_enabled:o,description:n,name:i,pin_count:s,privacy:r,allow_homefeed_recommendations:l}}=e;this.state={collab_board_email:t,description:n,name:i,pin_count:s,privacy:r,allowHomefeedRecommendations:l,collaboratorInvitesEnabled:o,nameValidatorErrors:[],descriptionValidatorErrors:[],showBoardCoverEdit:!1,showCollaboratorsModal:!1,showSecretConfirmation:!1,submitting:!1,previousName:i,previousDescription:n,previousPrivacy:r}}static getDerivedStateFromProps(e,t){const o={};return e.board.name&&e.board.name!==t.previousName&&(o.previousName=e.board.name,o.nameValidatorErrors=(0,R.FU)(F(e.i18n),e.board.name)),e.board.description&&e.board.description!==t.previousDescription&&(o.previousDescription=e.board.description,o.descriptionValidatorErrors=(0,R.FU)(M(e.i18n),e.board.description)),e.board.privacy&&e.board.privacy!==t.previousPrivacy&&(o.previousPrivacy=e.board.privacy),o}getFormFooter(){const{submitText:e}=this.props,{submitError:t}=this.state;return(0,l.jsxs)(n.Fragment,{children:[(0,l.jsx)(r.kC,{alignItems:"center",justifyContent:"end",wrap:!0,children:(0,l.jsx)(r.xu,{children:(0,l.jsx)(r.kC,{alignItems:"stretch",justifyContent:"start",children:(0,l.jsx)(r.xu,{height:48,children:(0,l.jsx)(r.zx,{color:"red",disabled:this.submitDisabled(),onClick:this.handleSubmit,size:"lg",text:e,type:"submit"})})})})}),t&&(0,l.jsx)(r.xu,{paddingX:1,"aria-live":"polite",tabIndex:"0",children:(0,l.jsx)(r.xv,{color:"error",children:t})})]})}submitDisabled(){const{descriptionValidatorErrors:e,name:t,nameValidatorErrors:o,submitting:n}=this.state;return!t||o.length>0||e.length>0||n}render(){const{board:e,board:{archived_by_me_at:t,cover_pin:o,id:a,is_collaborative:c},coverImageHeight:d,coverImageWidth:u,currentUserIsOwner:_,handleBoardLeave:p,isAdAccount:g,isAdAccountOwner:x,isDeletable:b,isDesktop:v,isEditable:C,isNameAndSecretView:I,onClose:z,onDeleteButtonClick:D,requestContext:R,title:O,useModalWithNoLayer:B}=this.props,{allowHomefeedRecommendations:M,collab_board_email:F,collaboratorInvitesEnabled:Z,description:U,descriptionValidatorErrors:G,name:H,nameValidatorErrors:V,pin_count:W,privacy:$,showBoardCoverEdit:Y,showCollaboratorsModal:K,showSecretConfirmation:q}=this.state,X=C&&W>0;let Q=(0,l.jsxs)(A,{children:[X&&(0,l.jsx)(h,{coverPin:o,handleShowBoardCoverEditModal:this.handleShowBoardCoverEditModal}),(0,l.jsx)(S,{name:H,nameValidatorErrors:V,onChange:this.handleChangeName}),(0,l.jsx)(w,{description:U,descriptionValidatorErrors:G,onChange:this.handleChangeDescription}),_&&!!p&&(0,l.jsx)(y,{board:e,onCollaboratorInviteClick:this.handleShowCollaboratorsModal}),(0,l.jsx)(r.xu,{marginBottom:-7,children:(0,l.jsx)(r.xv,{size:"100",children:this.props.i18n._('Settings', 'BoardForm.BoardForm', 'Section heading in board edit form')})}),(0,l.jsx)(j,{isProtectedToggler:!!g,isToggleDisable:!!g&&!x,onChange:this.handleChangePrivacyToggle,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle),privacy:$}),!t&&(0,l.jsx)(E,{allowHomefeedRecommendations:M,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),(0,l.jsx)(m,{hasCollabBoardEmail:F,isCollaborative:c,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),(0,l.jsx)(P,{collaboratorInvitesEnabled:Z,isCollaborative:c,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollaboratorInvitesEnabled)}),b&&(0,l.jsxs)(r.xu,{marginTop:-6,paddingY:4,children:[(0,l.jsx)(r.xv,{size:"100",children:this.props.i18n._('Action', 'BoardForm.BoardForm.Action', 'Section heading in board edit form')}),(0,l.jsxs)(r.iP,{onTap:D,children:[(0,l.jsx)(r.xu,{marginTop:2,marginBottom:1,"data-test-id":"deleteBoardButton",children:(0,l.jsx)(r.X6,{size:"400",children:this.props.i18n._('Delete board', 'BoardForm.Delete', 'Delete board label')})}),(0,l.jsx)(r.xv,{size:"300",color:"subtle",children:this.props.i18n._('Delete this board and all its Pins forever.', 'BoardForm.BoardForm.Delete.Label', 'Delete board warning text')}),(0,l.jsx)(r.xv,{size:"300",color:"subtle",children:this.props.i18n._('You can\'t undo this!', 'BoardForm.BoardForm.Delete.LabelTwo', 'Delete board warning text')})]})]})]});_?I&&(Q=(0,l.jsxs)(A,{children:[(0,l.jsx)(S,{name:H,nameValidatorErrors:V,onChange:this.handleChangeName}),(0,l.jsx)(j,{isProtectedToggler:!!g,isToggleDisable:!!g&&!x,onChange:this.handleChangePrivacyToggle,privacy:$,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle)})]})):Q=(0,l.jsxs)(A,{children:[!!p&&(0,l.jsx)(y,{board:e,onCollaboratorInviteClick:this.handleShowCollaboratorsModal}),(0,l.jsx)(m,{hasCollabBoardEmail:F,isCollaborative:c,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),!t&&(0,l.jsx)(E,{allowHomefeedRecommendations:M,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),(0,l.jsx)(r.xv,{color:"subtle",size:"300",children:(0,f.nk)(this.props.i18n._('Only the board\u2019s owner ({{ boardOwner }}) can manage the rest of its features', 'BoardForm.CollaboratorPermissionsCopy', 'Copy on board edit form letting collaborators know of their permissions on a board'),{boardOwner:(0,l.jsx)(r.xv,{color:"subtle",inline:!0,size:"300",weight:"bold",children:e.owner.full_name})})})]});const J=B?r.u_:k.ZP,ee=this.props.i18n._('Change board cover', 'BoardForm.BoardCoverEdit.heading', 'Change board cover heading'),te=(0,l.jsxs)(r.xu,{paddingY:8,position:"relative",children:[(0,l.jsx)(r.X6,{align:"center",size:"500",children:ee}),(0,l.jsx)(r.xu,{position:"absolute",top:!0,left:R.isRTL,right:!R.isRTL,paddingY:8,paddingX:6,children:(0,l.jsx)(r.hU,{accessibilityLabel:this.props.i18n._('Cancel change board cover', 'BoardForm.BoardCoverEdit.cancel', 'Cancel change board cover heading'),icon:"cancel",iconColor:"darkGray",onClick:this.handleHideBoardCoverEditModal,size:"md"})})]});return(0,l.jsxs)(n.Fragment,{children:[(0,l.jsx)(N,{condition:!!B,children:!Y&&!K&&(0,l.jsx)(J,{accessibilityModalLabel:this.props.i18n._('Board form', 'BoardForm.BoardForm', 'Accessibility label on board form'),size:"sm",onDismiss:z,footer:this.getFormFooter(),heading:O,children:(0,l.jsx)(r.xu,{marginEnd:"auto",marginStart:"auto",rounding:2,children:(0,l.jsx)("form",{method:"post",onSubmit:this.handleSubmit,children:Q})})})}),Y&&v&&(0,l.jsx)(T.Z,{children:(0,l.jsx)(L,{boardId:a,boardName:H,coverPinId:null==o?void 0:o.pin_id,frameHeight:d,frameWidth:u,heading:te,onCancel:this.handleHideBoardCoverEditModal,onSave:this.handleSaveBoardCoverEditModal})}),q&&(0,l.jsx)(s.Z,{confirmButtonLabel:this.props.i18n._('Make secret', 'Setting the boards visibility to secret', 'Setting the boards visibility to secret'),heading:this.props.i18n._('Are you sure?', 'Warning label asking users to be sure of their action', 'Warning label asking users to be sure of their action'),message:this.props.i18n._('If you make this board secret, some active ads will stop running', 'Explicitly warning users of the board visibility action they are doing', 'Explicitly warning users of the board visibility action they are doing'),onCancel:this.handleHideSecretConfirmation,onConfirm:this.handleEnableSecret}),K&&(0,l.jsx)(i.Z,{board:e,fromBoardEditModal:!0,onDismiss:this.handleHideCollaboratorsModal})]})}}function U(e){const t=(0,d.ZP)(),o="desktop"===(0,z.ZP)();return(0,l.jsx)(Z,{...e,isDesktop:o,i18n:t,requestContext:(0,u.B)(),toastManagerContext:(0,D.F9)()})}O(Z,"defaultProps",{isNameAndSecretView:!1})},90543:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(667294),i=o(934523),s=o(883119),r=o(11921),l=o(920005),a=o(29498),c=o(785893);function d({children:e,className:t,forwardRef:o,offset:d=0,position:u,shouldShowShadow:_=!1,style:h={},top:p}){const{setIsContentHeaderPresent:m}=(0,r.i)();(0,n.useEffect)((()=>(m(!0),function(){m(!1)})),[]);const{currentScrollPosition:g,isScrolled:f,setSubheaderShadow:x}=(0,a.WQ)();(0,n.useEffect)((()=>(_&&x("contentHeader"),()=>{_&&x(null)})),[_]);let b=!1;"pending"!==p&&(b=null!=p?g>=p:f);const v=(0,l.t)(),y=(0,c.jsx)("div",{className:t,ref:o,style:{...h,top:v+d,...b&&_?{...i.Rz,zIndex:499}:{},...u&&"sticky"!==u?{position:u}:{}},children:e});return"sticky"===u?(0,c.jsx)(s.Le,{top:v+d,children:y}):y}},11921:(e,t,o)=>{o.d(t,{Z:()=>a,i:()=>l});var n=o(667294),i=o(425288),s=o(785893);const{Provider:r,useHook:l}=(0,i.Z)("ContentHeader");function a({children:e}){const[t,o]=(0,n.useState)(!1),i=(0,n.useMemo)((()=>({isContentHeaderPresent:t,setIsContentHeaderPresent:o})),[t]);return(0,s.jsx)(r,{value:i,children:e})}},160380:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(772745),i=o(240684),s=o(785893);const r=(0,i.ZP)({resolved:{},chunkName:()=>"EditorWithMentionsInternal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!o.m[t]},importAsync:()=>Promise.all([o.e(89333),o.e(35978)]).then(o.bind(o,158266)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return o(t)},resolve(){return 158266}});function l(e){return(0,s.jsx)(r,{...e,fallback:(0,s.jsx)(n.Z,{})})}},772745:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(898781),i=o(883119),s=o(785893);function r(){const e=(0,n.ZP)();return(0,s.jsx)(i.kC,{alignItems:"center",justifyContent:"center",children:(0,s.jsx)(i.$j,{accessibilityLabel:e._('Loading editor', 'EditorWithMentionsFallback.loading', 'Message shown while waiting for the editor to load'),show:!0})})}},641012:(e,t,o)=>{o.d(t,{SF:()=>n,XU:()=>s,b7:()=>i});const n=5,i=5,s=1},545062:(e,t,o)=>{o.d(t,{Z:()=>C});var n=o(667294),i=o(702664),s=o(694379),r=o(898781),l=o(349700),a=o(883119),c=o(785893);const d=({followText:e,followerCount:t,userFollowed:o})=>{const n=(0,r.ZP)();return(0,l.nk)(n._('{{ followCount }} {{ followText }}', ' - ', ' -- '),{followCount:(0,c.jsx)(a.xu,{"data-test-id":"followCount",paddingX:1,opacity:o?void 0:.8,children:(0,c.jsx)(a.xv,{color:o?"subtle":"inverse",children:(0,c.jsx)(s.Z,{value:t,shortform:!0,shortformMaximumFractionDigits:0})})},"followCount"),followText:(0,c.jsx)(a.xu,{"data-test-id":"followText",paddingX:1,children:(0,c.jsx)(a.xv,{color:o?"default":"inverse",weight:"bold",children:e})},"followText")})};var u=o(704177),_=o(829407),h=o(602574),p=o(11363),m=o(584595),g=o(407043),f=o(918301),x=o(281180),b=o(480622),v=o(946984),y=o(343341),P=o(5226);function w(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class A extends n.PureComponent{constructor(...e){super(...e),w(this,"handleButtonClick",this.props.requireAuth((({event:e})=>{this.props.shouldStopEventPropagation&&(e.preventDefault(),e.stopPropagation());const{loggingData:t}=this.props;this.props.logContextEvent({event_type:101,component:13672,element:11951,object_id_str:this.props.id,view_type:this.props.viewType,view_parameter:this.props.viewParameter,...t||Object.freeze({})}),this.toggleFollowUnfollow()}),(0,p.N4)({i18n:this.props.i18n,toFollow:!this.props.userFollowed}))),w(this,"handleClick",this.props.requireAuth((({event:e})=>{this.props.shouldStopEventPropagation&&e.stopPropagation(),this.toggleFollowUnfollow()}))),w(this,"toggleFollowUnfollow",(()=>{const{id:e,mostRecentPinId:t,loggingData:o,userFollowed:n,viewType:i,viewParameter:s}=this.props;n?(this.props.logContextEvent({event_type:46,object_id_str:e,view_type:i,view_parameter:s,aux_data:{pin_id:t},...o||Object.freeze({})}),this.unfollow()):(this.props.logContextEvent({event_type:45,object_id_str:e,view_type:i,view_parameter:s,aux_data:{pin_id:t},...o||Object.freeze({})}),this.follow())})),w(this,"follow",(()=>{const{follow:e,id:t,onUserFollow:o,mostRecentPinId:n,setMostRecentPinId:i}=this.props;e(t,n,this.showConfirmation,this.showError),o&&o(!0),i(null)})),w(this,"showToast",(e=>{const{id:t,imageUrl:o,profileUrl:n,toastManagerContext:i,suppressToasts:s}=this.props;s||i.showOneToast((({hideToast:i})=>(0,c.jsx)(h.Z,{href:n,userId:t,imageUrl:o,handleHide:i,text:e})))})),w(this,"showConfirmation",(()=>{const e=(0,c.jsx)(n.Fragment,{children:(0,c.jsx)(a.xv,{children:this.props.i18n._('Following! Their created Pins will show up in your home feed!', 'userFollowButton.informationalToastText2', 'Text explaining that a creator\'s Pins will show up in home feed after follow')})});this.showToast(e)})),w(this,"showError",(e=>{const{fullName:t,userFollowed:o,showEmailVerificationReminderModal:i}=this.props,s=o?this.props.i18n._('Error unfollowing {{ usernameComponent }}.', 'UserFollowButton.error.unfollowing', 'When there is an API error when unfollowing a user'):this.props.i18n._('Error following {{ usernameComponent }}.', 'UserFollowButton.error.following', 'When there is an API error when following a user');if(e&&e.api_error_code===m.H9)return void i();const r=(0,c.jsx)(n.Fragment,{children:(0,c.jsx)(a.xv,{children:(0,l.nk)(s,{usernameComponent:(0,c.jsx)(a.xv,{weight:"bold",inline:!0,children:t})})})});this.showToast(r)})),w(this,"unfollow",(()=>{const{id:e,onUserFollow:t,unfollow:o,mostRecentPinId:n,setMostRecentPinId:i}=this.props;o(e,n,(()=>{}),this.showError),t&&t(!1),i(null)}))}renderButton(){const{button:e,followerCount:t,inline:o=!1,isOwnProfile:n,invertButtonColor:i,isSecondaryButton:s,size:r,showFollowerCount:l,userFollowed:u}=this.props,_=u?this.props.i18n._('Following', 'User follow button', 'User follow button'):this.props.i18n._('Follow', 'User follow button', 'User follow button');if(e)return e({followText:_,onClick:this.handleButtonClick,userFollowed:u});if(n)return(0,c.jsx)(a.zx,{fullWidth:!0,disabled:!0,text:this.props.i18n._('This is you', 'Button label to note that this is your Profile', 'Button label to note that this is your Profile')});if(l){const e="number"==typeof t?(0,c.jsx)(d,{followerCount:t,userFollowed:u,followText:_}):_;return(0,c.jsx)(a.iP,{onTap:this.handleClick,children:(0,c.jsx)(a.xu,{color:u?"secondary":"primary",rounding:2,paddingX:3,paddingY:3,children:(0,c.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:e})})})}return(0,c.jsx)(a.xu,{display:"inlineBlock","data-test-id":`user-${u?"unfollow":"follow"}-button`,children:(0,c.jsx)(a.zx,{accessibilityLabel:u?this.props.i18n._('Unfollow', 'userUnfollowButton.button.accessibilityLabel', 'Accessibility label for the unfollow button'):this.props.i18n._('Follow', 'userFollowButton.button.accessibilityLabel', 'Accessibility label for the follow button'),color:s||u?"gray":"red",selected:i?!u:!!u,fullWidth:o,onClick:this.handleButtonClick,size:null!=r?r:void 0,text:_})})}render(){const{showPulsar:e,userFollowed:t}=this.props;return(0,c.jsxs)(a.xu,{position:"relative",display:"flex",children:[this.renderButton(),e&&(0,c.jsx)(a.iP,{onTap:this.handleClick,children:(0,c.jsx)(a.xu,{position:"absolute",display:"inlineBlock",dangerouslySetInlineStyle:{__style:{marginLeft:-86,marginTop:-28}},children:(0,c.jsx)(a.o3,{paused:t||!1})})})]})}}function C(e){const{logContextEvent:t}=(0,g.v)(),o=(0,r.ZP)(),{id:n,setMostRecentPinId:s}=(0,b.f)(),l=(0,v.Z)(),a=(0,i.useDispatch)(),{showEmailVerificationReminderModal:d}=(0,f.y9)(),h=(0,x.mN)()(e.id),p=null==h?void 0:h.follower_count,m=h?h.explicitly_followed_by_me:e.userFollowed;return(0,_.Z)((()=>{const{id:t}=e,o=u.ZP.localStorage.getItem("unauthDesktopFollowId")||"";o&&o===t&&(u.ZP.localStorage.removeItem("unauthDesktopFollowId"),a((0,P.ZN)(o)))})),(0,c.jsx)(A,{...e,follow:(e,t,o,n)=>{a((0,P.yA)(e,t)).then(o).catch((e=>{n(e)}))},followerCount:p,i18n:o,logContextEvent:t,mostRecentPinId:n,requireAuth:l,setMostRecentPinId:s,showEmailVerificationReminderModal:d,toastManagerContext:(0,y.F9)(),unfollow:(e,t,o,n)=>{a((0,P.KF)(e,t)).then(o,n)},userFollowed:m})}},70598:(e,t,o)=>{o.d(t,{Z:()=>w});var n=o(829407),i=o(898781),s=o(112690),r=o(728214),l=o(602574),a=o(667679),c=o(19121),d=o(957314),u=o(755506),_=o(773285),h=o(802201),p=o(281180),m=o(50286),g=o(276775),f=o(343341),x=o(687999),b=o(867820),v=o(883119),y=o(785893);const P=({children:e,pulsar:t,testId:o})=>t.show?(0,y.jsx)(v.xu,{position:"relative","data-test-id":o,children:(0,y.jsxs)(v.iP,{tapStyle:"none",onTap:t.onClick,children:[(0,y.jsx)(v.xu,{position:"absolute",marginTop:-5,dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},children:e}),(0,y.jsx)(v.xu,{position:"absolute",marginTop:-12,dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},children:(0,y.jsx)(v.o3,{})})]})}):(0,y.jsx)(v.xu,{"data-test-id":o,children:e});function w({auxData:e,disabled:t,disableLog:o,followEventType:w,id:A,inline:C,invertColors:j,isFollowed:E,isIdeaPin:S,isLegoEnabled:I,isSecondaryButton:T,isUserFollowButton:z,isUserMe:k,onFollow:D,onUnfollow:R,pinId:O,shouldUseLegoColors:L,showPulsar:B,size:M,textType:F="FollowFollowing",unfollowEventType:N,viewParameter:Z,viewType:U}){const G=(0,i.ZP)(),H=(0,g.TH)(),V=(0,m.HG)(),{showToast:W}=(0,f.F9)(),$=(0,s.Z)(),Y=(0,a.Z)(),{checkExperiment:K}=(0,_.F)(),q=(0,r.Z)(),X=(0,c.Z)(),Q=X&&X.isAuth,{unauthFollowUserId:J,setUnauthFollowUserId:ee}=(0,x.f)(),te=(0,p.mN)()(A),oe=(0,h.S6)()(null!=O?O:""),ne=(0,u.wS)(oe),ie=null!=te?te:ne;(0,n.Z)((()=>{!V&&Q&&J&&A&&J===A&&D(A)}));const se=q({fn:()=>{Q?E?(R(A),o||$({event_type:N,view_type:U,view_parameter:Z,object_id_str:A,aux_data:e})):(D(A),z&&W((({hideToast:e})=>{if(!ie)return null;const t=ie.username?`/${ie.username}/`:"";return(0,y.jsx)(l.Z,{handleHide:e,text:(0,y.jsx)(v.xv,{children:G._('Following! Their created Pins will show up in your home feed!', 'followButton.follow.informationalToastText', 'Text explaining that a creator\'s Pins will show up in home feed after follow')}),userId:A,href:t,imageUrl:ie.image_medium_url})})),o||$({event_type:w,view_type:U,view_parameter:Z,object_id_str:A,aux_data:e})):((0,b.My)(`mweb_unauth_follow_button.tap.${String(U)}`),5===U&&26===w&&(0,b.My)("mweb_unauth_board_page_follow_button.tap"),(0,b.NC)(E?"press_profile_unfollow":"press_profile_follow"),(0,b.LW)({action:"click",pageLocation:H,item:"board-follow-button"}),Y({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:S?"tap.unauth_idea_pin.follow_button":"tap.unauth.follow_button",desktopOptions:{modalType:"signup",modalOptions:V&&K("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!V&&K("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0}),V||ee(null!=A?A:""),(0,b.NC)("clickthrough"))},modalHeader:(0,d.N4)({i18n:G,toFollow:!E})}),re=!E&&!!B,le=()=>{if(k)return G._('That\'s you!', 'Follow button is disabled because this is you', 'Follow button is disabled because this is you');if("AddRemove"===F)return E?G._('Add', 'followButton.addText', 'Follow button label - unfollowed state, so user can click to "add" the follow'):G._('Remove', 'unfollowButton.removeText', 'Follow button label - followed state, so user can click to "remove" the follow');const e="FollowUnfollow"===F?G._('Unfollow', 'unfollowButton.unfollowText', 'Follow button label - followed state, so user can click to "unfollow" the follow'):G._('Following', 'Follow button label - followed state', 'Follow button label - followed state');return E?e:G._('Follow', 'Follow button label - unfollowed state', 'Follow button label - unfollowed state')};return(0,y.jsx)(P,{pulsar:re?{show:!0,onClick:se}:{show:!1},testId:k||E?"board-unfollow-button":"board-follow-button",children:(0,y.jsx)(v.zx,{color:L||"AddRemove"===F||!I&&T||E?"gray":"red",disabled:k||t,fullWidth:C,onClick:re?void 0:({event:t})=>{t.preventDefault(),t.stopPropagation(),o||$({event_type:101,component:13672,element:11951,object_id_str:A,view_type:U,view_parameter:Z,aux_data:e}),se()},selected:j?!E:L&&E||!!E&&T,size:M,text:le(),accessibilityLabel:le()})})}},91214:(e,t,o)=>{o.d(t,{HW:()=>r,YW:()=>u,i3:()=>_,o2:()=>d});var n=o(667294),i=o(425288),s=o(785893);const r=660,l={educationId:null,paddingRight:0,zIndex:r};function a(e,t){switch(t.type){case"FOOTER_SET_EDUCATION_ID":const{educationId:o}=t.payload;return{...e,educationId:o};case"FOOTER_SET_PADDING_RIGHT":const{paddingRight:n}=t.payload;return{...e,paddingRight:n};case"FOOTER_SET_Z_INDEX":const{zIndex:i}=t.payload;return{...e,zIndex:i};default:return e}}const{Provider:c,Consumer:d,useHook:u}=(0,i.Z)("footerContext");function _({children:e}){const[t,o]=(0,n.useReducer)(a,l),i=(0,n.useCallback)((e=>o({type:"FOOTER_SET_PADDING_RIGHT",payload:{paddingRight:e}})),[]),r=(0,n.useCallback)((e=>o({type:"FOOTER_SET_EDUCATION_ID",payload:{educationId:e}})),[]),d=(0,n.useCallback)((e=>o({type:"FOOTER_SET_Z_INDEX",payload:{zIndex:e}})),[]),u=(0,n.useMemo)((()=>({...t,setEducationId:r,setPaddingRight:i,setZIndex:d})),[t,r,i,d]);return(0,s.jsx)(c,{value:u,children:e})}},920005:(e,t,o)=>{o.d(t,{c:()=>i,t:()=>s});var n=o(385269);function i({children:e}){const{height:t}=(0,n.J)();return e(t)}function s(){const{height:e}=(0,n.J)();return e}},385269:(e,t,o)=>{o.d(t,{J:()=>c,Z:()=>h});var n=o(667294),i=o(439181),s=o(425288),r=o(934523),l=o(785893);const{Provider:a,useHook:c}=(0,s.Z)("Header"),d={childList:!0,attributes:!0,subtree:!0},u={height:r.cI,isInBiznuxFullscreen:!1,repinPinId:null,repinStartAnimation:!1,showAccountMenuFlyout:!1};function _(e,t){switch(t.type){case"showAccountMenuFlyout":return{...e,showAccountMenuFlyout:!0};case"hideAccountMenuFlyout":return{...e,showAccountMenuFlyout:!1};case"showRepinAnimation":return{...e,repinStartAnimation:!0,repinPinId:t.payload};case"hideRepinAnimation":return{...e,repinStartAnimation:!1,repinPinId:null};case"updateHeight":return{...e,height:t.payload};case"updateIsInBiznuxFullscreen":return{...e,isInBiznuxFullscreen:t.payload};default:throw new Error("action type not supported")}}function h({children:e}){const t=(0,n.useRef)(null),[{height:o,isInBiznuxFullscreen:s,repinPinId:c,repinStartAnimation:h,showAccountMenuFlyout:p},m]=(0,n.useReducer)(_,u);(0,n.useEffect)((()=>{const e=document.getElementById(r.WZ),o=()=>{e&&m({type:"updateHeight",payload:e.clientHeight})};return e&&"undefined"!=typeof MutationObserver&&(t.current=new MutationObserver(o),t.current.observe(e,d)),()=>{var e;null===(e=t.current)||void 0===e||e.disconnect()}}));const g=(0,n.useMemo)((()=>({height:o,isInBiznuxFullscreen:s,repinPinId:c,repinStartAnimation:h,showAccountMenuFlyout:p,updateHeaderState:m})),[m,o,s,c,h,p]);return(0,l.jsx)(a,{value:g,children:(0,l.jsx)(i.t,{children:e})})}},29498:(e,t,o)=>{o.d(t,{Hv:()=>c,WQ:()=>a});var n=o(667294),i=o(766935),s=o(425288),r=o(785893);const{Provider:l,useHook:a}=(0,s.Z)("HeaderShadow");function c({children:e}){const[t,o]=(0,n.useState)(!1),[s,a]=(0,n.useState)(0),[c,d]=(0,n.useState)(null);return(0,n.useEffect)((()=>{const e=(0,i.Z)((()=>{o(window.scrollY>0),a(window.scrollY)}),50);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}),[]),(0,r.jsx)(l,{value:{currentScrollPosition:s,isScrolled:t,setSubheaderShadow:d,subheaderShadow:c},children:e})}},2361:(e,t,o)=>{o.d(t,{G:()=>_,Kl:()=>h,vo:()=>u});var n=o(667294),i=o(311541),s=o(425288),r=o(505920),l=o(785893);const a=()=>o.e(86497).then(o.bind(o,786497)),{Provider:c,useHook:d}=(0,s.Z)("NativeEngagements");function u({children:e}){const[t,o]=(0,i.Z)(a,[]),s=e=>{o({type:"FETCH_COMPLETE",payload:e})};(0,r.Z8)("NativeInteractionsResource",s),(0,r.my)("NativeInteractionsResource",s);const d=(0,n.useMemo)((()=>({dispatch:o,nativeEngagements:t})),[o,t]);return(0,l.jsx)(c,{value:d,children:e})}function _(){const{dispatch:e}=d();return(0,n.useMemo)((()=>({nativeEngagementsHiddenForUser:t=>{e({type:"NATIVE_ENGAGEMENT_HIDDEN_FOR_USER",payload:{userId:t}})}})),[e])}function h(){const{nativeEngagements:e}=d();return e}},232843:(e,t,o)=>{o.d(t,{H:()=>i,W:()=>s});var n=o(425288);const{Provider:i,useMaybeHook:s}=(0,n.Z)("PinCreateDeleteContext")},256883:(e,t,o)=>{o.r(t),o.d(t,{default:()=>D});var n,i,s,r=o(319915),l=o(705834),a=o(667294),c=o(116303),d=o(985913),u=o(70598),_=o(499128),h=o(50286),p=o(898781),m=o(780280),g=o(343341),f=o(883119),x=o(167912),b=o(785893);const v=void 0!==n?n:n=o(896355),y=({follower:e,viewerId:t,viewParameter:n,viewType:r})=>{const l=(0,p.ZP)(),y=(0,h.ZP)(),P=(0,x.useFragment)(v,e),{fullName:w,entityId:A,username:C,imageMediumUrl:j,imageXlargeUrl:E,explicitlyFollowedByMe:S,verifiedIdentity:I}=P,T=`/${String(C)}/`,{isRTL:z}=(0,m.B)(),{showOneToast:k}=(0,g.F9)();let D="";w&&w.length>0&&(D=w.length<=15?w:`${w.substring(0,15)}...`);const R=void 0!==i?i:i=o(382375),O=void 0!==s?s:s=o(200722),[L,B]=(0,x.useMutation)(R),[M,F]=(0,x.useMutation)(O),N=B||F,Z=()=>{S?M({variables:{followee:A}}):(L({variables:{followee:A}}),"desktop"===y&&k((({hideToast:e})=>(0,b.jsx)(_.ZP,{onHide:e,text:(0,b.jsxs)(a.Fragment,{children:[(0,b.jsx)(f.xv,{children:l._('Now following', 'text that comes before a board/user name in toast', 'text that comes before a board/user name in toast')}),(0,b.jsx)(f.xv,{weight:"bold",children:w})]}),href:T,imageUrl:null!=j?j:""}))))},U=C?`/${encodeURIComponent(C)}/`:"/",G=(0,d.Z)(l._('{{ pinnerFullName }} profile link', 'profileFollowers.link.accessibilityLabel', 'Accessibility label for user avatar'),{pinnerFullName:null!=w?w:""});return(0,b.jsx)(f.xu,{"data-test-id":"user-rep",display:"flex",justifyContent:"center",paddingX:2,height:75,position:"relative",children:(0,b.jsxs)(f.kC,{alignItems:"center",direction:"row",justifyContent:"start",width:"100%",children:["desktop"===y?(0,b.jsx)(f.xu,{width:72,children:(0,b.jsx)(f.rU,{accessibilityLabel:G,href:T,children:(0,b.jsx)(c.Z,{accessibilityLabel:"",name:null!=w?w:"",size:"lg",src:null!=E?E:void 0,verified:Boolean(null==I?void 0:I.verified)})},`${T}:avatar`)}):(0,b.jsx)(f.xu,{paddingX:2,children:(0,b.jsx)(f.HE,{accessibilityLabel:l._('User`s Avatar', 'User`s Avatar', 'User`s Avatar'),role:"link",href:U,collaborators:[{name:w||"",src:null!=j?j:void 0}],size:"sm"})}),(0,b.jsx)(f.xu,{paddingX:2,children:(0,b.jsx)(f.xv,{weight:"desktop"===y?"bold":void 0,children:(0,b.jsx)(f.rU,{href:U,rounding:2,tapStyle:"compress",children:D})})}),(0,b.jsx)(f.xu,{paddingX:3,position:"absolute",left:z,right:!z,children:(0,b.jsx)(u.Z,{id:A,disabled:N,size:"md",isFollowed:S||!1,isUserFollowButton:!0,isUserMe:!!t&&t===A,onFollow:Z,onUnfollow:Z,followEventType:45,unfollowEventType:46,viewParameter:n,viewType:r})})]})})};var P,w=o(19121);const A=()=>window;function C({scrollContainer:e,userReference:t}){var n,i,s;const r=(0,h.ZP)(),{data:l,loadNext:a,hasNext:c}=(0,x.usePaginationFragment)(void 0!==P?P:P=o(44438),t),{id:d}=(0,w.Z)(),u=(null===(n=l.followers)||void 0===n||null===(i=n.connection)||void 0===i||null===(s=i.edges)||void 0===s?void 0:s.map((e=>null==e?void 0:e.node)).filter(Boolean))||[];let _=300;"desktop"===r&&(_=e?535:600);const p=!!u&&(0,b.jsx)(f.Rk,{columnWidth:_,Item:({data:e})=>e?(0,b.jsx)(y,{follower:e,viewerId:d,viewType:4,viewParameter:50}):null,gutterWidth:0,items:null!=u?u:[],layout:"desktop"===r?"uniformRow":"flexible",loadItems:()=>{c&&a(10)},minCols:1,scrollContainer:null!=e?e:A,virtualize:!0});return"desktop"===r?(0,b.jsx)(f.kC,{justifyContent:"center",children:(0,b.jsx)(f.kC.Item,{maxWidth:_,children:p})}):p}var j,E=o(947599),S=o(430323),I=o(784590),T=o(276775);const z=void 0!==j?j:j=o(958045),k=({scrollContainer:e,userId:t})=>{var o;const n=(0,x.useLazyLoadQuery)(z,{userId:t}),{data:i}=null!==(o=n.v3GetUserHandlerQuery)&&void 0!==o?o:{};return i?(0,b.jsx)(l.Z,{viewType:4,viewParameter:50,children:(0,b.jsx)(S.Z,{view:4,component:223,children:(0,b.jsx)(f.xu,{"data-test-id":"profile-followers-feed",paddingY:2,children:(0,b.jsx)(C,{scrollContainer:e,userReference:i})})})}):null};function D({scrollContainer:e}){const t=(0,p.ZP)(),{username:o}=(0,T.UO)(),{data:n}=(0,I.Z)({name:"UserResource",options:{field_set_key:"profile",username:o}});return null!=n&&n.id?(0,b.jsx)(r.Z,{name:"SafeSuspense_ProfileFollowersControllerGraphQL_ProfileFollowersController",children:(0,b.jsx)(E.Z,{fallback:(0,b.jsx)(f.xu,{padding:5,children:(0,b.jsx)(f.$j,{accessibilityLabel:t._('Loading profile followers list', 'profile.ProfileFollowersControllerGraphQL.loading', 'accessibility label for profile followers loading spinner'),show:!0})}),children:(0,b.jsx)(k,{scrollContainer:e,userId:n.id})})}):null}},565733:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(66699);const i=(e,t)=>`${e>0?(0,n.Z)(t.ngettext('{{ pinCount }} Pin', '{{ pinCount }} Pins', e, 'Label for the number of scheduled pins a user owns', 'Label for the number of scheduled pins a user owns'),{pinCount:e}):t._('0 Pins', 'zero scheduled pins', 'zero scheduled pins')} ‧ ${t._('Only visible to you', 'The explanatory text that the scheduled pin section is only visible to the profile owner', 'The explanatory text that the scheduled pin section is only visible to the profile owner')}`},169158:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(667294),i=o(823493),s=o.n(i);function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class l extends n.PureComponent{constructor(...e){super(...e),r(this,"setContainerRef",(e=>{this.containerRef=e})),r(this,"fetchMoreIfNecessary",s()((()=>{const{fetchMore:e,scrollBuffer:t}=this.props;e&&this.containerRef&&(({scrollTop:e,clientHeight:t,scrollHeight:o},n)=>e+t+(n?n(t):2*t)>o)(this.containerRef,t)&&e()}),200))}componentDidMount(){setTimeout(this.fetchMoreIfNecessary)}componentDidUpdate(){this.fetchMoreIfNecessary()}render(){const{children:e}=this.props;return e({onScroll:this.fetchMoreIfNecessary,setRef:this.setContainerRef})}}},482664:(e,t,o)=>{o.d(t,{N:()=>d,Z:()=>_});var n=o(66699),i=o(941646),s=o(898781),r=o(349700),l=o(883119),a=o(785893);const c={__path:"M21 14.09a2.1 2.1 0 01-2.11 2.08 2.1 2.1 0 012.11 2.1 2.1 2.1 0 01-2.11 2.08H16.5c1.02 0 1.85.82 1.85 1.82 0 1.01-.83 1.83-1.85 1.83H9.9A7.87 7.87 0 012 16.17c0-2.2.93-4.2 2.41-5.61 2.19-2.3 3.4-5.3 3.4-8.47A2.1 2.1 0 019.9 0a2.1 2.1 0 012.12 2.09c0 1.99-.37 3.92-1.05 5.74h7.9A2.1 2.1 0 0121 9.9a2.1 2.1 0 01-2.11 2.1A2.1 2.1 0 0121 14.09z"};function d(e){const t=(0,s.ZP)(),{helpfulCount:o,isMarkedHelpfulByMe:n,onHelpfulClick:i}=e,d=t._('Helpful', 'Comments marked helpful text.', 'Comments marked helpful text.'),u=(0,r.nk)(t._('Helpful {{helpfulCount}}', 'Comments marked helpful count text.', 'Comments marked helpful count text.'),{helpfulCount:o||0});return(0,a.jsx)(l.kC,{alignItems:"center",justifyContent:"center",children:(0,a.jsx)(l.iP,{onTap:i,rounding:2,children:(0,a.jsxs)(l.kC,{alignItems:"center",justifyContent:"start",children:[(0,a.jsx)(l.JO,{accessibilityLabel:"helpful icon",dangerouslySetSvgPath:c,color:n?"brandPrimary":"subtle",size:16}),(0,a.jsx)(l.xu,{paddingX:1,children:(0,a.jsx)(l.xv,{size:"100",color:"subtle",weight:"bold",children:void 0!==o&&o>0?u:d})})]})})})}function u(e){const{likeCount:t,isLikedByMe:o,onLikeClick:n}=e;return(0,a.jsx)(l.kC,{alignItems:"center",justifyContent:"center",children:(0,a.jsx)(l.iP,{onTap:n,rounding:2,children:(0,a.jsxs)(l.xu,{display:"flex","data-test-id":"reactions-likeWithCountButton",children:[(0,a.jsx)(l.JO,{accessibilityLabel:"like icon",icon:"heart",color:o?"brandPrimary":"subtle",size:16}),t>0&&(0,a.jsx)(l.xu,{paddingX:1,"data-test-id":"reactions-likeCount",children:(0,a.jsx)(l.xv,{size:"100",color:"subtle",weight:"bold",children:t})})]})})})}function _(e){const t=(0,s.ZP)(),{commentCount:o=0,reactionCounts:r={},hideReplyCount:c,isLikedByMe:_=!1,onLikeClick:h,onReplyClick:p,onReplyCountClick:m,isMarkedHelpfulByMe:g,onHelpfulClick:f,helpfulCount:x,flyout:b,small:v}=e,y=r[1]||0,P=!!o&&(0,n.Z)(t.ngettext('{{commentCount}} reply', '{{commentCount}} replies', o, ' - ', ' -- '),{commentCount:o}),w=v?1:2;return(0,a.jsxs)(l.kC,{alignItems:"center",children:[(0,a.jsxs)(l.xu,{display:"flex",marginStart:-w,marginEnd:-w,children:[(0,a.jsx)(u,{likeCount:y,isLikedByMe:_,onLikeClick:h}),(0,a.jsx)(l.xu,{paddingX:w,children:(0,a.jsx)(i.Z,{id:"reactions-reply",children:(0,a.jsx)(l.hU,{accessibilityLabel:"Reply",bgColor:"transparent",icon:"speech",iconColor:"gray",onClick:p,size:v?"sm":"md"})})}),!!b&&(0,a.jsx)(l.xu,{paddingX:w,children:b})]}),(0,a.jsxs)(l.xu,{display:"flex",flex:"grow",justifyContent:"end",marginStart:-3,marginEnd:-3,children:[!!P&&!c&&(0,a.jsx)(i.Z,{id:"reactions-reply-count",children:(0,a.jsx)(l.xu,{paddingX:3,children:m?(0,a.jsx)(l.iP,{onTap:m,rounding:2,children:(0,a.jsx)(l.xv,{size:"200",color:"subtle",weight:"bold",children:P})}):(0,a.jsx)(l.xv,{size:"200",color:"subtle",weight:"bold",children:P})})}),(0,a.jsx)(d,{helpfulCount:x,isMarkedHelpfulByMe:g,onHelpfulClick:f})]})]})}},868065:(e,t,o)=>{o.d(t,{US:()=>m,X2:()=>f,mW:()=>g});var n=o(667294),i=o(6637),s=o(311541),r=o(760372),l=o(425288),a=o(505920),c=o(785893);const d=()=>o.e(62623).then(o.bind(o,462623));function u(e,t,o=!1){return{type:"TOPIC_FOLLOW",payload:{id:e,value:t,showTooltip:o}}}function _(e){return i.Z.create("InterestFollowResource",{interest_id:e,interest_list:r.X})}const{Provider:h,useHook:p}=(0,l.Z)("Topics");function m({children:e}){const[t,o]=(0,s.Z)(d,{}),i=e=>{o({type:"TOPIC_FETCH_COMPLETE",payload:e})};(0,a.Z8)("InterestFollowingResource",i),(0,a.Z8)("InterestResource",i);const r=(0,n.useMemo)((()=>({dispatch:o,topics:t})),[o,t]);return(0,c.jsx)(h,{value:r,children:e})}function g(){const{dispatch:e}=p();return(0,n.useMemo)((()=>({follow:(t,o=!1)=>{_(t).callCreate({showError:!1}).catch((()=>e(u(t,!1,o)))),e(u(t,!0,o))},unfollow:t=>{_(t).callDelete({showError:!1}).catch((()=>e(u(t,!0)))),e(u(t,!1))}})),[e])}function f(){const{topics:e}=p();return e}},687999:(e,t,o)=>{o.d(t,{f:()=>l,w:()=>a});var n=o(667294),i=o(425288),s=o(785893);const{Provider:r,useHook:l}=(0,i.Z)("Session");function a({children:e}){const[t,o]=(0,n.useState)(void 0),i=(0,n.useCallback)((()=>o(void 0)),[]),l=(0,n.useMemo)((()=>({unauthFollowUserId:t,setUnauthFollowUserId:o,removeUnauthFollowUserId:i})),[t,i]);return(0,s.jsx)(r,{value:l,children:e})}},326015:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(667294),i=o(993786),s=o(883119),r=o(785893);const l=function({badgeSize:e,badgeSpacing:t,fullName:o,identityIsVerified:l,isVerifiedMerchant:a,truncate:c=!1}){const d=o.split(" "),u=d.slice(0,d.length-1).join(" "),_=" ".concat(d[d.length-1]);return c?(0,r.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,r.jsx)(s.xv,{lineClamp:1,weight:"bold",children:o}),(0,r.jsx)(s.xu,{flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:t}},paddingX:1,children:(0,r.jsx)(i.Z,{size:e,hasVerifiedIdentity:l,isVerifiedMerchant:a})})]}):(0,r.jsxs)(n.Fragment,{children:[(0,r.jsx)("span",{children:u}),(0,r.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[_," ",(0,r.jsx)(s.xu,{display:"inlineBlock",flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:t}},children:(0,r.jsx)(i.Z,{size:e,hasVerifiedIdentity:l,isVerifiedMerchant:a})})]})]})}},486840:(e,t,o)=>{o.d(t,{Z:()=>u});var n=o(667294),i=o(231486),s=o(172071),r=o(6637),l=o(226198);function a(e,t){i.t8(l.L9,"allowed",(0,i.kZ)(l.L9)),t&&t(),s.Z.increment("auth.web.notifications.allowed",1);let o=e.subscriptionId;if(!o){const t=e.endpoint.split("/");o=t[t.length-1]}return r.Z.create("WebPushDeviceResource",{}).callGet({showError:!1}).then((t=>{var n,i;const s=null!==(n=null===(i=t.resource_response)||void 0===i?void 0:i.data)&&void 0!==n?n:{};if(!(o in s)){const t={registration_id:o,subscription_endpoint:e.endpoint};return r.Z.create("WebPushDeviceResource",t).callCreate()}}))}var c=o(19121);function d(e,t){var o;if(s.Z.increment("auth.web.notifications.viewed",1),"undefined"!=typeof navigator&&"serviceWorker"in navigator)return null===(o=navigator.serviceWorker)||void 0===o?void 0:o.ready.then((o=>{var n;null==o||null===(n=o.pushManager)||void 0===n||n.subscribe({userVisibleOnly:!0}).then((t=>a(t,e)),(o=>{"Notification"in window&&"denied"!==Notification.permission?(i.t8(l.L9,"dismissed",(0,i.kZ)(l.L9)),t&&t(),s.Z.increment("auth.web.notifications.dismissed",1)):(i.t8(l.L9,"denied",(0,i.kZ)(l.L9)),e&&e(),s.Z.increment("auth.web.notifications.denied",1))}))})).catch((()=>{}))}function u(){const{isAuth:e,isLimitedLogin:t}=(0,c.Z)();return(0,n.useEffect)((()=>{"serviceWorker"in navigator&&void 0!==navigator.serviceWorker&&navigator.serviceWorker.register("/sw.js").then((()=>{var o;t&&i.t8(l.L9,"denied",(0,i.kZ)(l.L9)),e||i.t8(l.L9,"denied",(0,i.kZ)(l.L9)),"showNotification"in ServiceWorkerRegistration.prototype||i.t8(l.L9,"denied",(0,i.kZ)(l.L9)),"Notification"in window&&"denied"!==Notification.permission||i.t8(l.L9,"denied",(0,i.kZ)(l.L9)),"PushManager"in window||i.t8(l.L9,"denied",(0,i.kZ)(l.L9)),null===(o=navigator.serviceWorker)||void 0===o||o.ready.then((e=>e.pushManager.getSubscription())).then((e=>{if(e)return a(e);throw i.t8(l.L9,"none",(0,i.kZ)(l.L9)),new Error})).catch((e=>{}))})).catch((()=>{}))}),[e,t]),d}},705834:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(667294),i=o(618446),s=o.n(i),r=o(674806),l=o(385740),a=o(785893);class c extends n.Component{componentDidMount(){const{setCurrentPageData:e,viewData:t,viewParameter:o,viewType:n}=this.props;e({viewData:t,viewParameter:o,viewType:n})}componentDidUpdate(e){const{setCurrentPageData:t,viewData:o,viewParameter:n,viewType:i}=this.props;n===e.viewParameter&&i===e.viewType&&s()(o,e.viewData)||t({viewData:o,viewParameter:n,viewType:i})}componentWillUnmount(){this.props.clearCurrentPageData()}render(){const{auxData:e,children:t,component:o,objectIdStr:n,viewData:i,viewParameter:s,viewType:l,clientTrackingParams:c}=this.props;return(0,a.jsx)(r.Z,{auxData:e,component:o,objectIdStr:n,clientTrackingParams:c,viewData:i,viewParameter:s,viewType:l,children:t})}}function d(e){const{setViewContextData:t,clearViewContextData:o}=(0,l.sV)();return(0,a.jsx)(c,{...e,clearCurrentPageData:o,setCurrentPageData:t})}},674806:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(667294),i=o(112690),s=o(867820);const r=({viewType:e,viewParameter:t,viewData:o,auxData:n,objectIdStr:i,component:r,clientTrackingParams:l,element:a},c)=>{const d=(u={event_type:13,view_type:e,view_parameter:t,view_data:o,aux_data:n,object_id_str:i,component:r,clientTrackingParams:l,element:a},Object.keys(u).reduce(((e,t)=>(void 0!==u[t]&&(e[t]=u[t]),e)),{}));var u;-1===Object.keys(d).indexOf("view_type")&&(0,s.My)("mweb.logging.null_view_type"),c(d)};function l(e){const{auxData:t,clientTrackingParams:o,children:s,component:l,element:a,objectIdStr:c,viewData:d,viewParameter:u,viewType:_}=e,h=(0,i.Z)(),p=JSON.stringify(t),m=JSON.stringify(d);return(0,n.useEffect)((()=>{r(e,h)}),[h,p,o,l,a,c,m,u,_]),n.Children.only(s)}},223656:(e,t,o)=>{o.d(t,{Z:()=>y});var n=o(667294),i=o(758127),s=o(898781),r=o(112690),l=o(892819),a=o(91885),c=o(349700),d=o(50286),u=o(780280),_=o(276602),h=o(883119),p=o(785893);const m="133%";function g(e){const{isRTL:t}=(0,u.B)(),o=(0,s.ZP)(),i=t?-1:1,{borderRadius:r=16,containerBackgroundColor:l="white",images:a,applyWash:c}=e,g=(0,_.EV)(),f=a.slice(0,5);for(;f.length<5;)f.push({name:"",url:""});const x=(0,d.HG)(),[b,v]=(0,n.useState)(Array.from({length:5},(()=>!1))),[y,P]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{b.includes(!1)||y||!g||(g.addAnnotation("allPinsCard.imagesLoaded"),P(!0))}),[y,b,g]),(0,p.jsxs)(h.xu,{"aria-hidden":!0,display:"flex",direction:"row",width:"100%",children:[(0,p.jsx)(h.sg,{span:6,children:(0,p.jsx)(h.xu,{position:"relative",children:f.map(((e,t)=>{var n;return(0,p.jsx)(h.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:m,borderRadius:r,transform:`translateX(${25*i*t}%)`,zIndex:x?0-t:100-t}},left:!0,position:0===t?"relative":"absolute",top:!0,height:x?157:void 0,width:"100%",children:(0,p.jsx)(h.xu,{position:"absolute",top:!0,bottom:!0,right:!0,left:!0,dangerouslySetInlineStyle:{__style:{border:`1px solid ${l}`,borderRadius:r}},overflow:"hidden",children:(0,p.jsx)(h.zd,{width:"100%",height:"100%",wash:c,children:(0,p.jsx)(h.Ee,{alt:e.name||o._('Pin image', 'pileImageGroup', 'Alt text for group of pin images'),color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:100,src:null!==(n=e.url)&&void 0!==n?n:"",onLoad:()=>{var e;e=t,v((t=>{const o=[...t];return o.splice(e,1,!0),o}))}})})})},t)}))})}),(0,p.jsx)(h.sg,{span:6})]})}var f=o(867820),x=o(808058),b=o(276775);const v=({children:e})=>(0,d.HG)()?(0,p.jsx)(h.X6,{accessibilityLevel:2,size:"400",lineClamp:1,children:e}):(0,p.jsx)(h.xv,{lineClamp:1,weight:"bold",children:e});function y({storyPinImages:e,pinCount:t,subtitle:o,userId:_,isOwnProfile:m}){const y=(0,s.ZP)(),P=(0,b.TH)(),w=(0,r.Z)(),A=(0,l.Z)(),C=(0,b.UO)(),{isAuthenticated:j,locale:E}=(0,u.B)(),{username:S}=C,I=`/${null!=S?S:""}/pins/`,T=(0,d.HG)(),[z,k]=(0,n.useState)(!1);return(0,p.jsx)(h.xu,{height:"100%",padding:T?2:0,"data-test-id":a.Kb,children:(0,p.jsx)(h.iP,{role:"link",href:I,rounding:2,tapStyle:"compress",onMouseEnter:()=>{k(!0)},onMouseLeave:()=>{k(!1)},onTap:()=>{j?T&&w({event_type:101,component:13676,object_id_str:_,view_type:4,view_parameter:m?3106:3107}):((0,f.NC)("click_go_to_board"),(0,f.LW)({action:"click",pageLocation:P,item:"board-card-all-pins"}))},children:(0,p.jsx)(h.xu,{paddingY:T?0:3,width:T?x.M0:void 0,children:(0,p.jsxs)(h.xu,{height:"100%",position:"relative",width:"100%",children:[(0,p.jsx)(g,{images:e,applyWash:z}),(0,p.jsxs)(h.xu,{display:"block",height:T?void 0:x.s0,marginTop:T?0:1,paddingX:2,paddingY:T?2:0,children:[(0,p.jsx)(h.kC,{alignItems:"center",flex:"grow",justifyContent:"between",children:(0,p.jsx)(v,{children:y._('All Pins', 'allPinsCard.heading', 'Label for component leading to a page that shows all Pins of a user')})}),(0,p.jsx)(h.xu,{alignItems:"center",direction:"row",display:"flex",marginTop:1,children:t?(0,p.jsxs)(h.xv,{size:"100",lineClamp:1,children:[(0,p.jsx)(i.Z,{}),(0,c.nk)(y.ngettext('{{ count }} Pin', '{{ count }} Pins', t, 'profile.ProfilePage.allPins.AllPinsCard.PinsCount', 'label for n amount of pins'),{count:A(E,t,{})}),(0,p.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{display:T?"inline-flex":"inline",paddingLeft:7}},children:(0,p.jsxs)(h.xv,{color:"subtle",inline:!0,size:"100",lineClamp:1,children:[(0,p.jsx)(i.Z,{}),o]})})]}):(0,p.jsxs)(h.xv,{color:"subtle",inline:!0,size:"100",lineClamp:1,children:[(0,p.jsx)(i.Z,{}),o]})})]})]})})})})}},14254:(e,t,o)=>{o.d(t,{Z:()=>P});var n=o(667294),i=o(948618),s=o(70598),r=o(298361),l=o(112690),a=o(892819),c=o(19121),d=o(349700),u=o(867820),_=o(773285),h=o(50286),p=o(758127),m=o(322937),g=o(898781),f=o(808058),x=o(883119),b=o(785893);function v(e,t){const{full_name:o,username:n}=e,i=(0,b.jsx)(x.rU,{href:`/${n}`,inline:!0,underline:"hover",children:o});return(0,d.nk)(t._('{{ linkToUser }} invited you to join this board', 'boardRep.invite.invitationText', 'Indicating that another user invited the viewer to this board'),{linkToUser:i})}const y=({children:e})=>{const t=(0,c.Z)(),o=(0,h.HG)(),n=t&&t.isAuth;return o&&n?(0,b.jsx)(x.X6,{accessibilityLevel:2,size:"400",lineClamp:1,children:e}):(0,b.jsx)(x.xv,{lineClamp:1,weight:"bold",children:e})};function P({archivedDate:e,boardUrl:t,canEdit:o,collaborators:c,collaboratorsCount:P=0,containerBackgroundColor:w,coverPhoto:A,followedByMe:C,fullSizeDrawer:j,sensitivityScreen:E,handleInviteResponse:S,hideMeta:I,id:T,invite:z,imagesLego:k=[],isBoardInviteAccepted:D,isActive:R,isAuthenticated:O,isCollaborative:L,isCollaborator:B,isOwner:M,isSecret:F,lastModifiedDate:N,layout:Z,locale:U,name:G,numCols:H,onEditClick:V,onFollow:W,onUnfollow:$,owner:Y,pinCount:K=0,sectionCount:q,showFollowButton:X,viewParameter:Q,viewType:J,viewerId:ee}){const te=(0,g.ZP)(),oe=(0,r.Z)(),ne=(0,a.Z)(),ie=(0,l.Z)(),se=(0,h.HG)(),re=se&&O,le="square"===Z?f.M0:f.z9,ae=k.map((e=>({url:e.url,name:G}))),ce=!!Y&&!o&&X,{checkExperiment:de}=(0,_.F)(),ue=!M&&!B&&de("mweb_board_sensitivity_screen").anyEnabled,_e=!(null==E||!E.show_warning)&&ue,he={board_id:T,reason:null==E?void 0:E.reason};(0,n.useEffect)((()=>{_e&&ie({event_type:13,component:13861,view_type:215,aux_data:he})}),[]);const pe=Y?Y.id:void 0,me=[...c.filter((({id:e})=>e===pe)),...c.filter((({id:e})=>e===ee&&e!==pe)),...c.filter((({id:e})=>![pe,ee].includes(e)))].map((e=>{var t,o;return{name:null!==(t=re?e.full_name:e.username)&&void 0!==t?t:"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":null!==(o=e.image_medium_url)&&void 0!==o?o:""}}));let ge=P>=me.length?P-me.length:0;ge=ge>99?100:ge;const fe=[...me,...Array(ge).fill({name:"",src:""})],xe=re?24:16,be=xe/3*(2*(me.length>2?3:me.length)+1);return(0,b.jsxs)(x.xu,{"data-test-id":`boardCard-${G}`,position:"relative",height:ce?"max(calc(25vh + 10px), 220px)":"100%",maxHeight:265,width:re?le:"100%",children:[(0,b.jsx)(m.Z,{canEdit:o,containerBackgroundColor:w,coverPhoto:A,images:ae,isSecret:F,fullSize:j,showSensitivityScreen:_e,isActive:R,onEditClick:V,layout:Z}),!I&&(0,b.jsx)(n.Fragment,{children:z?(0,b.jsxs)(n.Fragment,{children:[(0,b.jsxs)(x.xu,{padding:2,alignItems:"start","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,b.jsxs)(x.xu,{width:"100%",children:[(0,b.jsx)(x.rU,{href:null!=t?t:"",children:(0,b.jsx)(x.xu,{marginTop:0,marginBottom:1,children:(0,b.jsx)(y,{children:G})})}),D?(0,b.jsx)(x.xv,{size:"200",lineClamp:1,children:te._('You\u2019ve joined', 'boardRep.invite.invitationAcceptedText', 'Text shown after accepting collaborator board invitations')}):(0,b.jsx)(x.xv,{size:"200",children:v(z.invited_by_user,te)})]}),(0,b.jsx)(x.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-1}},marginStart:2,width:be,minWidth:be,height:xe,children:(0,b.jsx)(x.HE,{accessibilityLabel:p.U+(te._('Board has collaborators', 'BoardCard.AvatarGroup.Collaborators', 'Board description: title, number of pins, date, and it has collaborators or not.')),collaborators:fe})})]}),D?(0,b.jsx)(x.xu,{direction:"row",display:"flex",paddingX:2,children:(0,b.jsx)(x.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,b.jsx)(x.zx,{role:"link",href:null!=t?t:"",fullWidth:!0,size:"lg",text:te._('See board', 'boardRep.invite.seeBoardButton', 'Button text to see board after accepting collaborator invite')})})}):(0,b.jsxs)(x.kC,{direction:"row",flex:"grow",justifyContent:"start",wrap:!0,children:[(0,b.jsx)(x.xu,{marginBottom:3,paddingX:1,flex:"grow",children:(0,b.jsx)(x.zx,{fullWidth:!0,onClick:()=>{null==S||S(!1)},size:"lg",text:te._('Decline', 'boardRep.invite.declineButton', 'Button text to decline board collaborator invite or request')})}),(0,b.jsx)(x.xu,{marginBottom:3,paddingX:1,flex:"grow",children:(0,b.jsx)(x.zx,{fullWidth:!0,color:"red",onClick:()=>{null==S||S(!0)},size:"lg",text:te._('Accept', 'boardRep.invite.acceptButton', 'Button text to accept board collaborator invite or request')})})]})]}):(0,b.jsxs)(x.xu,{height:re?void 0:f.s0,marginTop:re?0:1,paddingX:2,paddingY:re?2:0,children:[(0,b.jsxs)(x.xu,{alignItems:"center","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,b.jsx)(y,{children:G}),L&&(0,b.jsx)(x.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-1}},marginStart:2,width:be,minWidth:be,height:xe,children:(0,b.jsx)(x.HE,{accessibilityLabel:p.U+(te._('Board has collaborators', 'BoardCard.AvatarGroup.Collaborators', 'Board description: title, number of pins, date, and it has collaborators or not.')),collaborators:fe})})]}),(0,b.jsxs)(x.xu,{alignItems:se?"center":"start",direction:se?"row":"column",display:"flex",marginTop:1,children:[(0,b.jsxs)(x.xv,{size:"100",lineClamp:1,children:[(0,b.jsx)(p.Z,{}),(0,d.nk)(te.ngettext('{{ count }} Pin', '{{ count }} Pins', K, 'profile.ProfilePage.board.BoardCard.PinsCount', 'label for n amount of pins'),{count:ne(U,K,{})}),!!q&&(0,b.jsxs)(n.Fragment,{children:[(0,b.jsx)(i.Z,{ariaHidden:!0}),(0,b.jsx)(p.Z,{}),(0,d.nk)(te.ngettext('{{ count }} section', '{{ count }} sections', q, 'profile.ProfilePage.board.BoardCard.SectionsCount', 'label for n amount of sections'),{count:q})]})]}),!e&&(0,b.jsx)(x.xu,{dangerouslySetInlineStyle:{__style:{display:re?"inline-flex":"inline",paddingLeft:se?7:0}},children:(0,b.jsxs)(x.xv,{color:"subtle",inline:!0,size:"100",lineClamp:1,children:[(0,b.jsx)(p.Z,{}),oe(N,!0)]})})]}),!!e&&(0,b.jsxs)(x.xu,{marginTop:1,children:[(0,b.jsx)(p.Z,{}),(0,b.jsx)(x.xv,{color:"subtle",size:"100",lineClamp:1,children:te._('Archived', 'profile.ProfilePage.board.BoardCard.ArchivedBoardText', 'subtitle for archived boards on profile page')})]}),ce&&(0,b.jsx)(x.xu,{marginTop:2===H?3:void 0,column:2===H?12:void 0,flex:"none",children:(0,b.jsx)(s.Z,{disabled:null==Y?void 0:Y.blocked_by_me,followEventType:26,id:T,isFollowed:C,onFollow:e=>{O||(0,u.NC)("press_follow_board"),W&&W(e)},onUnfollow:e=>{O||(0,u.NC)("press_unfollow_board"),$&&$(e)},shouldUseLegoColors:!0,size:"md",unfollowEventType:27,viewParameter:Q,viewType:J})})]})})]})}},371918:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(883119),i=o(785893);function s({customCover:e,height:t,imgUrl:o,imgPos:s,width:r}){const l=t/r;let a="center center";if(e&&s){let e=1;e=s.height/s.width>l?r/s.width:t/s.height;a=`-${s.x*e}px -${s.y*e}px`}const c={backgroundImage:`url(${o})`,backgroundPosition:a,backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100%",backgroundColor:"#EFEFEF",position:"relative"};return(0,i.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{height:t,width:r}},children:(0,i.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:c},children:(0,i.jsx)("div",{className:"imageWash",style:{position:"absolute"}})})})}},322937:(e,t,o)=>{o.d(t,{Z:()=>_});var n=o(371918),i=o(217508),s=o(898781),r=o(50286),l=o(780280),a=o(808058),c=o(883119),d=o(785893);const u="100%";function _(e){var t,o,_,h;const p=(0,s.ZP)(),{containerBackgroundColor:m="white",coverPhoto:g,fullSize:f,images:x,isSecret:b,showSensitivityScreen:v,isActive:y,canEdit:P,onEditClick:w,layout:A}=e,C=(0,r.HG)(),{isRTL:j,isAuthenticated:E}=(0,l.B)(),S=C&&E,I=x[0],T=!g&&(null===(t=x[0])||void 0===t?void 0:t.name)||p._('Cover image', 'DrawerImageGroup', 'Alt text for the main image of a board'),z=Array(2).fill(),k=new c.Ry(1),D="square"===A?a.M0:a.z9,R="square"===A?a.FP:a.FC,O=v?{filter:"blur(20px)"}:{};return(0,d.jsx)(c.zd,{height:f?"100%":void 0,rounding:4,width:"100%",wash:y,children:(0,d.jsxs)(c.xu,{"aria-hidden":!0,display:"flex",height:S?R:"100%",direction:"row",children:[(0,d.jsx)(c.sg,{span:8,children:(0,d.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:O},position:"relative",height:f?"100%":void 0,children:(0,d.jsx)(c.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:u}},overflow:"hidden",width:"100%",children:(0,d.jsxs)(c.xu,{dangerouslySetInlineStyle:{__style:{borderColor:m,borderStyle:"solid",borderWidth:"1px 0 1px 1px"}},overflow:"hidden",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,children:[b&&(0,d.jsx)(c.xu,{left:!j,right:j,margin:2,position:"absolute",top:!0,zIndex:k,children:(0,d.jsx)(i.Z,{backgroundColor:"default",iconColor:"default",size:S?32:24})}),S&&null!=g&&g.url?(0,d.jsx)(n.Z,{customCover:g.isCustom,imgPos:g.position||{width:0,height:0,x:0,y:0},imgUrl:null!==(o=g.url)&&void 0!==o?o:"",width:Math.floor(D/3*2),height:R}):(0,d.jsx)(c.Ee,{alt:T,color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:null!==(_=null!==(h=null==g?void 0:g.url)&&void 0!==h?h:null==I?void 0:I.url)&&void 0!==_?_:""})]})})})}),(0,d.jsx)(c.sg,{span:4,children:(0,d.jsxs)(c.xu,{dangerouslySetInlineStyle:{__style:O},height:"100%",children:[P&&y&&(0,d.jsx)(c.xu,{left:j,right:!j,margin:2,position:"absolute",bottom:!0,zIndex:k,children:(0,d.jsx)(c.hU,{accessibilityLabel:p._('Edit', 'DrawerImageGroup.edit', 'Icon indicating that a board is editable'),bgColor:"white",icon:"edit",iconColor:"darkGray",onClick:({event:e})=>null==w?void 0:w(e),size:"sm"})}),z.map(((e,t)=>{var o,n;const i=x[S?t:t+1];return(0,d.jsx)(c.xu,{position:"relative",height:f?"50%":void 0,children:(0,d.jsx)(c.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:u}},overflow:"hidden",width:"100%",children:(0,d.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{borderColor:m,borderStyle:"solid",borderWidth:0===t?1:"0 1px 1px 1px"}},overflow:"hidden",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,children:(0,d.jsx)(c.Ee,{alt:null!==(o=null==i?void 0:i.name)&&void 0!==o?o:"placeholder",color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:null!==(n=null==i?void 0:i.url)&&void 0!==n?n:""})})})},t)}))]})}),v&&(0,d.jsx)(c.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:(0,d.jsx)(c.X6,{align:"center",color:"light",size:"400",children:p._('This board may contain sensitive content', 'drawerImageGroup.sensitivityScreen.heading', 'Warning text for a board that may have sensitive content')})})]})})}},259986:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(883119),i=o(785893);function s(e){const{accessibilityLabel:t,bgColor:o,icon:s,onClick:r,selected:l,size:a}=e;return(0,i.jsx)(n.hU,{accessibilityLabel:t,bgColor:null!=o?o:"transparent",icon:s,iconColor:"darkGray",onClick:r,selected:l,size:null!=a?a:"lg"})}},468747:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(90543),i=o(883119),s=o(785893);function r(e,t){return(0,s.jsx)(i.xu,{"data-test-id":`${e.props.icon}-button`,children:e},t)}function l(e){const{buttonsLeft:t,buttonsRight:o,children:l,headerHeight:a,minHeight:c,shouldStick:d}=e;return(0,s.jsx)(n.Z,{position:d?"sticky":void 0,shouldShowShadow:!0,style:{zIndex:1},top:null!=a?a:"pending",children:(0,s.jsx)(i.xu,{color:"default",dangerouslySetInlineStyle:{__style:{paddingBottom:"16px"}},paddingX:4,width:"100%",children:(0,s.jsxs)(i.xu,{alignItems:"center","data-test-id":"action-bar",display:"flex",justifyContent:"between",minHeight:c,width:"100%",children:[(0,s.jsx)(i.xu,{alignItems:"center",column:2,display:"flex",children:t.map(r)}),(0,s.jsx)(i.xu,{margin:"auto",children:l}),(0,s.jsx)(i.xu,{alignItems:"center",column:2,display:"flex",justifyContent:"end",children:o.map(r)})]})})})}},2819:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(667294),i=o(259986),s=o(883119),r=o(785893);function l({bgColor:e,children:t,icon:o,label:l,size:a}){const c=(0,n.useRef)(null),[d,u]=(0,n.useState)(!1),_=()=>u(!1);return(0,r.jsxs)(n.Fragment,{children:[(0,r.jsx)(s.xu,{ref:c,children:(0,r.jsx)(i.Z,{accessibilityLabel:l,bgColor:e,icon:o,onClick:()=>u(!d),selected:d,size:a})}),d&&(0,r.jsx)(s.Lt,{id:"actionBarMenuButton",idealDirection:"down",anchor:c.current,onDismiss:_,zIndex:new s.Ry(1e3),children:t({handleClose:_})})]})}},19878:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(694379),i=o(898781),s=o(349700),r=o(883119),l=o(785893);function a({pinCount:e,placesCount:t,sectionCount:o}){const a=(0,i.ZP)(),c=!!t&&0!==e||!t;return(0,l.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[t?(0,l.jsx)(r.xu,{display:"none",smDisplay:"flex",overflow:"hidden",children:(0,l.jsx)(r.xv,{size:"200",inline:!0,lineClamp:1,children:(0,s.nk)(a.ngettext('{{ count }} place', '{{ count }} places', t, 'label for n amount of places', 'label for n amount of places'),{count:(0,l.jsx)(n.Z,{value:t},"places-count")})})}):null,o?(0,l.jsx)(r.xu,{display:"none",smDisplay:"flex",overflow:"hidden",children:(0,l.jsx)(r.xv,{size:"200",inline:!0,lineClamp:1,children:(0,s.nk)(a.ngettext('{{ count }} section', '{{ count }} sections', o, 'label for n amount of sections', 'label for n amount of sections'),{count:(0,l.jsx)(n.Z,{value:o},"section_count")})})}):null,c&&(0,l.jsx)(r.xu,{overflow:"hidden",children:(0,l.jsx)(r.xv,{size:"200",lineClamp:1,children:(0,s.nk)(a.ngettext('{{ count }} Pin', '{{ count }} Pins', e, 'label for n amount of pins', 'label for n amount of pins'),{count:(0,l.jsx)(n.Z,{value:e},"pin_count")})})})]})}},976849:(e,t,o)=>{o.d(t,{Z:()=>C});var n=o(667294),i=o(702664),s=o(830944),r=o(240684),l=o(558446),a=o(717615),c=o(19121),d=o(935409),u=o(87732),_=o(407043),h=o(50286),p=o(904411),m=o(782534),g=o(298361),f=o(898781),x=o(231947),b=o(883119),v=o(785893);function y(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const P=(0,r.ZP)({resolved:{},chunkName:()=>"BoardEdit-BoardEditModal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!o.m[t]},importAsync:()=>Promise.all([o.e(53068),o.e(71654)]).then(o.bind(o,684333)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return o(t)},resolve(){return 684333}}),w="write";class A extends n.Component{constructor(...e){super(...e),y(this,"state",{isEditModalOpen:!1}),y(this,"componentDidUpdate",(e=>{e.board.id===this.props.board.id&&e.progress&&e.progress<1&&(!this.props.progress||1===this.props.progress)&&this.props.updateBoard()})),y(this,"getSubtitleText",(()=>{const{board:e,boardOrder:t,layout:o}=this.props,n="list"===o;return e.archived_by_me_at?n?(0,v.jsx)("span",{children:this.props.getHumanizedTimeSince(e.archived_by_me_at)}):this.props.i18n._('Archived', 'profileBoardCard.footer.archived', 'Indicating that a board is archived'):!t||"newest"!==t&&"oldest"!==t?t&&"last_pinned_to"===t||n?this.props.getHumanizedTimeSince(null!==(s=e.board_order_modified_at)&&void 0!==s?s:"",!0):null:n?(0,v.jsx)("span",{children:(0,v.jsx)(m.Z,{dateFormatType:m.k.LONG,value:new Date(null!==(i=e.created_at)&&void 0!==i?i:"")})}):null;var i,s})),y(this,"handleBoardCardClick",(()=>{const{board:e,logContextEvent:t}=this.props;t({event_type:101,component:1,element:36,object_id_str:e.id,view_type:4})})),y(this,"handleEditClick",(e=>{e.preventDefault(),e.stopPropagation();const{board:t,logContextEvent:o}=this.props;this.setState({isEditModalOpen:!0}),o({event_type:101,component:1,element:81,object_id_str:t.id,view_type:4})})),y(this,"handleEditClose",(()=>{this.setState({isEditModalOpen:!1})}))}render(){var e,t,o;const{board:i,forwardedRef:r,isAuthDesktop:a,isReordering:c,isOwnProfile:d,layout:u,onBoardArchiveChange:_,onBoardDelete:h,onBoardPrivacyChange:p,onBoardLeave:m,onBoardUpdate:g,slotIndex:f,viewer:y,orbacActingAs:A}=this.props,{isEditModalOpen:C}=this.state;if(!i)return null;const j=(0,x.D3)(y,null!==(e=null===(t=i.owner)||void 0===t?void 0:t.id)&&void 0!==e?e:"",A),E=(0,x.lJ)(y,A),{url:S}=i,I=E&&(0,s.Z)(i.privacy)?`?orbac_subject_id=${E}`:"",T=d||(null===(o=i.access)||void 0===o?void 0:o.includes(w))||j,z=this.getSubtitleText();return(0,v.jsxs)(n.Fragment,{children:[(0,v.jsx)(b.iP,{role:"link",onTap:this.handleBoardCardClick,href:`${null!=S?S:""}${I}`,ref:r,children:(0,v.jsx)(b.xu,{children:(0,v.jsx)(l.Z,{board:i,canEdit:T,isOwnProfile:d,isReordering:c,layout:u,onEditClick:this.handleEditClick,slotIndex:f,subtitle:z})})}),a&&C&&(0,v.jsx)(P,{boardId:i.id,onBoardArchiveChange:_,onBoardDelete:h,onBoardLeave:m,onBoardPrivacyChange:p,onBoardUpdate:g,onClose:this.handleEditClose})]})}}function C(e){var t;const{board:o}=e,{logContextEvent:n}=(0,_.v)(),s=(0,f.ZP)(),r=(0,g.Z)(),l=(0,a.Z)(),m=(0,c.Z)(),x=(0,i.useDispatch)(),b=((0,p.bn)()[o.id]||{}).images,{blockingActions:y}=null!==(t=(0,u.S)())&&void 0!==t?t:{},P=((y.boardMap[o.id]||{}).wholeBoard||{}).progress,w=m&&m.isAuth,C=(0,h.HG)()&&w;return(0,v.jsx)(A,{...e,i18n:s,viewer:m,orbacActingAs:l,getHumanizedTimeSince:r,logContextEvent:n,updateBoard:()=>x((0,d.oG)(o.id,"profile_grid_item")),images:b,progress:P,isAuthDesktop:C})}y(A,"defaultProps",{isOwnProfile:!1,isReordering:!1})},10905:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(898781),i=o(883119),s=o(785893);function r(){const e=(0,n.ZP)();return(0,s.jsx)(i.JO,{accessibilityLabel:e._('Secret board', 'Accessibility label for icon indicating a secret board', 'Accessibility label for icon indicating a secret board'),color:"default",icon:"lock",inline:!0})}},808058:(e,t,o)=>{o.d(t,{FC:()=>l,FP:()=>s,M0:()=>i,s0:()=>n,z9:()=>r});const n=34,i=236,s=157,r=320,l=213},851850:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(19121),i=o(50286);function s(){const e=(0,i.HG)(),t=(0,n.Z)(),o=t&&t.isAuth;if(e&&o){return e=>{var t,o;const n=e.cover_images&&e.cover_images["222x"]?e.cover_images["222x"].url:void 0,i=null!==(t=null===(o=e.cover_pin)||void 0===o?void 0:o.image_url)&&void 0!==t?t:n,s=e.images&&e.images["170x"]&&e.images["170x"].length?e.images["170x"][0].url:"";return i||s}}return(e,t)=>{var o,n;const i=e.has_custom_cover?e.image_cover_hd_url||e.image_cover_url:"";if(!i)return"";const s=e.cover_images&&e.cover_images["400x300"]?e.cover_images["400x300"].url:void 0,r=e.cover_images&&e.cover_images["222x"]?e.cover_images["222x"].url:void 0,l=e.cover_images&&e.cover_images["216x146"]?e.cover_images["216x146"].url:void 0,a=null!==(o=null!==(n=null!=s?s:r)&&void 0!==n?n:l)&&void 0!==o?o:"",c=e.image_cover_url||"";return i||(t&&t>2&&a?a:"")||c}}},286268:(e,t,o)=>{o.d(t,{Bw:()=>l,Jx:()=>r,po:()=>n});const n=(e="")=>(null!=e?e:"").substring((null!=e?e:"").lastIndexOf("/")+1),i=e=>({dominant_color:"#FFFFFF",height:1,url:e,width:1}),s=e=>{if(!e)return()=>!0;const t=n(e);return e=>{var o;return"string"==typeof e?n(e)!==t:n(null!==(o=e.url)&&void 0!==o?o:"")!==t}},r=(e,t)=>e.images&&e.images["170x"]?e.images["170x"].filter(s(t)):e.pin_thumbnail_urls?e.pin_thumbnail_urls.filter(s(t)).map(i):[],l=e=>{var t;return null!==(t=e&&e.crop&&e.size&&{x:e.crop[0],y:e.crop[1],width:e.size[0],height:e.size[1]})&&void 0!==t?t:{x:0,y:0,width:0,height:0}}},715173:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(898781),i=o(883119),s=o(868065),r=o(785893);function l({fullWidth:e,isFollowed:t,topicId:o,primaryAction:l=!1,onFollow:a=(()=>{}),onUnFollow:c=(()=>{}),isFollowedText:d,isNotFollowedText:u,size:_="md"}){const h=(0,n.ZP)(),p=(0,s.X2)(),{follow:m,unfollow:g}=(0,s.mW)(),f=p[o],x=f?Boolean(f.is_followed):t;return(0,r.jsx)(i.zx,{color:"gray",selected:!x,fullWidth:!e,onClick:()=>{x?(c(o),g(o)):(a(o),m(o,l))},text:x?d||h._('Following', 'Button text to display for unfollowing an interest', 'Button text to display for unfollowing an interest'):u||h._('Follow', 'Button text to display for following an interest', 'Button text to display for following an interest'),size:_})}},464019:(e,t,o)=>{o.d(t,{Z:()=>u});var n=o(715173),i=o(694379),s=o(898781),r=o(349700),l=o(883119),a=o(785893);function c({backgroundColor:e,followersCount:t,followersCountDisplay:o,height:n,image:i,name:c,width:d}){var u,_,h;const p=(0,s.ZP)(),m=p.ngettext('{{ count }} {{ label }}', '{{ count }} {{ label }}', t || 0, 'indicate a number of followers', 'indicate a number of followers'),g=p.ngettext('follower', 'followers', t || 0, 'used in {{count}} {{followers}}', 'used in {{count}} {{followers}}'),f=n||d;return(0,a.jsx)(l.xu,{children:(0,a.jsxs)(l.zd,{rounding:4,children:[i?(0,a.jsxs)(l.xu,{position:"relative",children:[(0,a.jsx)(l.GH,{width:d,height:f,contentAspectRatio:(null!==(u=i.width)&&void 0!==u?u:1)/(null!==(_=i.height)&&void 0!==_?_:1),children:(0,a.jsx)(l.Ee,{alt:c,color:e,naturalHeight:1,naturalWidth:1,src:null!==(h=i.url)&&void 0!==h?h:""})}),(0,a.jsx)(l.xu,{height:f,width:d,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.4)"}},position:"absolute",top:!0})]}):(0,a.jsx)(l.xu,{height:f,width:d,dangerouslySetInlineStyle:{__style:{backgroundColor:e}}}),(0,a.jsxs)(l.xu,{alignContent:"center",alignItems:"center",display:"flex",justifyContent:"center",bottom:!0,left:!0,padding:3,position:"absolute",right:!0,top:!0,children:[(0,a.jsx)(l.xv,{color:"inverse",overflow:"normal",weight:"bold",children:c}),t?(0,a.jsx)(l.xu,{children:(0,r.nk)(m,{count:(0,a.jsx)(l.xv,{color:"inverse",inline:!0,size:"200",weight:"bold",children:o},"followersCount"),label:(0,a.jsx)(l.xv,{color:"inverse",inline:!0,size:"200",children:g},"followersLabel")})}):null]})]})})}const d=236;function u(e){const{backgroundColor:t,followedByMe:o,followersCount:s,height:r,id:u,image:_,name:h,url:p,width:m=d,followingButton:g}=e,f=s?(0,a.jsx)(i.Z,{value:s,shortform:!0,shortformMaximumFractionDigits:1}):"",x=g||(0,a.jsx)(n.Z,{fullWidth:!0,topicId:u,isFollowed:o}),b=(0,a.jsx)(c,{backgroundColor:t,followersCount:s,followersCountDisplay:f,image:_,name:h,width:m,height:r});return(0,a.jsx)(l.Zb,{children:(0,a.jsxs)(l.xu,{width:m,children:[p?(0,a.jsx)(l.iP,{role:"link",href:`/ideas/${p}/${u}`,children:b}):b,(0,a.jsx)(l.xu,{marginTop:2,display:"flex",justifyContent:"center",children:x})]})})}},56291:(e,t,o)=>{o.d(t,{Z:()=>h});var n=o(667294),i=o(702664),s=o(116303),r=o(70598),l=o(898781),a=o(326015),c=o(349700),d=o(883119),u=o(5226),_=o(785893);function h({isSelf:e,showVerified:t=!1,user:o={}}){const[h,p]=(0,n.useState)(o.explicitly_followed_by_me||!1),m=(0,i.useDispatch)(),g=(0,l.ZP)(),{domain_verified:f,full_name:x,is_verified_merchant:b,username:v}=o,y=o.image_medium_url||o.image_small_url;return(0,_.jsxs)(d.xu,{alignItems:"center",direction:"row",display:"flex",marginStart:-1,marginEnd:-1,paddingY:1,children:[(0,_.jsx)(d.xu,{flex:"grow",paddingX:1,children:(0,_.jsx)(d.iP,{role:"link",href:`/${v}/`,children:(0,_.jsxs)(d.kC,{alignItems:"center",justifyContent:"start",gap:{row:2,column:0},children:[(0,_.jsx)(d.xu,{width:50,children:(0,_.jsx)(s.Z,{name:(0,c.nk)(g._('Avatar for {{ fullName }}', 'avatar.name', 'avatar for user'),{fullName:x}).join(" "),src:null!=y?y:"",size:"fit"})}),(0,_.jsx)(d.xv,{weight:"bold",children:t&&(b||f)?(0,_.jsx)(a.Z,{badgeSize:"sm",badgeSpacing:2,fullName:null!=x?x:"",identityIsVerified:f,isVerifiedMerchant:b}):x})]})})}),(0,_.jsx)(d.xu,{paddingX:1,children:(0,_.jsx)(r.Z,{followEventType:45,id:o.id,isFollowed:h,isUserMe:Boolean(e),onFollow:e=>{m((0,u.ZN)(e)),p(!0)},onUnfollow:e=>{m((0,u.fv)(e)),p(!1)},textType:"FollowUnfollow",unfollowEventType:46,viewType:4})})]})}},957314:(e,t,o)=>{o.d(t,{N4:()=>s,Wh:()=>n,hr:()=>i});const n=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),i=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),s=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},728214:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(898781),i=o(50286),s=o(154391),r=o(957314);const l=()=>{const e=(0,n.ZP)(),t=(0,i.HG)(),{viewer:o,loginForMore:l,limitedLoginModalSubheader:a,limitedLoginModalNextLocation:c}=(0,s.H)();return"LIMITED_LOGIN"===o.type?({modalHeader:o,nextLocation:n})=>i=>{let s=null;i&&(i.nativeEvent&&i.nativeEvent instanceof Event?s=i:i.event&&(s=i.event)),s&&(s.preventDefault&&s.preventDefault(),s.stopPropagation&&s.stopPropagation()),o||(o=t?(0,r.hr)(e):(0,r.Wh)(e)),null==l||l.setVisible(!0),null==a||a.setText(o),n&&(null==c||c.setRoute(n))}:({fn:e})=>e}},409828:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(667294),i=o(6637),s=o(774807),r=o(883119),l=o(407043),a=o(479301),c=o(785893);function d({children:e,flyoutDirection:t,userId:o}){const{logContextEvent:d}=(0,l.v)(),[u,_]=(0,n.useState)(!1),[h,p]=(0,n.useState)(""),m=(0,n.useRef)(),{conversationCreate:g,conversationOpen:f}=(0,a.Z5)();return(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(r.xu,{ref:m,children:e({showSendMessageFlyout:()=>{_((e=>!e))}})}),u&&(0,c.jsx)(s.Z,{anchor:m.current,idealDirection:t,onMessageChange:p,onMessageSubmit:async()=>{const e=h;p(""),_(!1),d({event_type:101,element:103,component:13946,view_type:4,view_parameter:3107});const t=i.Z.create("ConversationsResource",{user_ids:[o],text:e}),n=await t.callCreate(),s=null==n?void 0:n.resource_response.data;g(s),f(s.id)},onDismiss:()=>_(!1),message:h})]})}},774807:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(898781),i=o(934523),s=o(883119),r=o(785893);function l({anchor:e,idealDirection:t,message:o,onDismiss:l,onMessageChange:a,onMessageSubmit:c}){const d=(0,n.ZP)();return(0,r.jsx)(s.mh,{zIndex:new s.Ry(i.fe-1),children:(0,r.jsx)(s.J2,{anchor:e,idealDirection:null!=t?t:"down",onDismiss:l,size:"md",children:(0,r.jsxs)(s.xu,{padding:3,width:"100%",children:[(0,r.jsx)(s.Kx,{id:"message",value:o,onChange:({value:e})=>a(e),placeholder:d._('Add a message', 'profileHeader.actionBar.messageFlyout.textareaPlaceholder', 'Text placeholder when sending a message to another user')}),(0,r.jsx)(s.xu,{marginTop:3,children:(0,r.jsx)(s.zx,{fullWidth:!0,color:"red",text:d._('Send', 'profileHeader.actionBar.messageFlyout.sendButton', 'Label for button to send this message to this user'),disabled:""===o.trim(),onClick:c})})]})})})}},106860:(e,t,o)=>{o.r(t),o.d(t,{default:()=>d});var n=o(667294),i=o(161087),s=o(497997),r=o(898781),l=o(780280),a=o(883119),c=o(785893);function d({height:e,onCtaDidLoad:t,width:d}){const u=(0,r.ZP)(),[_,h]=(0,n.useState)(null),{locale:p}=(0,l.B)(),m=(0,i.default)(p);(0,n.useEffect)((()=>{m&&"none"!==m&&(e=>{const t=(0,n.lazy)((()=>o(453658)(`./${e}`)));h(t)})(m)}),[m]),(0,n.useEffect)((()=>{_&&t()}),[_]);const g=u._('Open Pinterest and tap the camera icon for ideas', 'PincodeCTA.title', 'Text informing users how to use Pincodes \u2014 may be displayed or used as accessibility label for an image'),f=(0,c.jsx)(a.xv,{align:"center",children:g});return"none"===m?f:_?(0,c.jsx)(s.Z,{fallback:f,children:(0,c.jsx)(_,{height:e,title:g,width:d})}):(0,c.jsx)(a.$j,{accessibilityLabel:u._('Loading Pincode Call to Action', 'PincodeCTA.loading', 'Accessibility label for loading spinner for the Pincode call-to-action'),show:!0})}},161087:(e,t,o)=>{function n(e){switch(e.toUpperCase()){case"CS-CZ":return"CZ";case"DA-DK":return"DA";case"DE":return"DE";case"EL-GR":return"GR";case"EN-GB":return"ENUK";case"EN-US":return"ENUS";case"ES-ES":return"ESES";case"ES-MX":return"ESMX";case"ES-AR":return"ESAR";case"ES-419":return"ESMX";case"FI-FI":return"FI";case"FR":return"FR";case"HI-IN":return"HI";case"HU-HU":return"HU";case"ID-ID":return"ID";case"IT":return"IT";case"JA":return"JP";case"KO-KR":return"KR";case"MS-MY":return"MS";case"NL":return"NL";case"NB-NO":return"NO";case"PL-PL":return"PL";case"PT-BR":return"PTBR";case"PT-PT":return"PTPT";case"RO-RO":return"RO";case"RU-RU":return"RU";case"SK-SK":return"SK";case"SV-SE":return"SV";case"TH-TH":return"TH";case"TL-PH":return"TL";case"TR":return"TR";case"UK-UA":return"UA";case"VI-VN":return"VT";case"ZH-CN":return"ZHCN";case"ZH-TW":return"ZHTW";default:return"none"}}o.r(t),o.d(t,{default:()=>n})},672643:(e,t,o)=>{o.d(t,{ZP:()=>z});var n=o(667294),i=o(106860),s=o(785893);const r="M0 111c0 47 29.3 87.2 70.6 103.4-1-8.8-2-22.3.3-32l13-55s-3.4-6.7-3.4-16.5c0-15.6 9-27 20-27 9.6 0 14.2 7 14.2 15.5 0 9.6-6 23.8-9.2 37-2.7 11 5.5 20 16.4 20 19.7 0 35-20.7 35-50.8 0-26.5-19.2-45-46.5-45-31.5 0-50 23.6-50 48 0 9.6 3.6 19.8 8.2 25.4 1 1.2 1 2 .7 3.3l-3 12.5c-.5 2-1.6 2.5-3.8 1.5-13.8-6.4-22.5-26.7-22.5-43 0-35 25.6-67 73.5-67 38.5 0 68.4 27.3 68.4 64 0 38.2-24.2 69-57.7 69-11.3 0-21.8-5.8-25.4-12.7L92 188c-2.6 9.6-9.3 21.7-14 29 10.5 3.3 21.6 5 33 5 61.3 0 111-49.7 111-111S172.3 0 111 0 0 49.7 0 111z",l="#e60023",a="0 0 222 222";function c({size:e}){return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:a,children:(0,s.jsx)("path",{d:r,fill:l,fillRule:"evenodd"})})}var d=o(898781),u=o(883119);function _({getThumbnailImageSrcSet:e,images:t,onTouch:o}){const n=(0,d.ZP)();return(0,s.jsx)(u.xu,{display:"flex",justifyContent:"start",maxHeight:328,overflow:"auto",padding:1,wrap:!0,children:["logo"].concat(t).map(((t,i)=>{var r,l,a,d;return(0,s.jsx)(u.xu,{padding:1,children:(0,s.jsx)(u.Zb,{children:(0,s.jsx)(u.iP,{fullWidth:!1,onTap:()=>o("logo"===t?"logo":i-1),rounding:2,children:(0,s.jsx)(u.zd,{rounding:"circle",width:85,height:85,children:"logo"===t?(0,s.jsx)(c,{size:85}):(0,s.jsx)(u.Ee,{alt:n._('Pincode Hero Image', 'accessibility label for the Pincode hero image', 'accessibility label for the Pincode hero image'),color:t.dominant_color||"#b5b5b5",fit:"cover",naturalHeight:null!==(r=t.height)&&void 0!==r?r:1,naturalWidth:null!==(l=t.width)&&void 0!==l?l:1,src:null!==(a=t.url)&&void 0!==a?a:"",srcSet:e&&e(null!==(d=t.url)&&void 0!==d?d:"")})})})})},"logo"===t?t:t.url)}))})}var h=o(784590);const p=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(`\n  <svg xmlns="http://www.w3.org/2000/svg" width="${m||222}" height="${m||222}" x="${g||0}" y="${g||0}" viewBox="0 0 222 222">\n    <path d="${r}" fill="#e60023" fill-rule="evenodd" />\n  </svg>`.trim())}`;var m,g;const f=600;function x(e,t,o){return`\n    <image id="image"\n      x="${100+("right"===t?300:0)}"\n      y="${100+("bottom"===o?300:0)}"\n      width="${f/("row"===t?1:2)}"\n      height="${f/("column"===o?1:2)}"\n      xmlns:xlink="http://www.w3.org/1999/xlink"\n      xlink:href="${e}"\n      preserveAspectRatio="xMidYMid slice"\n    />`}function b(e,t){const o=function(e){switch(e.length){case 0:case 1:return;case 2:return[x(e[0],"left","column"),x(e[1],"right","column")].join("");case 3:return[x(e[0],"left","column"),x(e[1],"right","top"),x(e[2],"right","bottom")].join("");default:return[x(e[0],"left","top"),x(e[1],"right","top"),x(e[2],"left","bottom"),x(e[3],"right","bottom")].join("")}}(t);return o?e.replace(/<image[^>]*>/,o):e}class v extends n.Component{constructor(...e){var t,o,n;super(...e),n=()=>{const{pincodeImageResource:e,onFetchingChange:t}=this.props;t(e.isFetching)},(o="handleFetchChange")in(t=this)?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n}componentDidMount(){const{pincodeImageResource:e}=this.props;e.isFetching||this.handleFetchChange()}componentDidUpdate(e){this.props.pincodeImageResource.isFetching!==e.pincodeImageResource.isFetching&&this.handleFetchChange()}render(){const{className:e,imageUrls:t,size:o,pincodeImageResource:{data:n,isLoaded:i}}=this.props,r=o,l=o;return(0,s.jsxs)(u.kC,{alignItems:"center",height:l,justifyContent:"center",width:r,children:[i&&!!n&&(0,s.jsx)("div",{className:e,dangerouslySetInnerHTML:{__html:b(n,t)},style:{width:r,height:l}}),(0,s.jsx)(u.$j,{accessibilityLabel:this.props.i18n._('Loading Pincode Image', 'accessibility label for loading the Pincode image', 'accessibility label for loading the Pincode image'),show:!n})]})}}function y(e){const t=(0,d.ZP)(),o=(0,h.Z)({name:"PincodeImageResource",options:{object_id:e.id,hero_image_url:e.imageUrls[0]||p}});return(0,s.jsx)(v,{...e,i18n:t,pincodeImageResource:o})}var P=o(407043);function w(e){return new Promise(((t,o)=>{const n=new XMLHttpRequest;n.ontimeout=o,n.onreadystatechange=()=>{if(4!==n.readyState)return;if(200!==n.status)return void o();const e=new FileReader;e.onloadend=()=>{const n=e.result;"string"==typeof n?t(n.split(/,/)[1]):o()},e.readAsDataURL(n.response)},n.open("GET",e,!0),n.timeout=3e4,n.responseType="blob",n.send()}))}function A(e,t){if(!(e instanceof Element))return Promise.resolve(e);if(e instanceof window.SVGImageElement)return function(e,t){const o=e.href.baseVal;if(o.startsWith("data:"))return Promise.resolve();const n=t?t(o):o;return Promise.resolve(n).then(w).then((e=>`data:${function(e){const t=e.match(/\.([^\.\/]*?)$/);switch(t&&t[1]){case"jpg":case"jpeg":return"image/jpeg";case"png":return"image/png";case"gif":return"image/gif";default:return""}}(n)};base64,${e}`)).then((t=>new Promise(((o,n)=>{e.onerror=n,e.href.baseVal=t,window.requestAnimationFrame(o)}))))}(e,t);const o=Array.from(e.childNodes);return Promise.all(o.map((e=>A(e,t))))}function C(e,t){return new Promise(((o,n)=>{const i=document.createElement("div");i.innerHTML=e.innerHTML,A(i,t).then((()=>{const t=new Image;t.onload=()=>{window.requestAnimationFrame((()=>o(t)))},t.onerror=n;const s=i&&i.querySelector("svg");s&&(/^[0-9]+$/.test(s.getAttribute("width")||"")||s.setAttribute("width",`${e.scrollWidth}`),/^[0-9]+$/.test(s.getAttribute("height")||"")||s.setAttribute("height",`${e.scrollHeight}`));const r=i.innerHTML.replace(/(xmlns="[^"]+"[^>]*)\ xmlns="[^"]+"/,"$1");t.src=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(r.trim())}`}))}))}function j(e,t){return new Promise(((o,n)=>{(function(e){return new Promise(((t,o)=>{if(e.toBlob)return void e.toBlob(t);let n="";try{n=e.toDataURL("image/png")}catch(l){o()}const i=window.atob(n.split(",")[1]),s=i.length,r=new Uint8Array(s);for(let e=0;e<s;e+=1)r[e]=i.charCodeAt(e);t(new window.Blob([r],{type:"image/png"}))}))})(e).then((e=>window.URL.createObjectURL(e))).then((e=>{const n=document.createElement("a");n.download=t,n.href=e,n.style.display="none",window.document.body.appendChild(n),window.requestAnimationFrame((()=>{const t=()=>{window.requestAnimationFrame((()=>{window.URL.revokeObjectURL(e),n.removeAttribute("href"),n.removeEventListener("click",t),window.document.body.removeChild(n),o()}))};n.addEventListener("click",t),n.click()}))})).catch(n)}))}function E(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const S="pincodeMain",I="pincodeCTA";class T extends n.PureComponent{constructor(...e){super(...e),E(this,"state",{ctaIsLoaded:!1,errorFlyoutIsOpen:!1,isDownloading:!1,isFetchingPincodeImage:!1,isPickingHeroImage:!1,pickedImageIndex:0}),E(this,"getCustomHeroImages",(()=>{const{images:e,customizable:t}=this.props,{pickedImageIndex:o}=this.state;if(!t)return e;const n="logo"!==o&&e[o];return n?[n]:[]})),E(this,"normalizeUrl",(e=>{const{getMainImageURL:t}=this.props;return(e=>e.replace(/^https:\/\/[^\/]{2,}\.pinimg.com\//,"https://i.pinimg.com/"))((t||(e=>e))(e))})),E(this,"handleFetchChange",(e=>{this.setState({isFetchingPincodeImage:e})})),E(this,"handleCancelButtonClick",(()=>this.setState({isPickingHeroImage:!1}))),E(this,"handleEditButtonClick",(()=>this.setState({isPickingHeroImage:!0}))),E(this,"handleSelectImage",(e=>this.setState({isPickingHeroImage:!1,pickedImageIndex:e}))),E(this,"downloadPincodeImage",(()=>{const e=this.previewNode,{ctaIsLoaded:t,isFetchingPincodeImage:o,isDownloading:n}=this.state;if(!e||!t||o||n)return;const i=e.querySelector(".pincodeMain"),s=e.querySelector(".pincodeCTA");if(!i||!s)return;const{getDownloadImageURL:r,id:l,logContextEvent:a}=this.props;a({event_type:7078,component:13141,object_id_str:l}),this.setState({isDownloading:!0}),Promise.all([C(i,r),C(s)]).then((e=>{const[t,o]=e;return((e,t)=>{const o=document.createElement("canvas");o.width=3544,o.height=3544;const n=Math.round(.1*o.width),i=Math.round(.05*o.width),s=o.width-2*n,r=o.width-2*i,l=o.height-s,[a,c]=t.width/t.height>r/l?[r,r/t.width*t.height]:[l/t.height*t.width,l],d=o.getContext("2d");return d.fillStyle="#fff",d.fillRect(0,0,o.width,o.height),d.drawImage(e,n,0,s,s),d.drawImage(t,(o.width-a)/2,s+(o.height-s-c)/2,a,c),o})(t,o)})).then((e=>j(e,`pincode_${this.props.id}.png`))).then((()=>{this.setState({isDownloading:!1})})).catch((()=>{this.setState({errorFlyoutIsOpen:!0})}))}))}render(){const{id:e,isLoadingImages:t,images:o,getThumbnailImageSrcSet:n,customizable:r}=this.props,{ctaIsLoaded:l,errorFlyoutIsOpen:a,isFetchingPincodeImage:c,isDownloading:d,isPickingHeroImage:h}=this.state;return h?(0,s.jsx)(u.xu,{width:350,color:"default",rounding:2,padding:4,children:(0,s.jsxs)(u.xu,{children:[(0,s.jsx)(u.xu,{paddingY:1,children:(0,s.jsx)(u.X6,{size:"500",lineClamp:1,children:this.props.i18n._('Change Image', 'Title of the Pincode hero image picker modal', 'Title of the Pincode hero image picker modal')})}),(0,s.jsx)(u.iz,{}),(0,s.jsx)(_,{images:o,getThumbnailImageSrcSet:n,onTouch:this.handleSelectImage}),(0,s.jsx)(u.xu,{padding:1,children:(0,s.jsx)(u.zx,{fullWidth:!0,text:this.props.i18n._('Cancel', 'Button to dismiss Pincode hero image picker', 'Button to dismiss Pincode hero image picker'),onClick:this.handleCancelButtonClick})})]})}):(0,s.jsx)(u.xu,{width:350,color:"default",rounding:2,marginBottom:4,paddingX:4,children:(0,s.jsxs)(u.xu,{children:[(0,s.jsx)(u.xu,{ref:e=>{this.previewNode=e},children:(0,s.jsxs)(u.xu,{color:"default",display:"flex",direction:"column",alignItems:"center",justifyContent:"center",width:"100%",height:320,children:[t?(0,s.jsx)(u.kC,{alignItems:"center",height:230,justifyContent:"center",width:"100%",children:(0,s.jsx)(u.$j,{accessibilityLabel:this.props.i18n._('Loading', 'accessibility label for loading spinner', 'accessibility label for loading spinner'),show:!0})}):(0,s.jsx)(y,{className:S,id:e,imageUrls:this.getCustomHeroImages().map((e=>{var t;return this.normalizeUrl(null!==(t=e.url)&&void 0!==t?t:"")})),onFetchingChange:this.handleFetchChange,size:230}),(0,s.jsx)(u.xu,{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:7,marginTop:2,children:(0,s.jsx)("div",{className:I,children:(0,s.jsx)(i.default,{onCtaDidLoad:()=>this.setState({ctaIsLoaded:!0}),width:300,height:78})})})]})}),(0,s.jsxs)(u.xu,{marginTop:2,padding:1,children:[r&&o.length>0&&(0,s.jsx)(u.xu,{paddingY:1,children:(0,s.jsx)(u.zx,{fullWidth:!0,text:this.props.i18n._('Change Image', 'Button to pick Pincode hero image', 'Button to pick Pincode hero image'),onClick:this.handleEditButtonClick})}),(0,s.jsxs)(u.xu,{paddingY:1,children:[(0,s.jsx)(u.xu,{ref:e=>{this.downloadButton=e},children:(0,s.jsx)(u.zx,{fullWidth:!0,text:this.props.i18n._('Download Pincode', 'Button to download the Pincode image', 'Button to download the Pincode image'),color:"red",onClick:this.downloadPincodeImage,disabled:t||!l||c||d})}),a&&(0,s.jsx)(u.J2,{anchor:this.downloadButton,color:"red",idealDirection:"down",onDismiss:()=>this.setState({errorFlyoutIsOpen:!1}),size:"sm",shouldFocus:!1,children:(0,s.jsx)(u.xu,{padding:3,children:(0,s.jsx)(u.xv,{color:"inverse",weight:"bold",children:(0,s.jsx)("span",{children:this.props.i18n._('Oops! Your browser does not support downloading Pincodes.', 'Error message shown when user attempts to download Pincode on a browser not supported', 'Error message shown when user attempts to download Pincode on a browser not supported')})})})})]})]})]})})}}function z(e){const{logContextEvent:t}=(0,P.v)(),o=(0,d.ZP)();return(0,s.jsx)(T,{...e,i18n:o,logContextEvent:t})}},529758:(e,t,o)=>{o.d(t,{Z:()=>c});var n=o(667294),i=o(121151),s=o(898781),r=o(883119),l=o(407043),a=o(785893);function c({children:e,objectId:t,onHide:o}){const{logContextEvent:c}=(0,l.v)(),d=(0,s.ZP)(),u={component:13141,object_id_str:t};return(0,n.useEffect)((()=>{c({event_type:6359})}),[t]),(0,a.jsx)(i.ZP,{accessibilityModalLabel:d._('Pincode', 'pincode.pincodemodal.label', 'Accessible label for a modal showing the pincode modal'),heading:d._('Pincode', 'pincode.pincodemodal.heading', 'Heading for a modal showing the pincode.'),onDismiss:()=>{o(),c({event_type:6358,...u})},size:"sm",children:(0,a.jsx)(r.kC,{alignItems:"stretch",justifyContent:"center",children:e})})}},301732:(e,t,o)=>{o.d(t,{ZP:()=>P,cs:()=>y});var n=o(667294),i=o(704115),s=o(715173),r=o(730320),l=o(104258),a=o(907301),c=o(464019),d=o(784590),u=o(19121),_=o(407043),h=o(898781),p=o(780280),m=o(883119),g=o(785893);function f({onClick:e}){const t=(0,h.ZP)();return(0,g.jsx)(m.xu,{marginStart:-6,padding:6,children:(0,g.jsx)(m.iP,{role:"link",href:"/categories",onTap:e,children:(0,g.jsxs)(m.xu,{children:[(0,g.jsx)(m.zd,{height:236,rounding:2,wash:!0,width:236,children:(0,g.jsx)(m.kC,{alignItems:"center",height:"100%",justifyContent:"center",children:(0,g.jsx)(m.JO,{accessibilityLabel:t._('add topics', 'accessible label for Explore topics add icon', 'accessible label for Explore topics add icon'),color:"error",icon:"add-circle",size:40})})}),(0,g.jsx)(m.xu,{paddingY:3,children:(0,g.jsx)(m.X6,{size:"400",color:"subtle",children:t._('Explore topics', 'Text to display for link to find topics to follow', 'Text to display for link to find topics to follow')})})]})})})}function x(e){let t=e;return e.includes(":")&&2===e.indexOf(":")&&(t=e.substring(3)),t}function b(e){const{id:t="",images:o={},name:n="",background_color:i="",is_followed:r=!1,url_name:l="",primaryAction:a=!1}=e;return(0,g.jsx)(m.xu,{marginStart:-6,padding:6,children:(0,g.jsx)(c.Z,{backgroundColor:i,id:t,image:o["400x"],followedByMe:r,name:n,url:x(l),followingButton:Boolean(a)&&(0,g.jsx)(s.Z,{fullWidth:!0,topicId:t,isFollowed:r,primaryAction:Boolean(a)})})},t)}class v extends n.PureComponent{constructor(...e){var t,o,n;super(...e),n=()=>{this.props.logContextEvent({event_type:101,view_type:4,view_parameter:51,element:1224})},(o="handleFindTopicsClick")in(t=this)?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n}render(){const{viewer:e,topicsResource:{data:t,fetchMore:o,isAtEnd:n,isFetching:i,isLoaded:s},user:c,hideExploreButton:d,primaryAction:u,requestContext:_}=this.props,h=e.isAuth&&e.username===c.username;return(0,g.jsxs)(m.xu,{children:[(0,g.jsx)(m.gr,{isAtEnd:n,isFetching:i,fetchMore:o}),s&&t&&(t.length?(0,g.jsxs)(a.Z,{itemWidth:260,children:[!d&&h&&(0,g.jsx)(f,{onClick:this.handleFindTopicsClick}),t.map((e=>Object.assign(e,{primaryAction:u,requestContext:_}))).map(b)]}):(0,g.jsx)(r.Z,{children:(0,g.jsx)(l.Z,{subject:"topics",surface:"following",user:c})})),(0,g.jsx)(m.$j,{accessibilityLabel:this.props.i18n._('Loading additional topics', 'Label for the loading state spinner in the Topics section of the Following page', 'Label for the loading state spinner in the Topics section of the Following page'),show:i||!s})]})}}function y(e){const{logContextEvent:t}=(0,_.v)(),o=(0,h.ZP)(),n=(0,p.B)(),s=(0,u.Z)(),r=(0,d.Z)({name:"NuxInterestsResource",options:{is_renux:!0,isLazyLoading:!0,urlParams:(0,i.Z)()}});return(0,g.jsx)(v,{...e,hideExploreButton:!0,primaryAction:!0,requestContext:n,topicsResource:r,viewer:s,i18n:o,logContextEvent:t})}function P(e){const{logContextEvent:t}=(0,_.v)(),o=(0,h.ZP)(),n=(0,p.B)(),i=(0,u.Z)(),s=(0,d.Z)({name:"InterestFollowingResource",options:({user:e})=>({username:e.username})});return(0,g.jsx)(v,{...e,requestContext:n,topicsResource:s,viewer:i,i18n:o,logContextEvent:t})}},741982:(e,t,o)=>{o.d(t,{S:()=>d,w:()=>u});var n=o(667294),i=o(695683),s=o(311541),r=o(425288),l=o(785893);const a=()=>o.e(90251).then(o.bind(o,590251)),{Provider:c,useHook:d}=(0,r.Z)("MerchantStorefrontSettings");function u({children:e}){const[t,o]=(0,s.Z)(a,i.Z),r=(0,n.useMemo)((()=>({merchantStorefrontSettings:t,updateLocaleStorefrontSetting:(e,t,n)=>{o({type:"UPDATE_LOCALE_STOREFRONT_SETTING",payload:{country:e,language:t,feedProfileId:n}})},updateStorefrontLastUpdated:e=>{o({type:"UPDATE_STOREFRONT_LAST_UPDATED",payload:e})}})),[o,t]);return(0,l.jsx)(c,{value:r,children:e})}},985310:(e,t,o)=>{o.d(t,{Z:()=>n});const n={STOREFRONT_LOCALE_STORAGE_KEY:"merchantStorefront.storefrontSettings.locale"}},695683:(e,t,o)=>{o.d(t,{Z:()=>n});const n={currentViewingLocale:{country:"",language:"",feedProfileId:""},lastUpdated:0}},120659:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(883119),i=o(785893);function s({image:e,width:t,height:o}){return e?(0,i.jsx)(n.zd,{wash:!0,width:t,height:o,children:(0,i.jsx)(n.Ee,{alt:"Board collage image",color:"#EFEFEF",fit:"cover",naturalHeight:e.height||1,naturalWidth:e.width||1,src:e.url||""})}):(0,i.jsx)(n.xu,{color:"secondary",width:t,height:o})}},728375:(e,t,o)=>{o.d(t,{Z:()=>v});var n=o(667294),i=o(14254),s=o(19878),r=o(10905),l=o(898781),a=o(883119),c=o(785893);function d({board:e,canEdit:t,isActive:o,onEditClick:n,subtitle:i}){const d=(0,l.ZP)(),{image_cover_url:u,is_collaborative:_,name:h,pin_count:p,section_count:m}=e,g=_&&(0,c.jsx)(a.xu,{marginEnd:2,paddingX:1,children:(0,c.jsx)(a.JO,{accessibilityLabel:d._('Group board', 'Accessibility label to indicate group boards', 'Accessibility label to indicate group boards'),color:"default",icon:"people",size:16})});return(0,c.jsxs)(a.xu,{alignItems:"center",display:"flex",marginEnd:-4,marginStart:-4,children:[(0,c.jsx)(a.xu,{column:9,display:"flex",paddingX:4,children:(0,c.jsxs)(a.xu,{display:"flex",flex:"grow",justifyContent:"between",marginEnd:-4,marginStart:-4,children:[(0,c.jsx)(a.xu,{overflow:"hidden",paddingX:4,children:(0,c.jsxs)(a.xu,{display:"flex",marginEnd:-2,marginStart:-2,children:[(0,c.jsx)(a.xu,{flex:"none",paddingX:2,children:(0,c.jsx)(a.xu,{height:40,overflow:"hidden",rounding:1,width:40,children:u?(0,c.jsx)(a.Ee,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:u}):(0,c.jsx)(a.xu,{color:"secondary",height:"100%",width:"100%"})})}),(0,c.jsx)(a.xu,{alignItems:"center",display:"flex",marginEnd:-1,marginStart:-1,overflow:"hidden",paddingX:2,children:(0,c.jsx)(a.xu,{overflow:"hidden",paddingX:1,children:(0,c.jsx)(a.xv,{lineClamp:1,weight:"bold",children:h})})})]})}),(0,c.jsxs)(a.xu,{alignItems:"center",display:"flex",flex:"none",paddingX:4,children:["secret"===e.privacy&&(0,c.jsx)(a.xu,{marginEnd:2,children:(0,c.jsx)(r.Z,{})}),g,(0,c.jsx)(s.Z,{pinCount:null!=p?p:0,sectionCount:m})]})]})}),(0,c.jsxs)(a.xu,{alignItems:"center",column:3,display:"flex",justifyContent:"between",marginEnd:-1,marginStart:-1,paddingX:4,children:[i&&(0,c.jsx)(a.xu,{overflow:"hidden",paddingX:1,children:(0,c.jsx)(a.xv,{size:"200",lineClamp:1,children:i})}),t&&o&&(0,c.jsx)(a.xu,{flex:"none",paddingX:1,children:(0,c.jsx)(a.hU,{accessibilityLabel:d._('Edit', 'Edit button accessibility label', 'Edit button accessibility label'),icon:"edit",onClick:({event:e})=>n(e),iconColor:"gray",size:"md"})})]})]})}var u=o(6637),_=o(499128),h=o(851850),p=o(19121),m=o(904411),g=o(597897),f=o(780280),x=o(343341),b=o(286268);function v({board:e,canEdit:t,invite:o,isReordering:s,layout:r,onDeclineRequest:v,onEditClick:y,subtitle:P,viewParameter:w,viewType:A}){var C;const j=(0,l.ZP)(),E=(0,p.Z)(),S=E&&E.isAuth,I=E.isAuth?E.id:"",[T,z]=(0,n.useState)(!1),[k,D]=(0,n.useState)(!1),R=(0,g.U)(),O=(0,x.F9)(),{locale:L}=(0,f.B)(),B=(0,h.Z)();(0,n.useEffect)((()=>{s&&T&&z(!1)}),[s,T]);const M=null!==(C=null==e?void 0:e.id)&&void 0!==C?C:"",F=(0,m.gC)()(M),N=()=>{z(!s),R&&R.load(new URL("[username]/[slug].js","file://"))},Z=()=>{z(!1)},U=null!=e?e:F;if(U){var G,H,V,W,$;const e=U.owner,n=[e,...U.collaborating_users||[]].filter(Boolean).map((({id:e,image_medium_url:t,username:o,full_name:n})=>({id:e,image_medium_url:t,username:o,full_name:n}))),s=B(U),l={isCustom:U.has_custom_cover,url:s,position:(0,b.Bw)(U.cover_pin)},h=(0,b.Jx)(U,s).map((({url:e})=>({name:(0,b.po)(e),url:e}))),p=(null==e?void 0:e.id)===I,m=n.filter((({id:e})=>e===I)).length>0;return(0,c.jsx)(a.xu,{"data-test-id":"profile-board-card",children:(0,c.jsx)(a.xu,{"data-test-id":`board-${null!==(G=U.name)&&void 0!==G?G:""}`,onMouseEnter:N,onMouseLeave:Z,children:"list"===r?(0,c.jsx)(d,{board:U,canEdit:t,isActive:T,onEditClick:y,subtitle:P}):(0,c.jsx)(i.Z,{archivedDate:null!==(H=U.archived_by_me_at)&&void 0!==H?H:void 0,boardUrl:U.url,canEdit:t,collaborators:n,collaboratorsCount:U.collaborator_count,containerBackgroundColor:U.archived_by_me_at?"#f6f6f6":void 0,coverPhoto:s?l:null,followedByMe:Boolean(U.followed_by_me),fullSizeDrawer:!0,handleInviteResponse:e=>{(async e=>{if(!o)return;const{board:t={},invited_user:n={}}=o,i={board_id:null==t?void 0:t.id,invited_user_id:n.id};await u.Z.create("BoardInviteResource",i)[e?"callUpdate":"callDelete"](),D(e),!e&&v?(v(),O.showToast((({hideToast:e})=>(0,c.jsx)(_.ZP,{onHide:e,text:j._('Invitation declined', 'text in toast after declined a board collaborator invite', 'text in toast after declined a board collaborator invite')})))):O.showToast((({hideToast:e})=>(0,c.jsx)(_.ZP,{duration:5e3,onHide:e,text:j._('You\'re in! Save Pins, plan with collaborators, and more!', 'ProfileBoardCard.handleInviteResponse.acceptedInviteToast', 'Text in toast after accepting a board collaborator invite.')})))})(e)},hideMeta:!1,id:U.id,imagesLego:h,invite:o,isActive:T,isAuthenticated:S,isBoardInviteAccepted:k,isCollaborative:Boolean(U.is_collaborative),isCollaborator:m,isOwner:p,isSecret:"secret"===U.privacy,layout:"square"===r?"square":"wide",lastModifiedDate:null!==(V=U.board_order_modified_at)&&void 0!==V?V:"",locale:L,name:null!==(W=U.name)&&void 0!==W?W:"",numCols:4,onEditClick:y,owner:e,pinCount:U.pin_count?U.pin_count:void 0,sectionCount:null!==($=U.section_count)&&void 0!==$?$:0,sensitivityScreen:U.sensitivity_screen,showFollowButton:!1,viewParameter:w,viewType:A,viewerId:I})})})}return null}},558446:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(564194),i=o(728375),s=o(785893);function r({board:e,isOwnProfile:t,slotIndex:o,...r}){var l;const a=t?3069:3070;return(0,s.jsx)(n.Z,{componentType:13669,impressionType:"Board",loggingId:null!==(l=null==e?void 0:e.id)&&void 0!==l?l:"",slotIndex:o,viewParameter:a,viewType:4,children:(0,s.jsx)(i.Z,{board:e,...r,viewParameter:a,viewType:4})})}},132893:(e,t,o)=>{o.d(t,{F:()=>i,m:()=>s});const n={square:{width:236,height:157},wide:{width:320,height:213}};function i(e){return n["square"===e?"square":"wide"]}function s(e){return"list"===e?"100%":i(e).width+16}},31185:(e,t,o)=>{function n(e,t,o){return{privacy_filter:t?"secret":"public",sort:o||"last_pinned_to",field_set_key:"profile_grid_item",username:e}}o.d(t,{Z:()=>n})},527885:(e,t,o)=>{o.d(t,{O:()=>l,Q:()=>a});var n=o(848900),i=o(414327),s=o(875495);const r=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],l={name:"BoardsResource",key:"boardsResource",options:({boardOrder:e,filterStories:t,mixPublicSecret:o,username:n},i)=>({privacy_filter:"all",sort:e||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:t,username:n,page_size:25,group_by:o?"mix_public_private":"visibility",include_archived:!0,redux_normalize_feed:!0,...i?{orbac_subject_id:i}:Object.freeze({})})},a=e=>r.reduce(((t,o)=>{const r=[(0,s.N8)("profileBoards",(0,n.Z)(e,o))];return[!0,!1].forEach((t=>{[!0,!1].forEach((n=>{r.push((0,i.jB)(l.name,l.options({username:e,boardOrder:o,mixPublicSecret:t,filterStories:n})))}))})),t.concat(r)}),[])},730320:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(883119),i=o(785893);const s=({children:e,marginTop:t=5,textSize:o="500"})=>(0,i.jsx)(n.W2,{children:(0,i.jsx)(n.xu,{marginBottom:5,marginTop:t,children:(0,i.jsx)(n.X6,{color:"subtle",size:o,children:e})})})},406379:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(898781),i=o(349700),s=o(883119),r=o(785893);function l({fullName:e,isOwnProfile:t,isPartnerProfile:o}){const l=(0,n.ZP)(),a=t?l._('You haven\'t saved any Pins yet', 'ownProfile.boards.emptyState', 'Message on a user\'s own profile when they haven\'t saved anything'):(0,i.nk)(l._('{{ fullName }} hasn\'t saved any Pins yet', 'otherProfile.boards.emptyState', 'Message on another user\'s profile when that user hasn\'t saved anything'),{fullName:null!=e?e:""});return(0,r.jsx)(s.W2,{children:(0,r.jsxs)(s.xu,{alignItems:"center",direction:"column",display:"flex",marginTop:8,children:[(0,r.jsx)(s.xv,{children:a}),t&&(0,r.jsx)(s.xu,{marginTop:4,children:(0,r.jsx)(s.zx,{role:"link",href:o?"/homefeed":"/",accessibilityLabel:l._('Find ideas', 'ownProfile.boards.emptyStateButton', 'Button accessibility label to redirect a user from their empty profile to homefeed to find ideas to save'),size:"lg",text:l._('Find ideas', 'ownProfile.boards.emptyStateButton', 'Button text to redirect a user from their empty profile to homefeed to find ideas to save')})})]})})}},104258:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(898781),i=o(19121),s=o(349700);function r({subject:e,surface:t,user:o}){const r=(0,n.ZP)(),l=(0,i.Z)(),{first_name:a}=null!=o?o:{},c=((e,t)=>t.isAuth&&e&&t.id===e.id)(o,l),d=()=>c?(()=>{switch(e){case"boards":return r._('You haven\u2019t followed any boards yet', 'Text displayed when the current user is viewing their own profile and has yet to follow any boards', 'Text displayed when the current user is viewing their own profile and has yet to follow any boards');case"topics":return r._('You haven\u2019t picked any topics to follow yet', 'Text displayed when the current user is viewing their own profile and has yet to follow any topics', 'Text displayed when the current user is viewing their own profile and has yet to follow any topics');case"users":return r._('You haven\u2019t followed anyone yet', 'Text displayed when the current user is viewing their own profile and has yet to follow any other users', 'Text displayed when the current user is viewing their own profile and has yet to follow any other users');default:return null}})():(()=>{switch(e){case"boards":return(0,s.nk)(r._('{{ firstName }} hasn\'t followed any boards yet', 'Text displayed when a user has not followed any boards', 'Text displayed when a user has not followed any boards'),{firstName:a});case"topics":return(0,s.nk)(r._('{{ firstName }} hasn\'t picked any topics to follow yet', 'Text displayed when a user has not followed any topics', 'Text displayed when a user has not followed any topics'),{firstName:a});case"users":return(0,s.nk)(r._('{{ firstName }} hasn\'t followed anyone yet', 'Text displayed when a user has not followed anyone', 'Text displayed when a user has not followed anyone'),{firstName:a});default:return null}})();switch(t){case"followers":return c?r._('Nobody has followed your boards yet', 'Text displayed when the current user is viewing their own profile and has yet to have their boards followed', 'Text displayed when the current user is viewing their own profile and has yet to have their boards followed'):(0,s.nk)(r._('Nobody has followed {{ firstName }}\'s boards yet', 'Text displayed when a no one has followed a user\u2019s boards', 'Text displayed when a no one has followed a user\u2019s boards'),{firstName:null!==(_=null==o?void 0:o.first_name)&&void 0!==_?_:""});case"following":return d();case"profile":return(()=>{if(c)switch(e){case"pins":return null!=o&&o.is_partner?r._('Nothing to see yet! Pins you publish will show up here.', 'profile.businessProfile.latestFeed.emptyLabel', 'label for empty business profile self-view of latest feed'):null;default:return null}switch(e){case"pins":return(0,s.nk)(r._('{{ firstName }} hasn\'t saved any Pins yet', 'Text displayed when a user has not saved any pins', 'Text displayed when a user has not saved any pins'),{firstName:a});case"boards":return(0,s.nk)(r._('{{ firstName }} hasn\'t created any boards yet', 'Text displayed when a user has not created any boards', 'Text displayed when a user has not created any boards'),{firstName:a});case"domainPins":return(0,s.nk)(r._('{{ firstName }} hasn\'t had any pins saved from their domain yet', 'Text displayed when a user has not had any images from their website pinned', 'Text displayed when a user has not had any images from their website pinned'),{firstName:a});default:return null}})();case"community":return c?r._('No one is following you', 'Text displayed when the current user is viewing their own profile and has yet to have their profile/boards followed', 'Text displayed when the current user is viewing their own profile and has yet to have their profile/boards followed'):(0,s.nk)(r._('Be the first to follow {{ firstName }}', 'Text displayed when a no one has followed a user\u2019s profile/boards', 'Text displayed when a no one has followed a user\u2019s profile/boards'),{firstName:null!==(u=null==o?void 0:o.first_name)&&void 0!==u?u:""});case"shop":return(()=>{switch(e){case"search":return r._('Sorry, we couldn\'t find any Pins for this search.', 'Text displayed when a search result is empty', 'Text displayed when a search result is empty');default:return null}})();default:return null}var u,_}},907301:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(883119),i=o(785893);const s=(e,t)=>Array.from(new Array(t)).map(((t,o)=>(0,i.jsx)(n.xu,{width:e},o)));const r=function({children:e,itemWidth:t,maxColumns:o=12}){return(0,i.jsxs)(n.kC,{alignItems:"stretch",justifyContent:"center",wrap:!0,children:[e,s(t,o)]})}},85719:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(883119),i=o(785893);function s({accessibilityLabel:e,color:t="darkGray",icon:o,info:s}){return(0,i.jsxs)(n.kC,{gap:{row:7,column:0},children:[(0,i.jsx)(n.JO,{accessibilityLabel:e,color:t,icon:o,size:20}),s]})}},766911:(e,t,o)=>{o.d(t,{Z:()=>c});var n=o(116303),i=o(300267),s=o(580496),r=o(898781),l=o(883119),a=o(785893);function c({onTouch:e,user:t,viewer:o}){const c=(0,r.ZP)(),{image_xlarge_url:d,username:u}=null!=t?t:{},_=(0,s.Z)(t),h=(0,i.Z)({viewer:o,user:t})||o.isAuth&&o.isEmployee,p=(0,a.jsx)(n.Z,{name:u,outline:_,size:"xl",src:null!=d?d:void 0});return h?(0,a.jsx)(l.iP,{accessibilityLabel:c._('Click to open pincode and share profile', 'AvatarWithPincode.pincodeEnabled.accessibilityLabel', 'Accessibility label for clicking on profile picture to open pincode for sharing'),fullWidth:!1,onTap:e,rounding:"circle",children:p}):p}},245635:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(667294),i=o(887831),s=o(898781),r=o(883119),l=o(785893);function a(){const e=(0,s.ZP)(),{isHovering:t,hoverHandlers:{onMouseOver:o,onMouseLeave:a}}=(0,i.Z)(),c=(0,n.useRef)();return(0,l.jsxs)(r.xu,{display:"inlineBlock",onFocus:o,onBlur:a,onMouseOver:o,onMouseLeave:a,position:"relative",tabIndex:0,children:[(0,l.jsx)(r.xu,{display:"inlineBlock",ref:c,children:(0,l.jsx)(r.JO,{accessibilityLabel:t?"":e._('Claimed website', 'Claimed website icon', 'Claimed website icon'),color:"default",icon:"globe-checked",inline:!0,size:16})}),t&&(0,l.jsx)(r.J2,{anchor:c.current,color:"darkGray",idealDirection:"left",onDismiss:()=>{},shouldFocus:!1,size:"sm",children:(0,l.jsx)(r.xu,{column:12,padding:3,children:(0,l.jsx)(r.xv,{color:"inverse",overflow:"normal",size:"100",children:e._('This website has been claimed', 'Tooltip for claimed website.', 'Tooltip for claimed website.')})})})]})}},348070:(e,t,o)=>{o.d(t,{Z:()=>h});var n=o(667294),i=o(624389),s=o(898781),r=o(349700),l=o(407043),a=o(773285),c=o(81636),d=o(290095),u=o(883119),_=o(785893);function h({isOwnProfile:e,setShowMessageFlyout:t,showMessageFlyout:h,user:p}){var m;const{logContextEvent:g}=(0,l.v)(),f=(0,a.F)().checkExperiment("web_about_drawer").anyEnabled,x=(0,s.ZP)(),b=(0,n.useRef)(null),[v,y]=(0,n.useState)(!1),[P,w]=(0,n.useState)(),A=(0,d.V)(e,(null==p||null===(m=p.partner)||void 0===m?void 0:m.profile_place)||{},x._('Address copied', 'profileHeader.contactButton.toastText', 'Text on toast to show that an address has been copied')),C=()=>{y(!1)},{id:j,partner:E}=null!=p?p:{},{contact_email:S="",contact_phone:I="",contact_phone_country:T="",enable_profile_address:z,enable_profile_message:k,profile_place:D={}}=null!=E?E:{},R=I?null==P?void 0:P(I,{defaultCallingCode:T&&"0"!==T.phone_code?T.phone_code:null}):null;(0,c.Q)({component:13673,element:11953,object_id_str:j,view_type:4,view_parameter:3107});const O=async()=>{if(y((e=>!e)),I&&!P){const e=await o.e(55302).then(o.bind(o,755302));w((()=>e.parsePhoneNumberFromString))}g({event_type:101,component:13673,element:11953,object_id_str:j,view_type:4,view_parameter:3107})},L=e=>{g({event_type:101,component:13674,element:e,object_id_str:j,view_type:48,view_parameter:3107})},B=S||R,M={contact:x._('Contact', 'profileHeader.contactButton', 'Button on a business profile to contact that business'),sectionTitle:f?x._('Contact options', 'profileHeader.contactButton.contactOptions', 'Button on a business profile to contact that business'):x._('Contact', 'profileHeader.contactButton', 'Button on a business profile to contact that business'),message:x._('Message', 'profileHeader.contactMenu.message', 'Menu option to message the user'),email:(0,r.nk)(x._('Email {{ contactEmail }}', 'profileHeader.contactMenu.email', 'contactEmail: Menu option to send an email to the user'),{contactEmail:S}),call:x._('Call', 'profileHeader.contactMenu.phoneNumber', 'Menu option to call the user')};if(!B&&!k)return null;const F=(0,d.T)(D||{});return(0,_.jsx)(i.Z,{flyoutDirection:"up",setShowMessageFlyout:t,showMessageFlyout:h,userId:j,children:({toggleSendMessageFlyout:e})=>(0,_.jsxs)(n.Fragment,{children:[(0,_.jsx)(u.xu,{ref:b,children:(0,_.jsx)(u.zx,{onClick:()=>{B?O():e()},selected:v,size:"lg",text:M.contact})}),v&&(0,_.jsxs)(u.Lt,{id:"profileHeader_contactMenu",anchor:b.current,idealDirection:"up",onDismiss:C,children:[(0,_.jsxs)(u.Lt.Section,{label:M.sectionTitle,children:[k&&(0,_.jsx)(u.Lt.Item,{onSelect:()=>{e(),L(11956),C()},option:{label:M.message,value:M.message}}),S&&(0,_.jsx)(u.Lt.Link,{isExternal:!0,href:`mailto:${S}`,onClick:()=>{L(11954),C()},option:{label:M.email.join(""),value:M.email.join("")}}),R||I?(0,_.jsx)(u.Lt.Link,{isExternal:!0,onClick:({dangerouslyDisableOnNavigation:e})=>{L(11955),e(),C()},href:`tel:${R?R.getURI():I}`,option:{label:M.call,value:M.call}}):null]}),f&&z&&(0,_.jsx)(u.Lt.Section,{label:x._('Address', 'profileHeader.contactButton.address', 'Address category for contact options drawer'),children:(0,_.jsx)(u.Lt.Item,{onSelect:A,option:{label:F,value:F}})})]})]})})}},989405:(e,t,o)=>{o.d(t,{Z:()=>c});var n=o(898781),i=o(892819),s=o(349700),r=o(883119),l=o(780280),a=o(785893);function c({followerCount:e=0,followingCount:t=0,isOwnProfile:o,textSize:c="300",textWeight:d="bold",type:u}){const _=(0,n.ZP)(),{locale:h}=(0,l.B)(),p=(0,i.Z)(),m=p(h,e,{shortform:!0,shortform_maximum_fraction_digits:1}),g=p(h,t,{shortform:!0,shortform_maximum_fraction_digits:1}),f=o?(0,s.nk)(_.ngettext('{{ followerCountFormatted }} follower', '{{ followerCountFormatted }} followers', e, 'ProfilePage.followerCount.ownProfile', 'followerCountFormatted: number of followers you have'),{followerCountFormatted:m}):(0,s.nk)(_.ngettext('{{ followerCountFormatted }} follower', '{{ followerCountFormatted }} followers', e, 'ProfilePage.followerCount.othersProfile', 'followerCountFormatted: number of followers another profile has'),{followerCountFormatted:m}),x=o?(0,s.nk)(_.ngettext('{{ followingCountFormatted }} following', '{{ followingCountFormatted }} following', t, 'ProfilePage.followingCount.ownProfile', 'followingCountFormatted: number of profiles you are following'),{followingCountFormatted:g}):(0,s.nk)(_.ngettext('{{ followingCountFormatted }} following', '{{ followingCountFormatted }} following', t, 'ProfilePage.followingCount.othersProfile', 'followingCountFormatted: number of other profiles another user is following'),{followingCountFormatted:g});return(0,a.jsx)(r.xv,{color:"default",size:c,weight:d,children:"followers"===u?f:x})}},321886:(e,t,o)=>{o.d(t,{Z:()=>F});var n=o(27255),i=o(319915),s=o(667294),r=o(85719),l=o(939106),a=o(694379),c=o(898781),d=o(19121),u=o(349700),_=o(883119),h=o(785893);function p({count:e,onClick:t,variant:o}){const n=(0,c.ZP)(),{isAuth:i}=(0,d.Z)(),s=e<=0,r={followers:(0,u.nk)(n.ngettext('{{count}} follower', '{{count}} followers', e, 'label for n followers', 'label for n followers'),{count:(0,h.jsx)(a.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:e||0},"following-count")}),following:(0,u.nk)(n.ngettext('{{count}} following', '{{count}} following', e, 'label for n following users', 'label for n following users'),{count:(0,h.jsx)(a.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:e||0},"follower-count")})};return i?(0,h.jsx)(_.xu,{"data-test-id":`profile-${o}-count`,display:"inlineBlock",children:(0,h.jsx)(_.iP,{disabled:s,onTap:()=>t(o),children:(0,h.jsx)(_.xv,{inline:!0,weight:s?"normal":"bold",children:r[o]})})}):(0,h.jsx)(_.xv,{inline:!0,children:r[o]})}function m({headingText:e,itemIndex:t,onDismiss:o,setItemIndex:n,showSegmentedController:i}){const r=(0,c.ZP)(),l=[r._('People', 'FollowersModalHeading.tabs.people', 'Tab for displaying Pinner follows'),r._('Boards', 'FollowersModalHeading.tabs.boards', 'Tab for displaying board follows')];return(0,h.jsxs)(s.Fragment,{children:[(0,h.jsxs)(_.xu,{alignItems:"center",justifyContent:"center",display:"flex",position:"relative",marginStart:6,marginEnd:6,paddingY:6,children:[(0,h.jsx)(_.X6,{size:"500",children:(0,h.jsx)(_.kC,{alignItems:"center",justifyContent:"start",children:e})}),(0,h.jsx)(_.xu,{marginStart:"auto",position:"absolute",right:!0,children:(0,h.jsx)(_.hU,{accessibilityLabel:r._('Close modal', 'FollowersModal.closeModalButton', 'Accessibility label for button to close the modal'),icon:"cancel",onClick:o,iconColor:"gray",size:"md"})})]}),i&&(0,h.jsx)(_.xu,{paddingX:6,marginBottom:2,children:(0,h.jsx)(_.sY,{selectedItemIndex:t,items:l,onChange:({activeIndex:e})=>n(e)})})]})}var g=o(976849),f=o(907301),x=o(784590),b=o(132893);function v({layout:e,user:t}){const o=(0,c.ZP)(),n=(0,b.m)(e),i=(0,x.Z)({name:"BoardFollowingResource",options:{field_set_key:"profile_grid_item",username:null==t?void 0:t.username}}),{data:r,fetchMore:l,isAtEnd:a,isFetching:d,isLoaded:u}=i;return(0,h.jsxs)(s.Fragment,{children:[u&&r&&(0,h.jsx)(f.Z,{itemWidth:n,children:r.map(((t,o)=>(0,h.jsx)(_.xu,{width:n,padding:2,children:(0,h.jsx)(g.Z,{board:t,slotIndex:o,layout:e})},t.id)))}),(0,h.jsx)(_.$j,{accessibilityLabel:o._('Loading additional boards', 'FollowingBoards.spinner.accessibilityLabel', 'Label for the loading state spinner in the Boards section of the Following page'),show:d||!u}),!a&&!d&&(0,h.jsx)(_.xu,{display:"flex",justifyContent:"center",marginTop:2,marginBottom:4,width:"100%",children:(0,h.jsx)(_.zx,{accessibilityLabel:o._('See more', 'FollowingBoards.moreButton.accessibilityLabel', 'Accessibility label for button to see more'),disabled:d,onClick:l,text:o._('See more', 'FollowingBoards.moreButton.text', 'Button text to see more')})})]})}var y=o(121151),P=o(56291);const w="square",A=(0,b.m)(w),C="number"==typeof A?2*A+48:"md";function j({accessibilityModalLabel:e,followersResource:t,headingText:o,onDismiss:n,showSegmentedController:i,user:r}){const l=(0,c.ZP)(),{data:a,fetchMore:u,isAtEnd:p,isFetching:g}=t,[f,x]=(0,s.useState)(0),{id:b}=(0,d.Z)(),A=a&&a.length>0&&0===f&&a.map((e=>(0,h.jsx)(P.Z,{showVerified:!0,user:e,isSelf:e.id===b},e.id)));return(0,h.jsxs)(y.ZP,{accessibilityModalLabel:e,heading:(0,h.jsx)(m,{headingText:o,onDismiss:n,itemIndex:f,showSegmentedController:i,setItemIndex:x}),onDismiss:n,size:C,children:[(0,h.jsxs)(_.xu,{paddingX:6,paddingY:2,children:[(0,h.jsx)(s.Fragment,{children:A}),1===f&&(0,h.jsx)(v,{user:r,layout:w})]}),p||0!==f?null:(0,h.jsx)(_.xu,{display:"flex",justifyContent:"center",marginBottom:4,width:"100%",children:(0,h.jsx)(_.zx,{accessibilityLabel:l._('See more', 'FollowersModal.moreButton.accessibilityLabel', 'Accessibility label for button to see more'),disabled:g,onClick:u,text:l._('See more', 'FollowersModal.moreButton.text', 'Button text to see more')})})]})}var E=o(300267),S=o(81636);function I({followersResource:e,onDismiss:t,totalFollowersCount:o,user:n,variant:i}){const r=(0,c.ZP)(),l="following"===i;(0,S.Q)({view_type:4,view_parameter:l?51:50});const _=(0,d.Z)(),p=(0,x.Z)({name:"BoardFollowingResource",options:{field_set_key:"profile_grid_item",username:null==n?void 0:n.username}}),m=!!p.data&&p.data.length>0,g={followers:r._('Followers', 'FollowersModal.accessibilityModalLabel.followers', 'Accessibility label for modal showing the followers for a given entity'),following:r._('Following', 'FollowersModal.accessibilityModalLabel.following', 'Accessibility label for modal showing what of a given entity is following')},f={followers:null,following:r._('Following', 'FollowersModal.heading.following', 'Header text for modal showing what given entities a user is following')},b={followers:(0,u.nk)(r.ngettext('{{ count }} Follower', '{{ count }} Followers', o, 'FollowersModal.headingCount.followers', 'Count of the followers of a given entity'),{count:(0,h.jsx)(a.Z,{value:o},"totalFollowersCount")}),following:null},v=(0,h.jsx)(s.Fragment,{children:[f[i],b[i]].filter(Boolean).reduce(((e,t,o)=>[...e,0!==o?" • ":null,t]),[])}),y=(0,E.Z)({user:n,viewer:_}),P=m&&y&&l;return(0,h.jsx)(j,{accessibilityModalLabel:g[i],headingText:v,showSegmentedController:P,onDismiss:t,followersResource:e,user:n})}var T=o(580496),z=o(256883);function k({onDismiss:e,totalFollowersCount:t}){const o=(0,c.ZP)(),n=(0,s.useRef)(null),i=o._('Followers', 'FollowersModal.accessibilityModalLabel.followers', 'Accessibility label for modal showing the followers for a given entity'),r=!!t&&(0,h.jsx)(s.Fragment,{children:(0,u.nk)(o.ngettext('{{ count }} Follower', '{{ count }} Followers', t, 'FollowersModal.headingCount.followers', 'Count of the followers of a given entity'),{count:(0,h.jsx)(a.Z,{value:t},"totalFollowersCount")})});return(0,h.jsx)(y.ZP,{accessibilityModalLabel:i,heading:(0,h.jsx)(m,{headingText:r,onDismiss:e,itemIndex:0,showSegmentedController:!1,setItemIndex:()=>{}}),onDismiss:e,size:550,_dangerouslyDisableScrollBoundaryContainer:!0,children:(0,h.jsx)(_.xu,{"data-test-id":"profile-followers-feed",height:700,overflow:"auto",ref:n,children:(0,h.jsx)(z.default,{scrollContainer:()=>n.current||window})})})}var D=o(793937);function R({followersTotalCount:e,followingResource:t,followingTotalCount:o,isAboutDrawerVariant:n,user:i}){const[a,d]=(0,s.useState)(null),u=(0,c.ZP)(),m=()=>{d(null)},g=(0,T.Z)(i);return(0,h.jsxs)(s.Fragment,{children:[n?(0,h.jsxs)(_.kC,{direction:"column",gap:{row:0,column:6},children:[!!e&&e>=0&&(0,h.jsx)(r.Z,{accessibilityLabel:u._('Followers icon', 'profileHeader.followersIcon', 'Icon next to user\'s follower count'),icon:"person-add",info:(0,h.jsx)(l.Z,{items:[(0,h.jsx)(p,{count:e,onClick:d,variant:"followers"},"followersDisplay"),g?(0,h.jsx)(D.default,{user:i}):null]})}),o>=0&&(0,h.jsx)(r.Z,{accessibilityLabel:u._('Following icon', 'profileHeader.followingIcon', 'Icon next to user\'s following count'),icon:"people",info:(0,h.jsx)(p,{count:o,onClick:d,variant:"following"})})]}):(0,h.jsx)(l.Z,{items:[e&&e>=0?(0,h.jsx)(p,{count:e,onClick:d,variant:"followers"}):null,o>=0?(0,h.jsx)(p,{count:o,onClick:d,variant:"following"}):null]}),"followers"===a&&(0,h.jsx)(k,{onDismiss:m,totalFollowersCount:e}),"following"===a&&(0,h.jsx)(I,{followersResource:t,onDismiss:m,totalFollowersCount:o,variant:a,user:i})]})}var O,L=o(947599),B=o(167912);function M({isAboutDrawerVariant:e=!1,user:t}){var i;const s=(0,d.Z)(),{id:r}=null!=t?t:{},l=void 0!==O?O:O=o(226501),a=(0,B.useLazyLoadQuery)(l,{userId:r}),{following_count:c=0,interest_following_count:u=0}=null!=t?t:{},{data:_}=null!==(i=a.v3GetUserHandlerQuery)&&void 0!==i?i:{},{followerCount:p,username:m}=_||{},g=(0,E.Z)({user:t,viewer:s}),f=(0,x.Z)({name:"UserFollowingResource",options:{exclude_not_explictly_followed:!!g||void 0,page_size:n.Z.MAX_FETCH_NUM_FOLLOWERS_PER_PAGE,explicit_following:g,username:m}});if(!_)return null;const b=c-(null!=u?u:0);return(0,h.jsx)(R,{followersTotalCount:p,followingResource:f,followingTotalCount:b,isAboutDrawerVariant:e,user:t})}function F(e){const t=(0,c.ZP)();return(0,h.jsx)(i.Z,{name:"SafeSuspense_ProfileHeader_FollowersController",children:(0,h.jsx)(L.Z,{fallback:(0,h.jsx)(_.xu,{padding:5,children:(0,h.jsx)(_.$j,{accessibilityLabel:t._('Loading follower counts', 'profile.header.followerController', 'accessibility label for follower counts spinner'),show:!0})}),children:(0,h.jsx)(M,{...e})})})}},657738:(e,t,o)=>{o.d(t,{Z:()=>A});var n=o(667294),i=o(172071),s=o(898781),r=o(91214),l=o(934523),a=o(642345),c=o(349700),d=o(407043),u=o(773285),_=o(883119),h=o(752403),p=o(785893);const m=new _.H3([new _.Ry(r.HW),new _.Ry(l.fe)]),g="/settings/account-settings/",f=({text:e})=>{const t=(0,n.useRef)(null),[o,s]=(0,n.useState)(!1);return o&&i.Z.increment("client.profile.inspirational_badge_controls.info_tool_tip.rendered",1),(0,p.jsxs)(n.Fragment,{children:[o&&(0,p.jsx)(_.J2,{anchor:t.current,color:"blue",idealDirection:"up",showCaret:!0,onDismiss:()=>s(!1),positionRelativeToAnchor:!1,size:"sm",children:(0,p.jsx)(_.xu,{padding:3,children:(0,p.jsx)(_.xv,{color:"inverse",align:"center",size:"200",children:e})})}),(0,p.jsx)(_.xu,{width:32,height:32,children:(0,p.jsx)(_.iP,{onFocus:()=>s(!0),onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),ref:t,fullWidth:!0,fullHeight:!0,children:(0,p.jsx)(_.hU,{accessibilityLabel:e,icon:"info-circle",size:"sm",iconColor:"gray"})})})]})},x=({badgeLabel:e,disabled:t,eligible:o,isChecked:n,setSelectedBadge:i})=>{const s=(0,p.jsx)(_.xu,{display:"inlineBlock",children:(0,p.jsx)(_.__,{htmlFor:`inspirational-badge-${e.id}`,children:(0,p.jsx)(_.xv,{overflow:"noWrap",children:(0,p.jsx)(_.xu,{display:"inlineBlock",rounding:1,paddingX:2,paddingY:1,marginStart:1,marginEnd:1,dangerouslySetInlineStyle:{__style:{backgroundColor:h.QP[0],color:o?"black":"gray"}},children:e.label})})})});return(0,p.jsxs)(_.kC,{alignItems:"start",direction:"row",children:[(0,p.jsx)(_.xu,{display:"inlineBlock",marginEnd:2,marginBottom:2,children:(0,p.jsx)(_.XZ,{checked:n,id:`inspirational-badge-${e.id}`,disabled:t,name:"badges",onChange:({checked:t})=>i(e.id,t)},e.id)}),e.controlsTooltip?(0,p.jsx)(_.u,{text:e.controlsTooltip,idealDirection:"right",children:s}):s]},e.id)};function b({inspirationalSignal:e,onDismiss:t,onSubmit:o}){var r;const{logContextEvent:l}=(0,d.v)(),b=(0,s.ZP)(),{checkExperiment:v}=(0,u.F)(),y=b._('Learn more', 'InspoBadges.learnMore', 'Link to article to learn more'),P=b._('Contact us', 'InspoBadgeControls.contactUs', 'Contact us link'),w=b._('Brand values', 'InspoBadgeControls.brandValuesLegend', 'Legend text used to describe brand values'),A=b._('Your brand\'s website indicates that your business is aligned with the values listed below', 'InspoBadges.brandValuesTooltip', 'Tooltip describing brand values'),C=b._('Communities', 'InspoBadgeControls.communitiesLegend', 'Legend text used to describe communities'),j=b._('Your brand\'s owner self-identified as a member of these groups. This information is only associated with your business account and isn\'t used to target ads. ', 'InspoBadges.communityTooltip', 'Tooltip describing communities'),E=b._('default color', 'InspoBadgeControls.defaultColor', 'Annotation describing the selected color as the default color'),S=(0,h.eT)(e),I=(0,h.hm)(e),T=(0,h.I)(b,S,e.badge_details),z=(0,h.I)(b,I,e.badge_details),k=T.filter((e=>h.yQ.includes(e.id))),D=T.filter((e=>h.Dm.includes(e.id))),R=T.map((e=>e.id)),O=z.map((e=>e.id)),L=(null===(r=e.inspirational_badge_selection)||void 0===r?void 0:r.badgeColor)||h.QP[0],[B,M]=(0,n.useState)(O),[F,N]=(0,n.useState)(!1),[Z,U]=(0,n.useState)(L),G=(0,n.useRef)(null),H=Boolean((0,a.oo)(Z)),V=H?Z.toUpperCase():h.QP[0],W=V===h.QP[0]?`${V} (${E})`:V,{anyEnabled:$}=v(h.Fp),{anyEnabled:Y}=v(h.lz),K=B.filter((e=>h.Dm.includes(e))),q=R.filter((e=>!B.includes(e))),X=O.length!==B.length||!B.every((e=>O.includes(e)))||Z!==L,Q=(e,t)=>{M(t?[...B,e]:B.filter((t=>t!==e)));l({event_type:t?9675:9676,component:13911})};return i.Z.increment("client.profile.inspirational_badge_controls.rendered",1),(0,p.jsx)(_.mh,{zIndex:m,children:(0,p.jsx)(_.yo,{accessibilityDismissButtonLabel:b._('Close Inspirational Badges sheet', 'InspoBadgeControls.accessibilityDismissButtonLabel', 'Accessibility text for dismissing inspirational badges sheet'),accessibilitySheetLabel:b._('Inspirational Badges customization for business profile', 'InspoBadgeControls.accessibilitySheetLabel', 'Accessibility text for opening inspirational badges sheet'),heading:b._('Edit merchant details', 'InspoBadgeControls.title', 'Title for Inspirational Badges customization sheet'),onDismiss:t,footer:({onDismissStart:e})=>(0,p.jsxs)(_.kC,{direction:"row",justifyContent:"between",children:[(0,p.jsxs)(_.xu,{children:[(0,p.jsx)(_.xv,{color:"subtle",size:"200",inline:!0,children:b._('Have questions about brand values?', 'InspoBadgeControls.haveQuestions', 'Question preceding a contact us link')}),(0,p.jsx)("br",{}),(0,p.jsx)(_.xv,{color:"subtle",size:"200",weight:"bold",inline:!0,children:(0,p.jsx)(_.rU,{href:"https://help.pinterest.com/en/contact",target:"blank",accessibilityLabel:P,inline:!0,underline:"hover",children:P})})]}),(0,p.jsx)(_.xu,{children:(0,p.jsxs)(_.hE,{children:[(0,p.jsx)(_.zx,{color:"gray",text:b._('Cancel', 'InspoBadgeControls.cancel', 'Cancel editing Inspirational badges'),onClick:e}),(0,p.jsx)(_.zx,{color:"red",text:b._('Save', 'InspoBadgeControls.save', 'Save Inspirational badges'),disabled:!X,onClick:()=>o({badgeColor:Z,badgeOptOut:q})})]})})]}),size:"sm",children:(0,p.jsx)(_.kC,{direction:"column",gap:{row:0,column:12},children:(0,p.jsxs)(_.kC,{direction:"column",gap:{row:0,column:4},children:[(0,p.jsxs)(_.xu,{children:[(0,p.jsxs)(_.xv,{inline:!0,children:[b._('Pinterest is committed to connecting shoppers and merchants with compatible values.', 'InspoBadgeControls.description', 'Description text for Inspirational Badges customization sheet'),(0,p.jsx)("br",{}),(0,p.jsx)("br",{}),b._('Feature up to three brand values and/or communities on your profile to let people on Pinterest know what your business represents.', 'InspoBadgeControls.description2', 'Description text for Inspirational Badges customization sheet')]})," ",(0,p.jsx)(_.xv,{inline:!0,weight:"bold",children:(0,p.jsx)(_.rU,{href:h._f,accessibilityLabel:y,target:"blank",inline:!0,onClick:()=>{l({event_type:9677,component:13911})},underline:"hover",children:y})})]}),(0,p.jsxs)(_.kC,{direction:"column",children:[(0,p.jsxs)(_.kC,{alignItems:"center",children:[(0,p.jsx)(_.xv,{size:"200",overflow:"noWrap",inline:!0,children:w}),(0,p.jsx)(f,{text:A})]}),(0,p.jsx)(_.xu,{paddingY:1,children:(0,p.jsx)(_.pg,{legend:w,legendDisplay:"hidden",children:(0,p.jsx)(_.kC,{direction:"column",gap:{row:0,column:3},children:k.map((e=>{const t=B.includes(e.id),o=B.length>=h.S4&&!t;return(0,p.jsx)(x,{badgeLabel:e,disabled:o,eligible:!0,isChecked:t,setSelectedBadge:Q},e.id)}))})})})]}),D.length>0&&(0,p.jsxs)(_.kC,{direction:"column",children:[(0,p.jsxs)(_.kC,{alignItems:"center",children:[(0,p.jsx)(_.xv,{size:"200",overflow:"noWrap",inline:!0,children:C}),(0,p.jsx)(f,{text:j})]}),(0,p.jsx)(_.xu,{paddingY:1,children:(0,p.jsx)(_.pg,{legend:C,legendDisplay:"hidden",children:(0,p.jsx)(_.kC,{direction:"column",gap:{row:0,column:3},children:D.map((e=>{const t=B.includes(e.id);let o;return o=Y?B.length>=h.S4&&!t:(B.length>=h.S4||K.length>=h.st)&&!t,(0,p.jsx)(x,{badgeLabel:e,disabled:o,eligible:!0,isChecked:t,setSelectedBadge:Q},e.id)}))})})}),(0,p.jsx)(_.xv,{color:"subtle",size:"200",inline:!0,children:(0,c.nk)(b._('To change communities info, visit {{ accountSettingsLink }}', 'InspoBadgeControls.changeCommunities', 'Tell users when they can reapply'),{accountSettingsLink:(0,p.jsx)(_.rU,{inline:!0,href:g,underline:"hover",children:(0,p.jsx)(_.xv,{color:"subtle",size:"200",weight:"bold",inline:!0,children:b._('account settings', 'InspoBadgeControls.accountSettingsLink', 'Link to account settings')})},g)})})]}),(0,p.jsxs)(_.kC,{direction:"column",children:[$&&(0,p.jsxs)(_.xu,{children:[(0,p.jsx)(_.xu,{marginTop:4,marginBottom:4,children:(0,p.jsx)(_.__,{htmlFor:"color-menu",children:(0,p.jsx)(_.xv,{size:"200",children:b._('Choose your label color', 'InspoBadgeControls.labelColor', 'Label color title')})})}),(0,p.jsx)(_.zx,{accessibilityControls:"color-menu",accessibilityExpanded:F,accessibilityHaspopup:!0,selected:F,onClick:()=>{l({event_type:9674,component:13911}),N(!0)},text:W,iconEnd:"arrow-down",size:"lg"})]}),(0,p.jsx)(_.xu,{ref:G}),F&&(0,p.jsx)(_.mh,{children:(0,p.jsx)(_.J2,{anchor:G.current,idealDirection:"down",onDismiss:()=>N(!1),size:"flexible",role:"listbox",shouldFocus:!0,positionRelativeToAnchor:!1,children:(0,p.jsxs)(_.xu,{id:"color-menu",borderStyle:"shadow",rounding:2,padding:4,width:"100%",children:[(0,p.jsx)(_.kC,{alignItems:"start",gap:{row:4,column:0},children:h.QP.map((e=>(0,p.jsx)(_.xu,{rounding:"circle",borderStyle:"lg",width:48,height:48,dangerouslySetInlineStyle:{__style:{borderColor:Z===e?"black":e,backgroundColor:e}},marginBottom:4,children:(0,p.jsx)(_.iP,{fullWidth:!0,fullHeight:!0,rounding:4,onTap:()=>U(e)})},e)))}),(0,p.jsxs)(_.kC,{alignItems:"start",gap:{row:4,column:0},children:[(0,p.jsx)(_.xu,{rounding:"circle",borderStyle:"lg",width:48,height:48,dangerouslySetInlineStyle:{__style:{borderColor:H&&!h.QP.includes(Z.toUpperCase())?"black":void 0,backgroundColor:V}}}),(0,p.jsx)(_.nv,{id:"selected-color",value:Z,onChange:({value:e})=>U(e.slice(0,7)),size:"lg"})]})]})})})]})]})})})})}var v=o(6637),y=o(86551),P=o(784590);const w=new _.Ry(10);function A({isOwnProfile:e,userId:t}){var o;const{logContextEvent:r}=(0,d.v)(),{checkExperiment:l}=(0,u.F)(),a=(0,s.ZP)(),c=a._('Learn more', 'InspoBadges.learnMore', 'Link to article to learn more'),m=a._('New!', 'InspoBadges.newText', 'New! descriptor calling out a New feature'),g=a._('Show shoppers your brand values and which communities you\'re a part of', 'InspoBadges.editTooltipText', 'Edit your badges callout'),f=a._('Add merchant details', 'InspoBadges.toggleEditBadges', 'CTA to add merchant details if a merchant does not have any'),{anyEnabled:x}=l(h.k$),{anyEnabled:A}=l(h.Fp),C=function(){var e;const t=null===(e=(0,y.Z)().data)||void 0===e?void 0:e.id;return(0,P.Z)({name:"VerifiedMerchantResource",options:{userId:t}})}(),j=C.data||{},E=(0,h.Bu)({areBadgesEnabled:x,verifiedMerchant:j}),S=(0,n.useRef)(),[I,T]=(0,n.useState)(h.Xe),[z,k]=(0,n.useState)(!1),[D,R]=(0,n.useState)(!0),O=E?(0,h.hm)(I):[],L=(0,h.I)(a,O,I.badge_details),B=A&&(null===(o=I.inspirational_badge_selection)||void 0===o?void 0:o.badgeColor)||h.QP[0];(0,n.useEffect)((()=>{T(j.inspirational_signal||h.Xe)}),[j.inspirational_signal]),(0,n.useEffect)((()=>{r({event_type:9667,component:13910})}));const M=()=>{k(!0),R(!1),r({event_type:9671,component:13911})},F=()=>{r({event_type:9668,component:13910})},N=()=>{r({event_type:9670,component:13910})};return E&&i.Z.increment("client.profile.inspirational_badges.rendered",1,{is_own_profile:e,num_badges:L.length,badge_color:B,user_id:j.id}),E?(0,p.jsxs)(n.Fragment,{children:[(0,p.jsxs)(_.kC,{alignItems:"center",children:[L.map((e=>(0,p.jsx)(_.u,{link:(0,p.jsx)(_.xu,{"data-test-id":"inspirational-badge-tooltip-learn-more",children:(0,p.jsx)(_.rU,{href:h.NG,accessibilityLabel:c,target:"blank",onClick:N,children:(0,p.jsx)(_.xv,{color:"inverse",size:"100",weight:"bold",children:c})})}),text:e.description,zIndex:w,children:(0,p.jsx)(_.xv,{overflow:"noWrap",children:(0,p.jsx)(_.iP,{onMouseEnter:F,children:(0,p.jsx)(_.xu,{display:"inlineBlock",rounding:1,paddingX:2,paddingY:1,marginStart:1,marginEnd:1,dangerouslySetInlineStyle:{__style:(0,h.ym)(B)},"data-test-id":"inspirational-badge",children:e.label})})})},e.label))),e&&(0,p.jsxs)(n.Fragment,{children:[D&&(0,p.jsx)(_.mh,{zIndex:w,children:(0,p.jsx)(_.J2,{anchor:S.current,color:"blue",idealDirection:"up",showCaret:!0,onDismiss:()=>{R(!1),r({event_type:9673,component:13911})},positionRelativeToAnchor:!1,size:"xs",children:(0,p.jsx)(_.xu,{padding:3,children:(0,p.jsxs)(_.xv,{color:"inverse",align:"center",size:"200",children:[(0,p.jsx)("strong",{children:m})," ",g]})})})}),0===L.length&&(0,p.jsx)(_.xu,{display:"inlineBlock",children:(0,p.jsx)(_.iP,{onTap:M,fullWidth:!0,children:(0,p.jsx)(_.xv,{color:"subtle",children:f})})}),(0,p.jsx)(_.hU,{accessibilityLabel:f,icon:"edit",onClick:M,size:"sm",ref:S,iconColor:"gray"})]})]}),z&&(0,p.jsx)(b,{inspirationalSignal:I,onDismiss:()=>k(!1),onSubmit:({badgeColor:e,badgeOptOut:o})=>{k(!1),v.Z.create("VerifiedMerchantResource",{userId:t,inspirational_badge_selection:{badgeColor:e,badgeOptOut:o}}).callUpdate().then((()=>C.refresh()));const n={...I,inspirational_badge_selection:{badgeColor:e,badgeOptOut:o}};T(n),r({event_type:9672,component:13911})}})]}):(0,p.jsx)(n.Fragment,{})}},110293:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(898781),i=o(883119),s=o(81636),r=o(785893);function l({showSendMessageFlyout:e,userId:t}){const o=(0,n.ZP)();return(0,s.Q)({element:10882,object_id_str:t,view_type:4,view_parameter:3107}),(0,r.jsx)(i.zx,{fullWidth:!0,size:"lg",text:o._('Message', 'profileHeader.messageButton', 'Button on a user profile to message that user'),onClick:e})}},439826:(e,t,o)=>{o.d(t,{Z:()=>$});var n=o(667294),i=o(766911),s=o(245635),r=o(348070),l=o(939106),a=o(319915),c=o(321886),d=o(590908),u=o(657738),_=o(300267),h=o(580496),p=o(240684),m=o(110293),g=o(624389),f=o(601785),x=o(409828),b=o(983294),v=o(883561),y=o(966113),P=o(941646),w=o(497529),A=o(717615),C=o(946984),j=o(794493),E=o(545062),S=o(19121),I=o(993786),T=o(231947),z=o(752403),k=o(407043),D=o(773285),R=o(276775),O=o(898781),L=o(883119),B=o(890087),M=o(785893);const F=(0,p.ZP)({resolved:{},chunkName:()=>"packages-experiences-ExperienceTooltip-ExperienceTooltip",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!o.m[t]},importAsync:()=>Promise.resolve().then(o.bind(o,333312)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return o(t)},resolve(){return 333312}}),N=(0,p.ZP)({resolved:{},chunkName:()=>"ViewerCount",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!o.m[t]},importAsync:()=>Promise.resolve().then(o.bind(o,793937)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return o(t)},resolve(){return 793937}}),Z=(0,p.ZP)({resolved:{},chunkName:()=>"AboutDrawer",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!o.m[t]},importAsync:()=>o.e(53201).then(o.bind(o,665326)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return o(t)},resolve(){return 665326}}),U=(0,p.ZP)({resolved:{},chunkName:()=>"ProfileCover",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!o.m[t]},importAsync:()=>o.e(63663).then(o.bind(o,85832)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return o(t)},resolve(){return 85832}}),G={PARTNER:656,PINNER:488},H=170,V=312,W=Object.freeze({504214:"/settings#profile",504821:"/settings/personal-information#community-information"});function $({onClickReportProfile:e,onCreatePincodeClick:t,onToggleBlock:o,onToggleFollow:p,setHeaderHeight:$,user:Y}){var K,q,X,Q;const{logContextEvent:J}=(0,k.v)(),ee=(0,O.ZP)(),te=(0,S.Z)(),oe=(0,n.useRef)(null),ne=(0,n.useRef)(null),[ie,se]=(0,n.useState)(!1),[re,le]=(0,n.useState)(!1),ae=(0,A.Z)(),ce=(0,C.Z)(),de=(0,R.k6)(),{experienceForPlacement:ue}=(0,w.Z)(19);(0,j.Z)((e=>{null==$||$(e.clientHeight)}),oe);const{checkExperiment:_e}=(0,D.F)(),he=_e("web_profile_pronouns").anyEnabled,{about:pe,is_primary_website_verified:me,full_name:ge,impressum_url:fe,is_verified_merchant:xe,username:be,verified_identity:ve,website_url:ye,id:Pe,pronouns:we}=null!=Y?Y:{},{anyEnabled:Ae}=_e("web_m10n_business_access_orbac_ga"),Ce=(0,_.Z)({user:Y,viewer:te})||Ae&&(0,T.N1)(te,Y,ae),je=!(0,T.N1)(te,Y,ae),Ee=(0,h.Z)(Y),Se=te.isLimitedLogin,Ie=(0,B.j3)()&&Boolean(fe),Te=(null==ve?void 0:ve.verified)||xe,ze=we?we.join("/"):"",{anyEnabled:ke}=_e(z.k$),De=_e("web_about_drawer").anyEnabled,Re=!(0,_.Z)({user:Y,viewer:te})&&_e("makeathon_2022_profile_follower_count_private").anyEnabled,Oe=(null==ye?void 0:ye.length)||0,Le=(null==fe?void 0:fe.length)||0,Be=H-Oe-Le,Me=()=>pe?De?(0,M.jsxs)(n.Fragment,{children:[(0,M.jsx)(L.xv,{inline:!0,children:(0,v.ZP)(pe,Be)}),pe.length>Be&&(0,M.jsx)(L.xu,{display:"inlineBlock",children:(0,M.jsx)(L.iP,{accessibilityLabel:ee._('Expand about section', 'profile.profileHeader.moreTextAccessibilityLabel', 'Accessibility label to expand profile about section'),onTap:()=>{J({event_type:101,component:14011,view_type:4,view_parameter:(0,_.Z)({user:Y,viewer:te})?3106:3107}),se(!0)},children:(0,M.jsx)(L.xv,{inline:!0,weight:"bold",children:ee._('more', 'profile.profileHeader.moreText', 'Clickable text to expand profile about section')})})})]}):(0,M.jsx)(L.xv,{inline:!0,children:pe}):null,Fe=Ie?(0,M.jsx)(L.rU,{href:fe,inline:!0,underline:"hover",children:(0,M.jsx)(B.$m,{inline:!0,weight:"bold"})}):null,Ne=ye?(0,M.jsxs)(n.Fragment,{children:[me&&!Te&&(0,M.jsx)(L.xu,{dangerouslySetInlineStyle:{__style:{bottom:De?"1px":"2px",display:"inline"}},marginEnd:1,position:"relative",children:(0,M.jsx)(s.Z,{})}),(0,M.jsx)(L.xv,{inline:!0,weight:"bold",children:(0,M.jsx)(L.rU,{rel:"nofollow",target:"blank",href:ye,inline:!0,onClick:()=>{J({event_type:101,component:13056,element:12890,view_type:4,view_parameter:(0,_.Z)({user:Y,viewer:te})?3106:3107,aux_data:{website_link:ye}})},underline:"hover",children:(0,d.Z)(ye)})})]}):null;return(0,M.jsxs)(n.Fragment,{children:[(0,M.jsx)(L.xu,{"data-test-id":"profile-header",display:"flex",justifyContent:"center",marginBottom:8,ref:oe,children:(0,M.jsx)(L.xu,{marginTop:Ee?void 0:3,maxWidth:Ee?G.PARTNER:G.PINNER,width:"100%",children:(0,M.jsxs)(L.kC,{alignItems:"center",direction:"column",gap:{row:0,column:2},justifyContent:"center",children:[(0,M.jsxs)(L.xu,{width:Ee?G.PARTNER:void 0,children:[Ee&&!Se&&(0,M.jsx)(U,{user:Y}),(0,M.jsx)(L.kC,{alignItems:"stretch",justifyContent:"center",children:(0,M.jsx)(i.Z,{onTouch:t,user:Y,viewer:te})})]}),(0,M.jsxs)(L.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,M.jsxs)(L.X6,{align:"center",size:"600",accessibilityLevel:1,children:[ge,Te&&(0,M.jsx)(L.xu,{display:"inlineBlock",marginStart:2,dangerouslySetInlineStyle:{__style:{marginTop:"3px"}},children:(0,M.jsx)(I.Z,{hasVerifiedIdentity:Boolean(null==ve?void 0:ve.verified),isVerifiedMerchant:xe,size:"lg"})})]}),De&&(0,M.jsx)(L.xu,{marginTop:2,children:(0,M.jsx)(l.Z,{color:"subtle",inline:!0,items:[xe?(0,M.jsx)(L.xu,{display:"inlineBlock",children:(0,M.jsx)(L.rU,{href:y.Z.settings.HELP_SHOPPING_WITH_PINTEREST,target:"blank",children:(0,M.jsx)(L.xv,{color:"shopping",inline:!0,underline:!0,size:"200",children:ee._('Verified Merchant', 'profileHeader.verifiedMerchantText', 'Text showing that user is a verified merchant')})})}):null,(0,M.jsx)(L.xv,{color:"subtle",inline:!0,size:"200",children:`@${be}`},be),ze?(0,M.jsx)(L.xv,{color:"subtle",inline:!0,size:"200",children:ze}):null]})}),he&&!De&&(0,M.jsx)(L.xv,{children:ze})]}),ke&&!(null==Y||!Y.is_inspirational_merchant)&&(0,M.jsx)(a.Z,{name:"InspirationalBadges",children:(0,M.jsx)(u.Z,{isOwnProfile:(0,_.Z)({user:Y,viewer:te}),userId:Y.id})}),Ne||Fe||!De||Me()?(0,M.jsx)(L.xu,{dangerouslySetInlineStyle:{__style:{textAlign:"center"}},children:(0,M.jsx)(l.Z,{inline:!0,items:[Ne,Fe,De?null:(0,M.jsx)(L.xv,{inline:!0,children:`@${be}`}),Me()]})}):void 0,!Re&&(0,M.jsx)(c.Z,{user:Y}),Ee&&-1!==(null==Y?void 0:Y.profile_views)&&(0,M.jsx)(N,{hideFollowers:Re,user:Y}),je&&(0,M.jsx)(L.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"8px"}},children:(0,M.jsxs)(L.kC,{gap:{row:7,column:0},children:[(0,M.jsx)(b.Z,{shownWithinProfileHeader:!0,user:Y}),(0,M.jsxs)(L.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",children:[(()=>{var e;const{contact_email:t="",contact_phone:o="",enable_profile_message:n}=null!==(e=null==Y?void 0:Y.partner)&&void 0!==e?e:{};return!t&&!o||null!=Y&&Y.blocked_by_me?!n&&Ee||null!=Y&&Y.blocked_by_me?null:(0,M.jsx)(g.Z,{setShowMessageFlyout:le,showMessageFlyout:re,userId:Pe,flyoutDirection:"up",children:({toggleSendMessageFlyout:e})=>(0,M.jsx)(m.Z,{showSendMessageFlyout:e,userId:Pe})}):(0,M.jsx)(a.Z,{name:"ContactMenuButton",children:(0,M.jsx)(r.Z,{isOwnProfile:(0,_.Z)({user:Y,viewer:te}),setShowMessageFlyout:le,showMessageFlyout:re,user:Y})})})(),null!=Y&&Y.blocked_by_me?(0,M.jsx)(L.zx,{onClick:o,size:"lg",text:ee._('Unblock', 'profileHeader.unblockButton', 'Button on a user profile to unblock that user')}):(0,M.jsx)(E.Z,{button:({followText:e,onClick:t})=>(0,M.jsx)(L.xu,{"data-test-id":null!=Y&&Y.explicitly_followed_by_me?"user-unfollow-button":"user-follow-button",children:(0,M.jsx)(L.zx,{color:"red",onClick:t,selected:null==Y?void 0:Y.explicitly_followed_by_me,size:"lg",text:e})}),fullName:ge,id:null!==(K=null==Y?void 0:Y.id)&&void 0!==K?K:"",imageUrl:null!==(q=null==Y?void 0:Y.image_large_url)&&void 0!==q?q:"",isOwnProfile:!1,onUserFollow:p,profileUrl:`/${null!==(X=null==Y?void 0:Y.username)&&void 0!==X?X:""}/`,userFollowed:null==Y?void 0:Y.explicitly_followed_by_me})]}),(0,M.jsx)(x.Z,{userId:null!==(Q=null==Y?void 0:Y.id)&&void 0!==Q?Q:"",children:({showSendMessageFlyout:t})=>(0,M.jsx)(f.Z,{onClickReportProfile:e,onToggleBlock:o,showSendMessageFlyout:t,user:Y})})]})}),Ce&&(0,M.jsx)(L.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"8px"}},children:(0,M.jsxs)(L.kC,{gap:{row:2,column:0},children:[(0,M.jsx)(b.Z,{shownWithinProfileHeader:!0,useGestaltButton:!0,user:Y}),(0,_.Z)({user:Y,viewer:te})&&(0,M.jsx)(P.Z,{id:"edit-button",children:(0,M.jsx)(L.zx,{ref:ne,size:"lg",text:ee._('Edit Profile', 'profileHeader.editProfileButton', 'Button on a user profile to edit profile'),onClick:ce((()=>{J({event_type:101,element:94}),de.push("/settings#profile")}))})})]})})]})})}),ie&&(0,M.jsx)(Z,{isOwnProfile:(0,_.Z)({user:Y,viewer:te}),onDismiss:()=>{se(!1)},onToggleFollow:p,setShowMessageFlyout:le,user:Y}),ne&&(0,M.jsx)(F,{anchor:ne.current,experienceIds:[504214,504821],flyoutSize:V,hasFullWidthButton:!1,idealDirection:"up",onClickComplete:()=>{de.push(W[null==ue?void 0:ue.experience_id])},placementId:19,showCaret:!0,textAlign:"center",textWeight:"normal"})]})}},624389:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(667294),i=o(6637),s=o(774807),r=o(883119),l=o(407043),a=o(479301),c=o(785893);function d({children:e,flyoutDirection:t,setShowMessageFlyout:o,showMessageFlyout:d,userId:u}){const{logContextEvent:_}=(0,l.v)(),[h,p]=(0,n.useState)(""),m=(0,n.useRef)(),{conversationCreate:g,conversationOpen:f}=(0,a.Z5)();return(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(r.xu,{ref:m,children:e({toggleSendMessageFlyout:()=>{o(!d)}})}),d&&(0,c.jsx)(s.Z,{anchor:m.current,idealDirection:t,onMessageChange:p,onMessageSubmit:async()=>{const e=h;p(""),o(!1),_({event_type:101,element:103,component:13946,view_type:4,view_parameter:3107});const t=i.Z.create("ConversationsResource",{user_ids:[u],text:e}),n=await t.callCreate(),s=null==n?void 0:n.resource_response.data;g(s),f(s.id)},onDismiss:()=>o(!1),message:h})]})}},601785:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(2819),i=o(580496),s=o(898781),r=o(883119),l=o(785893);function a({onClickReportProfile:e,onToggleBlock:t,showSendMessageFlyout:o,user:a}){const c=(0,s.ZP)(),d=(0,i.Z)(a),{blocked_by_me:u}=null!=a?a:{},_={label:c._('Message', 'profileHeader.actionBar.overflowFlyout.message', 'Overflow menu option on a user profile to send a message to that user'),clickHandler:o},h={label:c._('Block', 'profileHeader.actionBar.overflowFlyout.block', 'Overflow menu option on a user profile to block that user'),clickHandler:t},p={label:c._('Report', 'profileHeader.actionBar.overflowFlyout.report', 'Overflow menu option on a user profile to report a complaint about that user'),clickHandler:e},m=[];u||((()=>{var e;const{contact_email:t="",contact_phone:o="",enable_profile_message:n=!1}=null!==(e=null==a?void 0:a.partner)&&void 0!==e?e:{};return(!!t||!!o)&&n&&d})()&&m.push(_),m.push(h)),m.push(p);const g={label:c._('Profile options', 'profileHeader.actionBar.overflowFlyout.profileOptions', 'Category heading on Overflow menu on a user profile'),items:m};return(0,l.jsx)(n.Z,{icon:"ellipsis",label:c._('Other actions', 'profileHeader.actionBar.overflow', 'Accessibility label for button to open other options flyout'),children:({handleClose:e})=>[g].map((({items:t,label:o})=>(0,l.jsx)(r.Lt.Section,{label:o,children:t.map((({clickHandler:t,label:o})=>(0,l.jsx)(r.Lt.Item,{onSelect:()=>{e(),null==t||t()},option:{label:o,value:o}},o)))},o)))})}},947411:(e,t,o)=>{o.d(t,{Z:()=>Y});var n=o(439826),i=o(667294),s=o(702664),r=o(116303),l=o(245635),a=o(898781),c=o(667679),d=o(883119),u=o(785893);function _({anchor:e,onDismiss:t}){const o=(0,a.ZP)(),n=(0,c.Z)();return(0,u.jsx)(d.mh,{children:(0,u.jsx)(d.J2,{anchor:e,onDismiss:t,size:"xl",children:(0,u.jsxs)(d.kC,{alignItems:"center",direction:"column",gap:{row:0,column:4},wrap:!0,width:370,children:[(0,u.jsx)(d.xu,{display:"flex",justifyContent:"center",marginTop:4,marginBottom:4,children:(0,u.jsx)(d.xv,{size:"300",weight:"bold",children:o._('Profile options', 'profilePage.profileOptions', 'Options heading on Modal on a user profile')})}),(0,u.jsx)(d.xu,{padding:4,width:370,children:(0,u.jsx)(d.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),n({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:"tap.desktop_profile_options.unblock"})},children:(0,u.jsx)(d.xv,{size:"300",weight:"bold",children:o._('Unblock', 'profile.ProfileActionsContainer.UnbluckButton', 'Button to unblock user user\'s profile page')})})})]})})})}var h=o(948618),p=o(939106),m=o(319915),g=o(70598),f=o(989405),x=o(250059),b=o(112690),v=o(967181),y=o(752403);function P({badges:e,color:t}){const[o,n]=(0,i.useState)(!1),s=(0,b.Z)();return(0,i.useEffect)((()=>{s({event_type:9667,view_type:4,component:13910})})),(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(d.kC,{width:"100%",justifyContent:"center",children:(0,u.jsx)(d.kC,{overflow:"auto",children:e.map(((o,i)=>(0,u.jsx)(d.xu,{marginStart:0===i?"auto":void 0,marginEnd:i===e.length-1?"auto":void 0,children:(0,u.jsx)(d.iP,{onTap:()=>{s({event_type:9669,view_type:4,component:13910}),n(!0)},children:(0,u.jsx)(d.xv,{overflow:"noWrap",size:"100",weight:"bold",children:(0,u.jsx)(d.xu,{display:"inlineBlock",rounding:1,paddingX:2,paddingY:2,margin:1,dangerouslySetInlineStyle:{__style:(0,y.ym)(t)},"data-test-id":"inspirational-badge",children:o.label})})})},o.label)))})}),(0,u.jsx)(v.Z,{showModal:!!o,setShowModal:n,inspirationalBadges:e,inspirationalBadgesColor:t})]})}var w=o(149230),A=o(121151),C=o(349700);function j(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class E extends i.PureComponent{constructor(...e){super(...e),j(this,"state",{modalIsOpen:!1}),j(this,"onSubmit",(()=>{const{onBlock:e,onBlockCallback:t,user:o}=this.props,{id:n,first_name:i=""}=null!=o?o:{};null==e||e(n,i,this.props.i18n),this.closeModal(),t&&t()})),j(this,"openModal",(()=>{this.setState({modalIsOpen:!0})})),j(this,"closeModal",(()=>{this.setState({modalIsOpen:!1})}))}render(){const{modalIsOpen:e}=this.state,{i18n:t,user:o}=this.props,{username:n,full_name:i,blocked_by_me:s}=null!=o?o:{};return(0,u.jsx)(d.kC,{alignItems:"stretch",justifyContent:"start",children:!s&&(0,u.jsxs)(d.xu,{children:[(0,u.jsx)(d.iP,{onTap:this.openModal,children:(0,u.jsx)(d.X6,{size:"400",children:t._('Block', 'BlockButton.Heading.Block', 'Blocking an user means you won\'t be able to follow each other or interact with each other\'s Pins')})}),(0,u.jsxs)(A.ZP,{accessibilityModalLabel:"",isOpen:e,onDismiss:this.closeModal,mobileHideCloseIcon:!0,type:"block_button",children:[(0,u.jsx)(d.xu,{paddingX:3,paddingY:5,children:(0,u.jsx)(d.X6,{accessibilityLevel:1,size:"500",children:(0,C.nk)(t._('Block {{ full_name }}?', 'BlockButton.FullName.Block', 'full_name: user full name to block'),{full_name:i})})}),(0,u.jsx)(d.xu,{marginBottom:3,children:(0,u.jsx)(d.xv,{children:(0,C.nk)(t._('If you block {{full_name}} ({{username}}),\n                            you won\u2019t be able to follow each other\n                            or interact with each other\u2019s Pins.', 'BlockButton.Description.Block', 'full_name:user full name to block, username: username to block, Warning about blocking a user'),{full_name:i,username:n})})}),(0,u.jsx)(d.xu,{marginBottom:2,children:(0,u.jsx)(d.zx,{fullWidth:!0,color:"red",text:t._('Block', 'BlockButton.Action.Block', 'Action to block user'),onClick:this.onSubmit})}),(0,u.jsx)(d.zx,{fullWidth:!0,color:"gray",text:t._('Cancel', 'BlockButton.Action.Cancel', 'Action to cancel blocking a user'),onClick:this.closeModal})]})]})})}}function S(e){const t=(0,a.ZP)();return(0,u.jsx)(E,{...e,i18n:t})}var I=o(941646);const T=({onBlock:e,onUnblockUser:t,user:o,userBlocked:n})=>{const s=(0,a.ZP)(),[r,l]=(0,i.useState)(!1),c=()=>l(!1);return(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(I.Z,{id:"icon-ellipsis",children:(0,u.jsx)(d.hU,{accessibilityLabel:s._('Other actions', 'profileHeader.actionBar.overflow', 'Accessibility label for button to open other options modal'),iconColor:"darkGray",icon:"ellipsis",onClick:()=>l(!0),size:"lg"})}),(0,u.jsx)(A.ZP,{accessibilityModalLabel:"",mobileHideCloseIcon:!0,isOpen:r,onDismiss:c,type:"block_button",children:(0,u.jsxs)(d.xu,{paddingX:4,paddingY:8,children:[(0,u.jsx)(d.xv,{children:s._('Profile options', 'profilePage.profileOptions', 'Options heading on Modal on a user profile')}),(0,u.jsx)(d.xu,{marginBottom:8,marginTop:4,children:n?(0,u.jsx)(d.iP,{onTap:()=>{var e;return null==t?void 0:t(null!==(e=null==o?void 0:o.id)&&void 0!==e?e:"")},children:(0,u.jsx)(d.X6,{size:"400",children:s._('Unblock', 'profile.ProfileActionsContainer.UnbluckButton', 'Button to unblock user user\'s profile page')})}):(0,u.jsx)(S,{onBlock:e,onBlockCallback:c,user:o})}),(0,u.jsx)(d.kC,{alignItems:"stretch",justifyContent:"center",children:(0,u.jsx)(d.zx,{color:"gray",onClick:c,size:"lg",text:s._('Close', 'profilePage.profileOptions.Button.closeModal', 'accessible label for close button on Modal on a user profile')})})]})})]})};var z=o(648492),k=o(883561),D=o(966113),R=o(784590),O=o(512176);function L({hasVerifiedIdentity:e,isVerifiedMerchant:t,name:o,showVerifiedBadge:n,inspirationalBadges:i,inspirationalBadgesColor:s}){return(0,u.jsx)(d.X6,{align:"center",overflow:"normal",size:"600",children:(0,u.jsxs)(d.xu,{dangerouslySetInlineStyle:{__style:{WebkitHyphens:"none"}},display:"inlineBlock",children:[o,n&&(0,u.jsx)(d.xu,{"data-test-id":t?"verifiedMerchantBadge":"verifiedPinnerBadge",display:"inlineBlock",marginStart:2,children:(0,u.jsx)(O.Z,{showVerifiedIdentity:e,isVerifiedMerchant:t,size:"xl",inspirationalBadges:i,inspirationalBadgesColor:s})})]})})}var B=o(19121),M=o(237900),F=o(773285);var N=o(276775),Z=o(50286),U=o(867820),G=o(5226),H=o(890087);const V=e=>{const t=(0,M.q)(e).replace(/^www\./,"");return(0,z.Z)(t)},W=({userId:e})=>((0,R.Z)({name:"VerifiedMerchantResource",options:{userId:e}}),null);function $({blockUser:e,handleShareClick:t,unblockUser:o,renderShareMenu:n,user:c}){var v,A,C,j,E,S;const z=(0,a.ZP)(),R=(0,b.Z)(),O=(0,N.TH)(),{checkExperiment:M}=(0,F.F)(),[$,Y]=(0,i.useState)(!1),K="phone"===(0,Z.ZP)(),q=(0,s.useDispatch)(),X=(0,Z.HG)(),Q=(0,i.useRef)(null),J=(0,i.useRef)(null),ee=(0,B.Z)(),te=ee.isAuth&&ee.id,oe=ee.isAuth,{about:ne="",blocked_by_me:ie=!1,country:se="",explicitly_followed_by_me:re,follower_count:le=0,following_count:ae=0,full_name:ce,id:de,image_xlarge_url:ue,impressum_url:_e="",interest_following_count:he=0,is_primary_website_verified:pe,is_verified_merchant:me,username:ge,verified_identity:fe,website_url:xe,is_inspirational_merchant:be}=null!=c?c:{},{inspirationalBadges:ve,inspirationalBadgesColor:ye}=function(e){var t,o;const{checkExperiment:n}=(0,F.F)(),{anyEnabled:i}=n(y.k$),{anyEnabled:r}=n(y.Fp),l=(0,s.useSelector)((t=>t.verifiedMerchants[e])),c=null==l?void 0:l.inspirational_signal,d=(0,y.Bu)({areBadgesEnabled:i,verifiedMerchant:l})?(0,y.hm)(l.inspirational_signal):[];return{inspirationalBadges:(0,y.I)((0,a.ZP)(),d,null==l||null===(t=l.inspirational_signal)||void 0===t?void 0:t.badge_details),inspirationalBadgesColor:r&&(null==c||null===(o=c.inspirational_badge_selection)||void 0===o?void 0:o.badgeColor)||y.QP[0]}}(de),Pe=he?ae-he:ae,we=null==fe?void 0:fe.verified,Ae=te===de,Ce=we||me,{anyEnabled:je}=M(y.k$),Ee=M("mweb_about_drawer").anyEnabled,Se=130-((null==xe?void 0:xe.length)||0)-((null==_e?void 0:_e.length)||0),Ie=()=>{oe||(0,U.NC)("click_profile_url"),R({event_type:101,component:13056,element:12890,view_type:4,view_parameter:Ae?3106:3107,aux_data:{website_link:xe}})},Te=()=>{(0,U.LW)({action:"click",pageLocation:O,item:"main-user-following-count"})},ze=[];if(xe){const e=pe&&!Ce;ze.push((0,u.jsxs)(i.Fragment,{children:[e&&(0,u.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{bottom:1,display:"inline",marginInlineEnd:2}},"data-test-id":"claimed-website-mark",position:"relative",children:(0,u.jsx)(l.Z,{})}),(0,u.jsx)(d.xv,{color:"default",inline:!0,weight:"bold",children:(0,u.jsx)(d.rU,{inline:!0,onClick:Ie,href:(0,x.Z)(xe),target:(0,w.Z)({url:xe})?"blank":void 0,rel:(0,w.Z)({url:xe})?"nofollow":void 0,underline:"hover",children:V(xe)})})]}))}Ee||ze.push((0,u.jsx)(d.xv,{inline:!0,children:`@${ge}`})),ne&&ze.push((0,u.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{display:"inline"}},"data-test-id":"profileAboutText",children:Ee?(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(d.xv,{inline:!0,children:(0,k.ZP)(ne,Se)}),ne.length>Se&&(0,u.jsx)(d.xu,{display:"inlineBlock",children:(0,u.jsx)(d.rU,{accessibilityLabel:z._('Link to user\'s about page', 'profilePage.profileHeader.moreTextAccessibilityLabel', 'Accessibility label to open profile about page'),href:`/${ge}/profile-about/`,onClick:()=>{R({component:14011,event_type:102,view_parameter:Ae?3106:3107,view_type:4})},children:(0,u.jsx)(d.xv,{inline:!0,weight:"bold",children:z._('more', 'profile.profileHeader.moreText', 'Clickable text to link to profile about page')})})})]}):(0,u.jsx)(d.xv,{inline:!0,children:ne})})),(0,H.yv)(se)&&_e&&ze.push((0,u.jsx)(d.rU,{target:"blank",rel:"nofollow",inline:!0,href:_e,underline:"hover",children:(0,u.jsx)(H.$m,{color:"default",size:"200",weight:"bold"})}));const ke=(0,u.jsx)(f.Z,{followerCount:le,isOwnProfile:Ae,type:"followers"}),De=(0,u.jsx)(f.Z,{followingCount:Pe,isOwnProfile:Ae,type:"following"}),Re=!("video"===(null==c||null===(v=c.profile_cover)||void 0===v?void 0:v.source)||"image"===(null==c||null===(A=c.profile_cover)||void 0===A?void 0:A.source)&&!c.profile_cover.images||"empty"===(null==c||null===(C=c.profile_cover)||void 0===C?void 0:C.source))&&(((null==c?void 0:c.profile_cover)||{}).images||{}).originals;return(0,u.jsxs)(d.xu,{alignItems:"center","data-test-id":"profile-header",direction:"column",display:"flex",marginTop:Re?-3:0,children:[(0,u.jsx)(d.iP,{onTap:()=>{(0,U.LW)({action:"click",pageLocation:O,item:"main-user-avatar-image"})},fullWidth:!1,children:Re?(0,u.jsxs)(d.xu,{width:K?375:656,height:K?278:369,"data-test-id":"main-user-avatar-image",children:[(0,u.jsx)(d.zd,{rounding:K?0:8,height:K?211:302,children:(0,u.jsx)(d.Ee,{alt:z._('cover image', 'ProfilePage.CoverImage', 'profile cover image'),naturalHeight:null!==(j=Re.height)&&void 0!==j?j:1,naturalWidth:null!==(E=Re.width)&&void 0!==E?E:1,src:null!==(S=Re.url)&&void 0!==S?S:""})}),(0,u.jsx)(d.xu,{display:"flex",alignItems:"end",justifyContent:"center",position:"relative",children:(0,u.jsx)(d.xu,{marginTop:-12,children:(0,u.jsx)(r.Z,{accessibilityLabel:z._('User Avatar', 'profile.ProfileHeader.Avatar', 'Avatar in user profile page'),name:null!=ce?ce:"",outline:!0,size:"xl",src:null!=ue?ue:""})})})]}):(0,u.jsx)(r.Z,{accessibilityLabel:z._('User Avatar', 'profile.ProfileHeader.Avatar', 'Avatar in user profile page'),name:null!=ce?ce:"",size:"xl",src:null!=ue?ue:""})}),(0,u.jsx)(d.xu,{"data-test-id":"profile-name",marginTop:2,children:(0,u.jsx)(d.iP,{onTap:()=>{(0,U.LW)({action:"click",pageLocation:O,item:"profile-name"})},children:(0,u.jsx)(L,{hasVerifiedIdentity:we,isVerifiedMerchant:me,name:null!=ce?ce:"",showVerifiedBadge:Ce,inspirationalBadges:ve,inspirationalBadgesColor:ye})})}),(0,u.jsxs)(m.Z,{name:"InspirationalBadges",children:[je&&!!be&&(0,u.jsx)(W,{userId:de}),(0,u.jsx)(P,{badges:ve,color:ye})]}),(0,u.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{textAlign:"center"}},marginTop:Ee?1:2,maxWidth:X?400:void 0,"data-test-id":"main-user-description-text",children:(0,u.jsx)(d.iP,{onTap:()=>{(0,U.LW)({action:"click",pageLocation:O,item:"main-user-description-text"})},children:(0,u.jsxs)(d.kC,{direction:"column",gap:{row:0,column:3},children:[Ee&&(0,u.jsx)(p.Z,{color:"subtle",inline:!0,items:[me?(0,u.jsx)(d.xu,{display:"inlineBlock",children:(0,u.jsx)(d.rU,{href:D.Z.settings.HELP_SHOPPING_WITH_PINTEREST,target:"blank",children:(0,u.jsx)(d.xv,{color:"shopping",inline:!0,underline:!0,size:"300",children:z._('Verified Merchant', 'profilePage.profileHeader.verifiedMerchantText', 'Text showing that user is a verified merchant')})})}):null,(0,u.jsx)(d.xv,{color:"subtle",inline:!0,size:"300",children:`@${ge}`},ge)]}),(0,u.jsx)(p.Z,{inline:!0,items:ze})]})})}),(0,u.jsxs)(d.xu,{direction:"row",display:"flex",justifyContent:"center",marginTop:2,children:[(0,u.jsx)(d.xu,{"data-test-id":"profile-followers-link",alignItems:"center",direction:"row",display:"flex",children:(0,u.jsx)(d.iP,{onTap:()=>{(0,U.LW)({action:"click",pageLocation:O,item:"main-user-follower-count"})},children:oe&&le>0?(0,u.jsx)(d.iP,{role:"link",rounding:2,href:`/${ge}/_followers/`,children:ke}):ke})}),(0,u.jsx)(d.kC,{alignItems:"center",justifyContent:"start",children:(0,u.jsx)(h.Z,{})}),(0,u.jsx)(d.xu,{direction:"row",display:"flex","data-test-id":"follower-count",children:oe&&Pe>0?(0,u.jsx)(d.iP,{onTap:Te,role:"link",rounding:2,href:`/${ge}/_following/`,children:De}):(0,u.jsx)(d.iP,{onTap:Te,children:De})})]}),(0,u.jsx)(d.xu,{marginTop:4,width:"100%",children:Ae?(0,u.jsx)(d.kC,{alignItems:"center",justifyContent:"center",children:(0,u.jsx)(I.Z,{id:"share-button",children:(0,u.jsx)(d.zx,{accessibilityLabel:z._('Button for opening share options to share profile with others', 'profileHeader.actionBar.shareButton.accessibilityLabel', 'Accessibility label for button to open share options'),color:"gray",onClick:t,ref:Q,size:"lg",text:z._('Share', 'profileHeader.actionBar.shareButton.text', 'Share button to open share options')})})}):(0,u.jsxs)(d.kC,{alignItems:"center",gap:{row:oe?0:2,column:0},justifyContent:oe?"between":"center",children:[(0,u.jsx)(I.Z,{id:"share-button",children:(0,u.jsx)(d.hU,{iconColor:"darkGray",accessibilityLabel:"share",size:"lg",icon:"share",onClick:t,ref:Q})}),de!==te&&(ie?(0,u.jsx)(d.zx,{onClick:()=>null==o?void 0:o(de),size:"lg",text:z._('Unblock', 'profileHeader.unblockButton', 'Button on a user profile to unblock that user')}):(0,u.jsx)(g.Z,{isSecondaryButton:!0,id:de,size:"lg",onFollow:()=>{q((0,G.ZN)(de))},onUnfollow:()=>{q((0,G.fv)(de))},isFollowed:re,isLegoEnabled:!0,isUserFollowButton:!0,isUserMe:!1,followEventType:45,unfollowEventType:46,viewType:4})),oe&&(X?(0,u.jsx)(d.hU,{accessibilityLabel:z._('Other actions', 'profileHeader.actionBar.overflow', 'Accessibility label for button to open other options modal'),iconColor:"darkGray",icon:"ellipsis",onClick:()=>Y(!0),size:"lg",ref:J}):(0,u.jsx)(T,{onBlock:e,onUnblockUser:o,user:c,userBlocked:ie}))]})}),n&&n(Q.current),$&&!oe&&X&&(0,u.jsx)(_,{anchor:J.current,onDismiss:()=>Y(!1)})]})}function Y(e){const t=(0,Z.HG)(),o=(0,B.Z)();return o&&o.isAuth&&t?(0,u.jsx)(n.Z,{...e}):(0,u.jsx)($,{...e})}},793937:(e,t,o)=>{o.r(t),o.d(t,{default:()=>h});var n=o(667294),i=o(333312),s=o(300267),r=o(694379),l=o(966113),a=o(898781),c=o(19121),d=o(349700),u=o(883119),_=o(785893);function h({user:e,hideFollowers:t}){var o;const h=(0,a.ZP)(),p=(0,n.useRef)(),m=(0,c.Z)(),g=new u.Ry(2);if(-1===(null==e?void 0:e.profile_views))return null;const f=null!==(o=null==e?void 0:e.profile_views)&&void 0!==o?o:0,x=f>=1e7?h._('10m+', 'viewerCount.overTenMillion', 'Shortform number for a count of over 10,000,000'):(0,_.jsx)(r.Z,{value:f||0,shortform:!0,shortformMaximumFractionDigits:1},"pretty_number");return(0,_.jsx)(u.xu,{ref:p,children:(0,_.jsxs)(u.xv,{weight:t?"bold":"normal",children:[(0,d.nk)(h._('{{ count }} {{ label }}', 'viewerCount.templateString', 'Template string for a count of the monthly viewers of a partner profile'),{count:x,label:h._('monthly views', 'viewerCount.monthlyViewsLabel', 'Label for count of monthly views of a partner profile')}),(0,s.Z)({user:e,viewer:m})&&(0,_.jsx)(i.default,{showCaret:!0,anchor:p.current,customWrapper:({children:e})=>(0,_.jsx)(u.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,zIndex:g,children:e}),experienceIds:[502925],flyoutSize:"md",idealDirection:"down",onClickComplete:()=>window.open(l.Z.settings.HELP_UPDATED_REPORTING_METRICS,"_blank"),placementId:19,textAlign:"center"})]})})}},290095:(e,t,o)=>{o.d(t,{T:()=>l,V:()=>a});var n=o(499128),i=o(407043),s=o(343341),r=o(785893);function l(e){const{street:t,extra_street:o,locality:n,region:i,postal_code:s,country:r}=e,l=t||"",a=o||"",c=n||"";return`${l}${a}${(l||a)&&","} ${c}${c&&","} ${i||""} ${s||""} ${r||""}`.trim()}function a(e,t,o){const{logContextEvent:a}=(0,i.v)(),{showToast:c}=(0,s.F9)();return()=>{a({event_type:101,element:12799,view_type:548,view_parameter:e?3106:3107}),navigator.clipboard.writeText(l(t)),c((({hideToast:e})=>(0,r.jsx)(n.ZP,{onHide:e,text:o})))}}},134679:(e,t,o)=>{o.d(t,{D:()=>i,u:()=>n});const n={CREATED:"_created",DECIDER:"decider",FOLLOWERS:"_followers",FOLLOWING:"_following",PINS:"pins",SAVED:"_saved",SHOP:"_shop",STORY_PINS:"story_pins",TOPICS:"topics",TRIED:"tried",VIDEO_PINS:"video_pins"},i={[n.CREATED]:13668,[n.SAVED]:13669,[n.SHOP]:13670,[n.TRIED]:13671}},590908:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(648492),i=o(237900);function s(e){const t=(0,i.q)(e).replace(/^www\./,"");return(0,n.Z)(t)}},300267:(e,t,o)=>{function n({user:e,viewer:t}){return Boolean(t.isAuth&&(null==e?void 0:e.username)===t.username)}o.d(t,{Z:()=>n})},580496:(e,t,o)=>{function n(e){return Boolean(null==e?void 0:e.show_creator_profile)}o.d(t,{Z:()=>n})},794493:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(667294);function i(e,t){let o=null,i=null,s=null;const r=()=>{if(o){const t=o.clientHeight,n=o.clientWidth;i===t&&s===n||(i=t,s=n,e(o)),window.requestAnimationFrame(r)}};(0,n.useEffect)((()=>{var n;return t.current&&(n=t.current,o&&o===n||(o=n,i=n.clientHeight,s=n.clientWidth,e(o),r())),()=>{o=null}}),[t])}},806986:(e,t,o)=>{o.d(t,{Fj:()=>a,JI:()=>c,aG:()=>l});var n=o(667294),i=o(785893);const s=(0,n.createContext)(),r=(0,n.createContext)();function l({children:e}){const[t,o]=(0,n.useState)(!1);return(0,i.jsx)(s.Provider,{value:t,children:(0,i.jsx)(r.Provider,{value:o,children:e})})}function a(){const e=(0,n.useContext)(s);if(void 0===e)throw new Error("useCountState must be used within a ShowBoardlessPinsContextProvider");return e}function c(){const e=(0,n.useContext)(r);if(void 0===e)throw new Error("useCountUpdater must be used within a ShowBoardlessPinsContextProvider");return e}},958754:(e,t,o)=>{o.r(t),o.d(t,{default:()=>d});var n=o(784590),i=o(19121),s=o(883119),r=o(276775),l=o(81636),a=o(301732),c=o(785893);function d(e){const t=(0,r.$B)(),o=(0,n.Z)({name:"UserResource",options:{username:t.params.username}}),d=(0,i.Z)();if((0,l.Q)({view_type:4,view_parameter:51}),!o.isLoaded||!o.data)return(0,c.jsx)(s.$j,{accessibilityLabel:"Page loading...",show:!0});const{data:u}=o;return d.id===u.id?(0,c.jsx)(a.cs,{user:u}):(0,c.jsx)(a.ZP,{user:u})}},814449:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(121151),i=o(966113),s=o(898781),r=o(349700),l=o(883119),a=o(785893);const c=i.Z.settings.HELP_BLOCKING+"?source=block_dialogue";function d({firstName:e,onBlockUser:t,onClearModal:o}){const i=(0,s.ZP)(),d=(0,r.nk)(i._('Block {{ firstName }}?', 'blockUser.modal.header', 'header text asking if we should block the user'),{firstName:e}).join("");return(0,a.jsxs)(n.ZP,{accessibilityModalLabel:d,onDismiss:o,heading:d,footer:(0,a.jsxs)(l.xu,{marginStart:-1,marginEnd:-1,display:"flex",alignItems:"center",justifyContent:"end",children:[(0,a.jsx)(l.xu,{padding:1,children:(0,a.jsx)(l.zx,{fullWidth:!0,size:"md",text:i._('Cancel', 'blockUser.modal.cancel', 'Cancel blocking a user'),onClick:o})}),(0,a.jsx)(l.xu,{padding:1,children:(0,a.jsx)(l.zx,{fullWidth:!0,size:"md",color:"red",text:i._('Block', 'Button to confirm blocking a user', 'Button to confirm blocking a user'),onClick:t})})]}),role:"alertdialog",size:"md",children:[(0,a.jsx)(l.xu,{padding:4,"data-test-id":"block-text",children:(0,a.jsx)(l.xv,{children:(0,r.nk)(i._('Blocking {{ firstName }}, stops messages, follows, and comments. You can still view each other\u2019s profiles.', 'blockUser.modal.description', 'explanation of what blocking another user means'),{firstName:e})})}),(0,a.jsx)(l.xu,{padding:4,children:(0,a.jsx)(l.xv,{color:"default",weight:"bold",children:(0,a.jsx)(l.rU,{target:"blank",href:c,children:i._('Learn more', 'link to help center to learn more about blocking', 'link to help center to learn more about blocking')})})})]})}},678030:(e,t,o)=>{o.d(t,{$B:()=>a,L6:()=>u,S5:()=>d,UI:()=>r,Up:()=>h,jl:()=>l,vW:()=>c,yK:()=>_});var n=o(91214),i=o(934523),s=o(883119);const r=new s.H3([new s.Ry(n.HW),new s.Ry(i.fe)]),l=1e5,a={ALL:"ALL",FEATURED:"FEATURED",CATEGORY:"CATEGORY"},c={SectionCategories:"SectionCategories",SectionEditYourShop:"SectionEditYourShop",SectionFeaturedProductGroups:"SectionFeaturedProductGroups"},d={[c.SectionCategories]:a.CATEGORY,[c.SectionFeaturedProductGroups]:a.FEATURED,[c.SectionEditYourShop]:a.ALL},u={[c.SectionCategories]:14126,[c.SectionFeaturedProductGroups]:14127},_={FEATURED:"featured_product_groups",CATEGORY:"featured_categories_product_groups"},h="/product-catalogs"},698726:(e,t,o)=>{o.d(t,{Z:()=>b});var n=o(667294),i=o(150361),s=o.n(i),r=o(121151),l=o(6637),a=o(499128),c=o(898781),d=o(91214),u=o(934523),_=o(349700),h=o(407043),p=o(343341),m=o(645015),g=o(883119),f=o(785893);const x=new g.H3([new g.Ry(d.HW),new g.Ry(u.fe)]);function b({countries:e,feedProfiles:t,onDismiss:o,onSubmit:i,onUndo:d,settings:u,userId:b}){const{logContextEvent:v}=(0,h.v)(),y=(0,c.ZP)(),P=y._('Manage shop visibility', 'MerchantStorefront.ManageShopVisibilityModal.heading', 'Modal title'),w=y._('People on Pinterest in the selected regions/languages below can see your shop tab. These regions and languages are based on your active catalog feeds. To hide your shop in any region/language, deselect it and save your changes. ', 'MerchantStorefront.ManageShopVisibilityModal.subHeading', 'Modal subtitle'),A=y._('Cancel', 'MerchantStorefront.ManageShopVisibilityModal.cancel', 'Confirmation option'),{showOneToast:C}=(0,p.F9)(),[j,E]=(0,n.useState)(s()(u)),[S,I]=(0,n.useState)(!1),T=[...t].sort(((t,o)=>{const n=(0,m.LT)(e,(0,m.u3)(t)),i=(0,m.LT)(e,(0,m.u3)(o));return n.localeCompare(i)})),z=t.map(m.u3),k=(0,m.Q1)(u,t),D=(0,m.Q1)(j,t),R=D.map((t=>(0,m.LT)(e,t)));R.sort();const O=k.length!==D.length||D.reduce(((e,t)=>e||!k.includes(t)),!1);(0,n.useEffect)((()=>{v({event_type:9858,component:13999})}),[v]);const L=(0,_.Wc)(y.ngettext('Hide shop in {{count}} region/language?', 'Hide shop in {{count}} regions/languages?', D.length, 'MerchantStorefront.ManageShopVisibilityModal.confirmHeading', 'Header to confirm hiding'),{count:D.length.toString()}),B=1===D.length?(0,_.Wc)(y._('Hide shop in {{country}}?', 'MerchantStorefront.ManageShopVisibilityModal.confirmHeadingCountry', 'Header to confirm hiding'),{country:(0,m.LT)(e,D[0])}):"",M=D.length>1?L:B,F=()=>{o(),v({event_type:9860,component:13999})},N=()=>{o(),l.Z.create("ApiResource",{url:`/v3/business/users/${b}/storefront/settings/`,data:{settings:JSON.stringify(j)}}).callUpdate().then((()=>{i(),v({event_type:9859,component:13999}),C((({hideToast:e})=>(0,f.jsx)("div",{className:"ShopVisibleToast",children:(0,f.jsx)(a.ZP,{duration:m.QE,onHide:e,text:(0,f.jsx)(n.Fragment,{children:(0,f.jsxs)(g.xv,{children:[0===D.length&&y._('Shop visible in all regions/languages', 'MerchantStorefront.ManageShopVisibilityModal.visibleEverywhere', 'toast text'),D.length>0&&D.length<z.length&&(0,_.Wc)(y.ngettext('Shop hidden in {{count}} region/language', 'Shop hidden in {{count}} regions/languages', D.length, 'MerchantStorefront.ManageShopVisibilityModal.hiddenSomewhere', 'toast text'),{count:D.length.toString()}),D.length===z.length&&y._('Shop hidden in all regions/languages', 'MerchantStorefront.ManageShopVisibilityModal.hiddenEverywhere', 'toast text')]})}),button:(0,f.jsx)(g.zx,{text:y._('Undo', 'MerchantStorefront.ManageShopVisibilityModal.undoToast', 'Undo button in toast'),size:"lg",onClick:()=>{d(),e()}},"undo-button")})})))}))},Z=D.length>1?(0,_.Wc)(y._('{{item1}} and {{item2}}', 'MerchantStorefront.ManageShopVisibilityModal.andItems', 'And joining two geographic locations'),{item1:R.slice(0,-1).join(", "),item2:R[R.length-1]}):R.join();return(0,f.jsx)(g.mh,{zIndex:x,children:S?(0,f.jsx)(r.ZP,{accessibilityModalLabel:M,align:"center",heading:M,onDismiss:F,footer:(0,f.jsxs)(g.kC,{gap:{row:2,column:0},alignItems:"center",justifyContent:"center",children:[(0,f.jsx)(g.zx,{color:"gray",text:A,onClick:()=>I(!1)}),(0,f.jsx)(g.zx,{color:"red",text:y._('Hide shop', 'MerchantStorefront.ManageShopVisibilityModal.hideShop', 'Confirmation option'),onClick:N})]}),size:"sm",children:(0,f.jsx)(g.xu,{paddingX:8,children:(0,f.jsx)(g.xv,{size:"300",align:"center",children:(0,_.Wc)(y.ngettext('People in {{region}} won\'t see your shop tab. Hiding your shop in any region/language won\'t delete or edit your product feeds in Catalogs.', 'People in the following regions won\'t see your shop tab: {{regions}}. Hiding your shop in any region/language won\'t delete or edit your product feeds in Catalogs.', D.length, 'MerchantStorefront.ManageShopVisibilityModal.hiddenRegions.bodyText', 'Message describing what regions the user is about to hide their store from'),{region:Z,regions:Z})})})}):(0,f.jsxs)(r.ZP,{accessibilityModalLabel:P,align:"start",heading:P,onDismiss:F,footer:(0,f.jsxs)(g.kC,{gap:{row:2,column:0},alignItems:"center",justifyContent:"end",children:[(0,f.jsx)(g.zx,{color:"gray",text:A,onClick:F}),(0,f.jsx)(g.zx,{color:"red",text:y._('Save', 'MerchantStorefront.ManageShopVisibilityModal.save', 'Confirmation option'),onClick:()=>{D.length>0?I(!0):N()},disabled:!O})]}),size:"sm",children:[(0,f.jsx)(g.xu,{paddingX:8,marginBottom:8,children:(0,f.jsx)(g.xv,{size:"300",children:w})}),(0,f.jsx)(g.xu,{paddingX:8,children:T.map((t=>(0,f.jsx)(g.xu,{marginBottom:8,children:(0,f.jsx)(g.XZ,{checked:(0,m.c8)(j[(0,m.u3)(t)]),id:`country_language_${t.id||""}`,label:(0,m.LT)(e,(0,m.u3)(t)),name:"country_language",onChange:({checked:e})=>E({...j,[(0,m.u3)(t)]:{...j[(0,m.u3)(t)]||{},shop_visible:e}})})},t.id)))})]})})}},742656:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(116303),i=o(883119),s=o(785893);function r({avatarUrl:e,contentsRight:t,merchantName:o,text:r,username:l,accessibilityLevel:a}){return(0,s.jsxs)(i.kC,{alignItems:"stretch",height:80,justifyContent:"between",children:[(0,s.jsx)(i.xu,{column:2,"data-test-id":"minimal-partner-header"}),(0,s.jsxs)(i.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,s.jsx)(i.xu,{marginEnd:2,children:(0,s.jsx)(i.iP,{role:"link",rounding:"circle",href:`/${l}`,children:(0,s.jsx)(n.Z,{name:o,size:"md",src:e})})}),(0,s.jsx)(i.rU,{underline:"none",href:`/${l}`,children:(0,s.jsx)(i.X6,{size:"500",accessibilityLevel:a,children:r})})]}),(0,s.jsx)(i.xu,{column:2,display:"flex",alignItems:"center",justifyContent:"end",children:t})]})}},180603:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(667294),i=o(723820),s=o(81667),r=o(883119),l=o(785893);const a={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"}},c=["236x","368x368"];function d({onClick:e,productGroup:t,url:o}){const[d,u]=(0,n.useState)(!1);return(0,l.jsx)(r.xu,{position:"relative",onMouseEnter:()=>{u(!0)},onMouseLeave:()=>{u(!1)},children:(0,l.jsxs)(r.iP,{role:"link",onTap:e,href:o,children:[(0,l.jsx)(r.xu,{position:"relative",children:(0,l.jsxs)(r.zd,{width:s.Fl,height:s.CT,rounding:8,children:[(0,l.jsx)(i.Z,{productGroup:t,preferredPreviewPinSizes:c,coverFit:!0}),(0,l.jsx)(r.xu,{"data-test-id":"product-group-category-overlay",position:"absolute",width:s.Fl,height:s.CT,top:!0,dangerouslySetInlineStyle:{__style:d?a.hoverOverlay:a.bubbleOverlay}})]})}),(0,l.jsx)(r.xu,{display:"flex",height:s.CT,width:s.Fl,position:"absolute",top:!0,padding:3,alignItems:"center",justifyContent:"center",children:(0,l.jsx)(r.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:(0,l.jsx)(r.xv,{align:"center",color:"light",weight:"bold",lineClamp:2,children:t.name})})})]})})}},723820:(e,t,o)=>{o.d(t,{Z:()=>d,m:()=>c});var n=o(667294),i=o(645015),s=o(883119),r=o(407043),l=o(785893);const a={STANDARD:{WIDTH:488,HEIGHT:488},CAROUSEL:{HEIGHT:362,WIDTH:362}},c=e=>e?a.CAROUSEL:a.STANDARD;function d({productGroup:e,preferredPreviewPinSizes:t=[],coverFit:o=!1,isCarouselExperimentEnabled:a=!1}){var d,u,_;const{logContextEvent:h}=(0,r.v)(),p=e.cover_images&&e.cover_images[0]&&(0,i.cB)(e.cover_images[0]),{WIDTH:m,HEIGHT:g}=c(a),f=e.preview_pins&&e.preview_pins[0]&&e.preview_pins[0].images;let x;const[b,v]=(0,n.useState)(!p);f&&b&&(x=t.concat("orig").map((e=>f[e])).find((e=>!!e)));const y=b?null===(d=x)||void 0===d?void 0:d.height:g,P=b?null===(u=x)||void 0===u?void 0:u.width:m,w=b?null===(_=x)||void 0===_?void 0:_.url:p;return y&&P&&w?(0,l.jsx)(s.Ee,{alt:e.name,naturalHeight:y,naturalWidth:P,src:w,fit:o?"cover":"contain",onError:()=>{b||(h({event_type:10048,component:14004,aux_data:{product_group_cover_image_url:p}}),v(!0))}}):null}},140555:(e,t,o)=>{o.d(t,{Z:()=>C});var n=o(667294),i=o(121151),s=o(6637),r=o(499128),l=o(487392),a=o(898781),c=o(784590),d=o(19121),u=o(91214),_=o(934523),h=o(349700),p=o(407043),m=o(741982),g=o(343341),f=o(645015),x=o(883119),b=o(400264),v=o(785893);const y=new x.H3([new x.Ry(u.HW),new x.Ry(_.fe)]),P=316;function w({onFileUpload:e}){const t=(0,a.ZP)(),[o,i]=(0,n.useState)(!1),s=(0,n.useRef)(null),r=t._('Upload from computer', 'ProductGroupDetailsModal.uploadFromComputer', 'Dropdown label to upload image file from your computer');return(0,v.jsxs)(x.kC,{justifyContent:"center",children:[(0,v.jsx)(x.hU,{accessibilityExpanded:o,accessibilityHaspopup:!0,accessibilityLabel:t._('Upload product group cover image menu', 'ProductGroupDetailsModal.productGroupCoverImageA11y', 'Accessibility text for upload menu'),bgColor:"lightGray",icon:"edit",iconColor:"darkGray",onClick:()=>i((e=>!e)),ref:s,size:"lg"}),o&&(0,v.jsx)(x.Lt,{anchor:s.current,id:"product-group-image-dropdown",onDismiss:()=>i(!1),children:(0,v.jsx)(x.Lt.Item,{onSelect:()=>{i(!1),e()},option:{value:r,label:r}})})]})}function A({image:e,onFileUpload:t,onError:o}){const n=(0,a.ZP)(),i=n._('Product Group Cover Image', 'ProductGroupDetailsModal.productGroupCoverImageAlt', 'Alt text for product group cover image');return(0,v.jsxs)(x.xu,{position:"relative",children:[(0,v.jsx)(x.xu,{height:P,width:P,rounding:5,overflow:"hidden",children:(0,v.jsx)(x.Ee,{alt:i,color:"#EFEFEF",fit:"cover",naturalHeight:1,naturalWidth:1,src:e,onError:o})}),(0,v.jsx)(x.xu,{position:"absolute",top:!0,right:!0,padding:4,children:(0,v.jsx)(w,{onFileUpload:t})})]})}function C({onDismiss:e,onSubmit:t,productGroup:o}){var u,_,w;const{logContextEvent:C}=(0,p.v)(),j=(0,a.ZP)(),E=j._('Edit product group display', 'ProductGroupDetailsModal.heading', 'Modal title'),S=`/v3/business/users/${(0,d.Z)().id||""}/storefront/product_group_image/`,[I,T]=(0,n.useState)(""),[z,k]=(0,n.useState)(""),[D,R]=(0,n.useState)(),[O,L]=(0,n.useState)(),[B,M]=(0,n.useState)(!1),[F,N]=(0,n.useState)(0),[Z]=(0,n.useState)((new Date).getTime()),U=o.group_type!==f.yh,{merchantId:G,advertiserId:H}=(0,l.Z)(),{showOneToast:V}=(0,g.F9)(),{updateStorefrontLastUpdated:W}=(0,m.S)(),$=(0,b.Ib)({advertiserId:H,merchantId:G,productGroupsIds:[o.id],uniq:Z},!1,!0),Y=(0,c.Z)({name:"ApiResource",options:{url:S,data:{product_group_ids:[o.id]},uniq:Z},noCache:!0}),K=(0,n.useRef)(),q=Number(o.id),X=null===(u=$.data)||void 0===u?void 0:u.find((e=>e.id===q)),Q=$.isLoaded&&Y.isLoaded,J=X&&(I!==X.name||z!==(X.description||"")||!!D),ee=X&&I!==X.name,te=X&&z!==(X.description||""),oe=Q?(0,f.cB)(null===(_=Y.data)||void 0===_||null===(w=_[o.id])||void 0===w?void 0:w[0]):null,ne=o.preview_pins[0],ie=null==ne?void 0:ne.image_signature,se=(0,f.cB)(null==ne?void 0:ne.images),re=O||[oe,se].filter((e=>!!e))[F];(0,n.useEffect)((()=>{X&&(T(X.name||""),k(X.description||""))}),[X]),(0,n.useEffect)((()=>{C({event_type:9854,component:13998})}),[C]);const le=()=>{e(),C({event_type:9856,component:13998})},ae=j._('Save', 'ProductGroupDetailsModal.SaveBtn', 'Button to save product group details changes'),ce=j._('Cancel', 'ProductGroupDetailsModal.CancelBtn', 'Button to cancel product group details changes');return(0,v.jsx)(x.mh,{zIndex:y,children:(0,v.jsx)(i.ZP,{accessibilityModalLabel:E,align:"center",heading:E,onDismiss:le,footer:Q?(0,v.jsxs)(x.kC,{alignItems:"start",children:[(0,v.jsx)(x.xu,{width:"50%",children:(0,v.jsx)(x.xv,{size:"300",children:(0,h.nk)(j._('To edit items in this product group, visit {{catalogsLink}}', 'ProductGroupDetailsModal.coverImage', 'heading for cover image form'),{catalogsLink:(0,v.jsx)(x.rU,{href:"/product-catalogs",inline:!0,target:"blank",underline:"hover",children:(0,v.jsx)(x.xv,{weight:"bold",inline:!0,children:j._('Pinterest Catalogs', 'ProductGroupDetailsModal.catalogsLink', 'link for catalogs')})},"product-catalogs-link")})})}),(0,v.jsx)(x.xu,{width:"50%",children:(0,v.jsxs)(x.kC,{gap:{row:2,column:0},alignItems:"center",justifyContent:"end",children:[(0,v.jsx)(x.zx,{color:"gray",text:ce,onClick:le}),(0,v.jsx)(x.zx,{color:"red",text:ae,onClick:()=>{const n=oe?D:D||ie,i=[],l=[];n&&(i.push(s.Z.create("ApiResource",{url:S,data:{image_signatures:[n],product_group_id:o.id}}).callUpdate()),l.push("cover_image")),(ee||te)&&(i.push(s.Z.create("ProductGroupsResource",{name:I,description:z,productGroupId:Number(o.id),filters:null==X?void 0:X.filter_v2}).callUpdate()),ee&&l.push("name"),te&&l.push("description")),C({event_type:9857,component:13998,aux_data:{product_group_modal_changes:l.join(",")}}),e(),Promise.all(i).then((()=>{t(),W((new Date).getTime()),V((({hideToast:e})=>(0,v.jsx)("div",{className:"ProductGroupSavedToast",children:(0,v.jsx)(r.ZP,{duration:f.QE,onHide:e,text:j._('Product group saved', 'MerchantStorefront.ProductGroupDetailsModal.pgSaved', 'toast text')})})))}))},disabled:!J})]})})]},"product-group-details-footer"):(0,v.jsx)(n.Fragment,{}),size:U?"md":"sm",children:(0,v.jsx)(x.xu,{paddingX:8,marginBottom:2,children:Q?(0,v.jsxs)(x.kC,{justifyContent:"center",children:[(0,v.jsxs)(x.xu,{width:320,children:[(0,v.jsx)(x.xu,{marginBottom:4,children:(0,v.jsx)(x.xv,{size:"300",weight:"bold",children:j._('Cover image', 'ProductGroupDetailsModal.coverImage', 'heading for cover image form')})}),(0,v.jsx)("input",{accept:"image/*",id:"product-group-image-upload",onChange:e=>{if(e.target instanceof HTMLInputElement){const t=e.target.files[0],o=new FileReader;t&&o.readAsDataURL(t),o.addEventListener("load",(()=>{M(!0),C({event_type:9855,component:13998}),s.Z.create("ApiResource",{url:S,data:{image_base64:o.result}}).callCreate().then((e=>{var t,n;R(null===(t=e.resource_response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.image_signature),M(!1),"string"==typeof o.result&&L(o.result)}))}),!1)}},ref:K,style:{display:"none"},type:"file"}),B&&(0,v.jsx)(x.xu,{height:P,width:P,rounding:5,color:"secondary",justifyContent:"center",direction:"column",display:"flex",children:(0,v.jsx)(x.$j,{accessibilityLabel:j._('Uploading product group cover image', 'ProductGroupDetailsModal.uploadingCoverImage', 'spinner accessibility label'),show:!0})}),!B&&re&&(0,v.jsx)(A,{image:re,onFileUpload:()=>{var e;null===(e=K.current)||void 0===e||e.click()},onError:()=>N(F+1)})]}),U&&(0,v.jsxs)(x.xu,{width:320,marginStart:4,children:[(0,v.jsx)(x.xu,{marginBottom:4,children:(0,v.jsx)(x.xv,{size:"300",weight:"bold",children:j._('Title', 'ProductGroupDetailsModal.name', 'heading for product group name input')})}),(0,v.jsx)(x.nv,{id:"name",onChange:({value:e})=>T(e.slice(0,255)),size:"lg",type:"text",value:I}),(0,v.jsxs)(x.xu,{marginTop:2,marginBottom:4,height:30,children:[I&&(0,v.jsx)(x.xv,{size:"100",color:"subtle",children:j._('Changing your product group\'s name in your shop will also change its name in Catalogs', 'ProductGroupDetailsModal.pgName', 'subheading for name form')}),!I&&(0,v.jsx)(x.xv,{size:"100",color:"error",children:j._('This field can\'t be blank!', 'ProductGroupDetailsModal.nameEmptyError', 'error message for an empty name input')})]}),(0,v.jsx)(x.xu,{marginBottom:4,children:(0,v.jsx)(x.xv,{size:"300",weight:"bold",children:j._('Description', 'ProductGroupDetailsModal.description', 'heading for description form')})}),(0,v.jsx)(x.xu,{height:178,children:(0,v.jsx)(x.Kx,{id:"description",onChange:({value:e})=>k(e.slice(0,155)),placeholder:j._('Tell shoppers on Pinterest more about this product group', 'ProductGroupDetailsModal.descriptionPlaceholder', 'textarea placeholder for product group description'),value:z,rows:7})})]})]}):(0,v.jsx)(x.$j,{accessibilityLabel:j._('Loading product group details', 'ProductGroupDetailsModal.loadingSpinner', 'spinner accessibility label'),show:!0})})})})}},27038:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(667294),i=o(140555),s=o(898781),r=o(773285),l=o(723820),a=o(883119),c=o(785893);function d({onClick:e,productGroup:t,showControls:o,url:d}){const u=(0,s.ZP)(),{checkExperiment:_}=(0,r.F)(),h=u._('Edit product group display', 'ProductGroupV2.editTooltip', 'Tooltip text for edit product group button'),[p,m]=(u._('Remove product group from shop', 'ProductGroupV2.removeTooltip', 'Tooltip text for remove product group button'),(0,n.useState)(!1)),[g,f]=(0,n.useState)(!1),x=_("merchant_storefront_spotlight_carousel").anyEnabled,{WIDTH:b,HEIGHT:v}=(0,l.m)(x),y=b-64;return(0,c.jsxs)(a.xu,{position:"relative",onMouseEnter:()=>{f(!0)},onMouseLeave:()=>{f(!1)},children:[(0,c.jsxs)(a.xu,{position:"relative",children:[(0,c.jsxs)(a.zd,{width:b,height:v,rounding:8,children:[(0,c.jsx)(l.Z,{productGroup:t,isCarouselExperimentEnabled:x}),(0,c.jsx)(a.xu,{position:"absolute",width:b,height:v,top:!0,dangerouslySetInlineStyle:{__style:{background:"linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.4) 100%)"}}})]}),(0,c.jsx)(a.xu,{position:"absolute",color:"selected",opacity:g?.5:0,width:b,height:v,rounding:8,top:!0})]}),o&&g&&(0,c.jsxs)(a.xu,{position:"absolute",top:!0,right:!0,padding:8,display:"flex",children:[(0,c.jsx)(a.xu,{marginEnd:0,children:(0,c.jsx)(a.u,{text:h,idealDirection:"down",children:(0,c.jsx)(a.hU,{accessibilityLabel:h,bgColor:"lightGray",icon:"edit",iconColor:"darkGray",onClick:()=>m(!0),size:"xl"})})}),false]}),(0,c.jsxs)(a.xu,{position:"absolute",bottom:!0,left:!0,padding:8,children:[(0,c.jsx)(a.xu,{marginBottom:5,maxWidth:y,children:(0,c.jsx)(a.X6,{size:"600",color:"inverse",lineClamp:2,children:t.name})}),g&&(0,c.jsx)(a.xu,{marginBottom:5,maxWidth:y,children:(0,c.jsx)(a.xv,{size:"300",color:"inverse",children:t.description})}),(0,c.jsx)(a.zx,{accessibilityLabel:u._('Shop button', 'ProductGroupV2.shopButton.accessibilityLabel', 'Shop button for product group rep v2'),size:"lg",text:u._('Shop', 'ProductGroupV2.shopButton.text', 'Shop button text for product group rep v2'),color:"white",role:"link",href:d,onClick:e})]}),o&&p&&(0,c.jsx)(i.Z,{onDismiss:()=>m(!1),onSubmit:()=>m(!1),productGroup:t})]})}},600224:(e,t,o)=>{o.d(t,{Z:()=>p});var n=o(667294),i=o(698726),s=o(898781),r=o(349700),l=o(407043),a=o(741982),c=o(645015),d=o(384606),u=o(883119),_=o(785893);const h=({language:e,country:t,hidden:o,productCount:i,onClick:l,selected:a})=>{const d=(0,s.ZP)(),[h,p]=(0,n.useState)(!1);return(0,_.jsx)(u.iP,{onTap:l,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:(0,_.jsxs)(u.xu,{alignItems:"center",color:h?"secondary":void 0,display:"flex",justifyContent:"between",padding:2,position:"relative",rounding:2,children:[(0,_.jsxs)(u.xu,{children:[(0,_.jsx)(u.xv,{weight:a?"bold":"normal",overflow:"noWrap",children:(0,c.z1)(t,e)}),(0,_.jsx)(u.xv,{size:"200",color:"subtle",children:(0,r.nk)(d.ngettext('{{productCount}} product', '{{productCount}} products', i, 'merchantStorefront.storefrontLocaleSelector.feedProfileOption.productCount', 'Shows how many products are in a merchant product feed'),{productCount:i})})]}),o&&(0,_.jsx)(u.xu,{color:"tertiary",rounding:1,dangerouslySetInlineStyle:{__style:{padding:"2px"}},marginStart:2,marginEnd:8,position:"absolute",right:!0,children:(0,_.jsx)(u.xv,{color:"inverse",size:"100",weight:"bold",overflow:"noWrap",align:"forceRight",children:d._('Shop hidden', 'merchantStorefront.storefrontLocaleSelector.shopHidden', 'Shop hidden badge')})}),a&&(0,_.jsx)(u.xu,{children:(0,_.jsx)(u.JO,{accessibilityLabel:d._('A checkmark indicating the currently selected locale on your merchant storefront', 'merchantStorefront.storefrontLocaleSelector.feedProfileOption.selectedIcon.accessibilityLabel', 'Accessibility label for the icon indicating the selected locale in a list'),icon:"check",color:"default"})})]})})},p=()=>{const{logContextEvent:e}=(0,l.v)(),t=(0,s.ZP)(),{merchantStorefrontSettings:{currentViewingLocale:{country:o,language:p}},updateLocaleStorefrontSetting:m,updateStorefrontLastUpdated:g}=(0,a.S)();(0,d.tt)();const[f,x]=(0,n.useState)(!1),[b,v]=(0,n.useState)(!1),y=(0,n.useRef)(null),{countries:P,feedProfiles:w,isLoaded:A,settings:C,userId:j,refresh:E}=(0,d.LO)(),[S,I]=(0,n.useState)(!1),T=()=>{I(!0),x(!1)},z=e=>(0,c.z1)(P[e.country||""],e.locale),k=w.reduce(((e,t)=>{const o=e.findIndex((e=>z(e)===z(t)));return-1===o?e.push(t):(0,c.gE)(e[o])<(0,c.gE)(t)&&(e[o]=t),e}),[]);(0,n.useEffect)((()=>{f&&e({event_type:9853,component:13997})}),[e,f]);const D=[...k].sort(((e,t)=>z(e).localeCompare(z(t))));if(!(A&&o&&p&&k&&(0,c.Ee)(k,o,p)))return null;const R=D.reduce(((e,t)=>e||!(0,c.c8)(C[(0,c.u3)(t)])),!1);return(0,_.jsxs)(u.xu,{color:b?"secondary":void 0,"data-test-id":"storefrontLocaleSelector",padding:4,rounding:6,ref:y,children:[(0,_.jsx)(u.iP,{accessibilityLabel:t._('Button to show a dropdown of locales you can select to show on your merchant storefront', 'merchantStorefront.storefrontLocaleSelector.button.accessibilityLabel', 'The accessibility label for the button the triggers a dropdown of selectable locales to view your storefront in'),onTap:()=>x(!f),onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),children:(0,_.jsx)(u.xv,{color:"default",overflow:"noWrap",children:(0,_.jsxs)(u.kC,{alignItems:"end",justifyContent:"start",children:[(0,r.nk)(t._('Viewing shop as: {{viewingStorefrontLocaleAsLabel}}', 'merchantStorefront.storefrontLocaleSelector.button.header', 'Header text telling the merchant in which country/language they are viewing the storefront currently'),{viewingStorefrontLocaleAsLabel:(0,_.jsx)(u.xu,{display:"inlineBlock",marginStart:1,children:(0,_.jsx)(u.xv,{weight:"bold",children:(0,c.z1)(P[o],p)})},"viewing-storefront-locale-as-label")}),(0,_.jsx)(u.xu,{marginStart:1,children:(0,_.jsx)(u.JO,{accessibilityLabel:t._('A downward arrow icon indicating this button will open a dropdown', 'merchantStorefront.storefrontLocaleSelector.button.icon.accessibiltyLabel', 'The accessibility label for downward arrow icon'),icon:"arrow-down",color:"default"})})]})})}),f&&(0,_.jsx)(u.mh,{zIndex:new u.Ry(1),children:(0,_.jsx)(u.J2,{anchor:y.current,idealDirection:"down",onDismiss:()=>x(!1),size:R?"lg":"md",positionRelativeToAnchor:!1,children:(0,_.jsxs)(u.xu,{display:"flex",direction:"column",alignItems:"center",paddingY:2,paddingX:2,children:[(0,_.jsx)(u.xu,{padding:2,children:(0,_.jsx)(u.xv,{size:"100",children:(0,r.nk)(t._('Preview your shop in different regions / languages based on your active product feeds in Catalogs. {{manageShopVisibilityLink}}', 'merchantStorefront.storefrontLocaleSelector.popover.header', 'Popover header text describing what the storefront locale selector does'),{manageShopVisibilityLink:(0,_.jsx)(u.xv,{weight:"bold",size:"100",inline:!0,children:(0,_.jsx)(u.xu,{display:"inlineBlock",children:(0,_.jsx)(u.iP,{accessibilityLabel:t._('Button to open a modal to adjust which locales to show your merchant storefront in', 'merchantStorefront.storefrontLocaleSelector.managedVisibility.accessibilityLabel', 'The accessibility label for the button to open a modal to adjust which locales to show your merchant storefront in'),onTap:T,children:t._('Manage shop visibility', 'merchantStorefront.storefrontLocaleSelector.managedVisibility.text', 'Link in popover to open settings for managing the visibility of this storefront in different locales')})})},"manage-shop-visibility-link")})})}),D.map((e=>{const{id:t,country:n,locale:i}=e,s=(0,c.Md)(i);return n&&i?(0,_.jsx)(h,{country:P[n],hidden:!(0,c.c8)(C[(0,c.u3)(e)]),language:s,productCount:(0,c.gE)(e),onClick:()=>{m(n,s,null!=t?t:""),x(!1)},selected:n===o&&s===p},t):null}))]})})}),S&&(0,_.jsx)(i.Z,{countries:P,feedProfiles:k,onDismiss:()=>I(!1),onSubmit:()=>{E(),g((new Date).getTime())},onUndo:T,settings:C,userId:j})]})}},81667:(e,t,o)=>{o.d(t,{CT:()=>s,Fl:()=>i,q3:()=>n,sy:()=>r});const n=16,i=236,s=118,r={sectionStories:["storefront_category_bubbles","storefront_category_product_groups"],exploreArticle:"explorearticle",footers:["storefront_category_footer_button","storefront_footer_button","storefront_product_group_footer_button","storefront_similar_items_footer_button"],header:"storefront_header",pin:"pin",productGroup:"productgroup",story:"story"}},384606:(e,t,o)=>{o.d(t,{LO:()=>x,N0:()=>y,t8:()=>P,tt:()=>w});var n=o(667294),i=o(300267),s=o(985310),r=o(487392),l=o(717615),a=o(86551),c=o(784590),d=o(19121),u=o(957161),_=o(231947),h=o(497020),p=o(773285),m=o(741982),g=o(645015);function f(e){const t=(0,c.Z)({name:"ApiResource",options:{url:`/v3/catalogs/${e}/feed_profiles/`,field_sets:["feedprofile.id","feedprofile.display_name","feedprofile.country","feedprofile.locale","feedprofile.all_products_pg_item_count"]},dangerouslyDisableFetch:!e});return{feedProfilesResource:t,feedProfiles:(0,h.d9)(t.data||[]).filter((e=>e.country&&e.locale))}}function x(){const{merchantId:e,ownerUserId:t}=(0,r.Z)(),{countriesResource:o,countries:n}=function(){const e=(0,c.Z)({name:"CountriesResource"});return{countriesResource:e,countries:(e.data||[]).reduce(((e,t)=>({...e,[t.key]:t.name.split(" (")[0]||""})),{})}}(),{feedProfilesResource:i,feedProfiles:s}=f(e),{storefrontSettingsResource:l,settings:a}=function(e){const t=(0,c.Z)({name:"ApiResource",options:{url:`/v3/business/users/${e}/storefront/settings/`},dangerouslyDisableFetch:!e});return{storefrontSettingsResource:t,settings:t.data||{}}}(t);return{countries:n,feedProfiles:s,isLoaded:o.isLoaded&&i.isLoaded&&l.isLoaded,refresh:()=>{i.refresh(),l.refresh()},settings:a,userId:t}}function b(){const{merchantId:e}=(0,r.Z)(),{feedProfilesResource:t,feedProfiles:o}=f(e),{userSettingsResource:n,userSettings:i}=function(){const e=(0,c.Z)({name:"UserSettingsResource",options:{field_set_key:"profile"}});return{userSettingsResource:e,userSettings:e.data||{}}}();return{feedProfiles:o,isLoaded:t.isLoaded&&n.isLoaded,userSettings:i}}function v(){const{data:e}=(0,a.Z)(),t=(0,p.F)().checkExperiment("web_merchant_success_storefront_controls").anyEnabled,o=(0,p.F)().checkExperiment("web_merchant_storefront_controls_international").anyEnabled,n=t||o,s=(0,d.Z)(),r=(0,i.Z)({user:e,viewer:s}),c=(0,l.Z)();return{isMerchantStorefrontControlsEnabled:n,isORBACProfileManager:(0,_.q6)(s,null==e?void 0:e.id,c),ownProfile:r}}function y(){const{isMerchantStorefrontControlsEnabled:e,ownProfile:t}=v();return e&&t}function P(){const{isMerchantStorefrontControlsEnabled:e,ownProfile:t,isORBACProfileManager:o}=v();return e&&(t||o)}function w(){const{feedProfiles:e,userSettings:t,isLoaded:o}=b(),{merchantStorefrontSettings:{currentViewingLocale:{country:i,language:r}},updateLocaleStorefrontSetting:l}=(0,m.S)();(0,n.useEffect)((()=>{if(o&&(!i||!r||!(0,g.Ee)(e,i,r))){const[o,i]=((0,u.qn)(s.Z.STOREFRONT_LOCALE_STORAGE_KEY)||"").split("/"),{country:r,locale:a}=t,c=[...e].sort(((e,t)=>(0,g.gE)(t)-(0,g.gE)(e)))[0],d=(0,g.Ee)(e,o,i),_=(0,g.Ee)(e,r,(0,g.Md)(a)),h=d||_||c;var n;if(h)l(h.country||"",(0,g.Md)(h.locale),null!==(n=h.id)&&void 0!==n?n:"")}}))}},499385:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(81636);const i={BrandCatalogFeed:{tapBrandCatalogPin:function({commerceData:e},t){t({event_type:102,view_type:1,view_parameter:3244,component:0,aux_data:{...e}})}},ProductFeed:{tapProductPin:function({commerceData:e},t){t({event_type:102,component:13700,view_type:4,view_parameter:3512,aux_data:{...e}})}},StorefrontFeed:{tapProductGroup:function({productGroupId:e},t){t({event_type:102,view_type:4,view_parameter:3512,component:13698,object_id_str:e})},useShoppingProfileViewLog:function(){(0,n.Q)({view_type:4,view_parameter:3107,component:237})},viewProductGroup:function({productGroupId:e},t){t({event_type:120,view_type:4,view_parameter:3512,component:13698,object_id_str:e})}}};function s({entryPoint:e,objectId:t,groupType:o}){return{aux_data:{commerce_data:JSON.stringify({entrypoint:e}),product_group_type:o},component:13698,object_id_str:t,view_type:1,view_parameter:3515}}const r={BrandCatalog:{tapBrandCatalogPin:function({commerceData:e},t){t({event_type:102,view_type:1,view_parameter:3513,component:13700,aux_data:{...e}})}},Categories:{tapCategoryBubble:function({entryPoint:e},t){t({event_type:102,view_type:1,view_parameter:3514,component:13699,aux_data:{commerce_data:JSON.stringify({entrypoint:e})}})}},ProductGroups:{productGroupRendered:function({entryPoint:e,productGroupId:t,groupType:o},n){n({event_type:120,...s({entryPoint:e,objectId:t,groupType:o})})},tapProductGroup:function({entryPoint:e,productGroupId:t,groupType:o},n){n({event_type:102,...s({entryPoint:e,objectId:t,groupType:o})})}},ProductPins:{tapProductPin:function({commerceData:e,component:t},o){o({event_type:102,component:t,view_type:1,view_parameter:3513,aux_data:{...e}})},viewProductPinsFeed:function({component:e,entryPoint:t,category:o,productGroupId:n},i){i({event_type:13,component:e,view_type:1,view_parameter:3513,aux_data:{commerce_data:JSON.stringify({entrypoint:t}),category_title:o,product_group_id:n}})}},viewFeedPage:function({entryPoint:e,viewParameter:t},o){o({event_type:13,view_type:1,view_parameter:t,aux_data:{commerce_data:JSON.stringify({entrypoint:e})}})}};var l=o(925491);const a={Control:i,DomainModule:{trackSeeMoreClick:function({viewParameter:e},t){t({event_type:102,component:13327,element:11829,view_type:3,view_parameter:e})}},Feeds:r,StructuredFeed:{viewStructuredFeed:function({merchantId:e,source:t},o){o({event_type:13,view_type:(0,l.Z)(t),view_parameter:3512,..."profile"===t?{object_id_str:e}:Object.freeze({})})},Categories:{viewCategory:function({id:e,source:t,title:o,bubble:n},i){i({event_type:120,component:13699,view_type:(0,l.Z)(t),view_parameter:3512,aux_data:{story_type:"storefront_category_bubbles",story_id:e,category_title:o,...n.aux_fields}})},tapCategory:function({id:e,source:t,title:o,bubble:n},i){i({event_type:102,component:13699,view_type:(0,l.Z)(t),view_parameter:3512,aux_data:{story_type:"storefront_category_bubbles",story_id:e,category_title:o,...n.aux_fields}})},tapSeeMoreCategories:function({id:e,source:t},o){o({event_type:102,component:13699,element:179,view_type:(0,l.Z)(t),view_parameter:3512,aux_data:{story_id:e,story_type:"storefront_category_footer_button"}})}},ProductGroups:{tapProductGroup:function({productGroupId:e,source:t,groupType:o,componentType:n,index:i},s){s({event_type:102,component:n,object_id_str:e,view_type:(0,l.Z)(t),view_parameter:3512,aux_data:{product_group_type:o,grid_index:i}})},tapSeeMoreProductGroups:function({id:e,source:t},o){o({event_type:102,component:13698,element:179,aux_data:{story_id:e,story_type:"storefront_product_group_footer_button"},view_type:(0,l.Z)(t),view_parameter:3512})},viewProductGroup:function({productGroupId:e,source:t,groupType:o,componentType:n},i){i({event_type:120,component:n,object_id_str:e,view_type:(0,l.Z)(t),view_parameter:3512,aux_data:{product_group_type:o}})}},PinsFeed:{viewPinsFeed:function({id:e,OwnerUserId:t,pinsFeedTitle:o,source:n},i){i({event_type:120,component:13700,view_type:(0,l.Z)(n),view_parameter:3512,aux_data:{story_id:e,story_type:"storefront_pins_feed",pins_feed_title:o,owner_user_id:t}})},tapPin:function({commerceData:e,source:t},o){o({event_type:102,component:0,view_type:(0,l.Z)(t),view_parameter:3512,aux_data:{...e}})}}}}},925491:(e,t,o)=>{function n(e){return"profile"===e?4:1}o.d(t,{Z:()=>n})},645015:(e,t,o)=>{o.d(t,{Ee:()=>p,LT:()=>u,Md:()=>l,Q1:()=>h,QE:()=>r,S8:()=>g,WU:()=>b,YY:()=>x,c8:()=>_,cB:()=>m,gE:()=>a,mV:()=>f,u3:()=>c,yh:()=>s,z1:()=>d});var n=o(6637),i=o(678030);const s="ALL_PRODUCTS",r=5e3,l=e=>e?e.split("-")[0].toLowerCase():"",a=e=>{var t;return e.allProductsPGItemCount||(null===(t=e.lastSuccessfulIngestion)||void 0===t?void 0:t.productCount)||0},c=e=>[e.country||"",l(e.locale)].join("/").toUpperCase(),d=(e,t)=>e&&t?`${e} (${l(t).toUpperCase()})`:"",u=(e,t)=>{const[o,n]=t.split("/");return d(e[o.toUpperCase()],n)},_=e=>!e||void 0===e.shop_visible||e.shop_visible,h=(e,t)=>{const o=t.map(c);return Object.keys(e).map((e=>e.toUpperCase())).filter(((t,n,i)=>o.includes(t)&&!_(e[t])&&i.indexOf(t)===n))},p=(e,t,o)=>t&&o?e.find((e=>e.country===t&&l(e.locale)===o)):void 0,m=e=>{if(!e)return"";const t=["488x488","976x976","368x368","736x","474x","originals","orig",Object.keys(e)[0]];for(const o of t)if(e[o])return e[o].url||"";return""},g=e=>e.filter((e=>!!e.featured_position)).map((({id:e})=>e)),f=(e,t)=>{const o=new Set(t),n=new Set(e);return{featureProductGroupsSet:new Set([...n.values()].filter((e=>!o.has(e)))),unfeatureProductGroupsSet:new Set([...o.values()].filter((e=>!n.has(e))))}},x=async(e,t,o="FEATURED")=>{const{featureProductGroupsSet:s,unfeatureProductGroupsSet:r}=t,{userId:l,feedProfileId:a,countrySetting:c,languageSetting:d,settings:u}=e,_=`${c}/${d.toUpperCase()}`,h=o===i.$B.CATEGORY?[]:[...s.values()].map((e=>n.Z.create("FeaturedProductGroupsResource",{feedProfileId:a,productGroupId:e}).callCreate())),p=o===i.$B.CATEGORY?[]:[...r.values()].map((e=>n.Z.create("FeaturedProductGroupsResource",{feedProfileId:a,productGroupId:e}).callDelete())),m=i.yK[o],g=u[_]?u[_][m]:[],f=[...new Set([...g,...s.values()])].filter((e=>!r.has(e))),x={...u,[_]:{...u[_]||{},[m]:f}},b=n.Z.create("ApiResource",{url:`/v3/business/users/${l}/storefront/settings/`,data:{settings:JSON.stringify(x)}}).callUpdate();await Promise.all([b,...h,...p])},b=(e,t)=>e.length===t.length&&t.every((t=>e.includes(t)))},357805:(e,t,o)=>{o.d(t,{G:()=>s,S:()=>r});var n=o(19121),i=o(81636);function s(e,t){const o=(0,n.Z)(),s=o.isAuth&&o.username===e;(0,i.Q)({object_id_str:o.isAuth&&s?o.id:void 0,view_type:4,view_parameter:t})}function r(e,t,o){const s=(0,n.Z)(),r=s.isAuth&&s.username===e?3106:3107;(0,i.Q)({object_id_str:t,view_type:4,view_parameter:r,component:o})}},216668:(e,t,o)=>{o.d(t,{Z:()=>_,o:()=>u});var n=o(667294),i=o(898781),s=o(112690),r=o(19121),l=o(444445),a=o(946984),c=o(883119),d=o(785893);const u="AddPinRep";function _({ctaText:e,handleClick:t,height:o,iconSize:u,textSize:_,component:h}){const p=(0,s.Z)(),m=(0,i.ZP)(),g=(0,r.Z)(),f=(0,a.Z)({shouldStopEventPropagation:!1});(0,n.useEffect)((()=>{p({event_type:120,component:null!=h?h:0,element:10643})}),[p,h]);const x=f((()=>{g.isPartner&&p({event_type:101,component:0,element:10643}),t&&t()}));return(0,d.jsx)(c.xu,{children:(0,d.jsx)(c.iP,{role:"link",onTap:x,href:"/pin-builder/",children:(0,d.jsxs)(c.Zb,{children:[(0,d.jsx)(c.xu,{alignItems:"center",color:"secondary",display:"flex",fit:!0,height:o||l.yF,justifyContent:"center",rounding:2,width:o||void 0,children:(0,d.jsx)(c.xu,{color:"default",height:u||40,rounding:"circle",width:u||40,children:(0,d.jsx)(c.JO,{accessibilityLabel:"",color:"error",icon:"add-circle",inline:!0,size:u||40})})}),(0,d.jsx)(c.xu,{padding:2,children:(0,d.jsx)(c.xv,{color:"subtle",size:_||"300",weight:"bold",children:e||m._('Create Pin', 'label to open create pin modal', 'label to open create pin modal')})})]})})})}},36243:(e,t,o)=>{function n(e,t){return e?t._('Title too long. Make sure all cards\' titles have less than 100 characters', 'Title entered is too long while editing a carousel pin and/or one of its pins', 'Title entered is too long while editing a carousel pin and/or one of its pins'):t._('Title too long. Make sure title has less than 100 characters', 'Title entered is too long while editing a pin', 'Title entered is too long while editing a pin')}function i(e,t){return e?t._('Description too long. Make sure all cards\' descriptions have less than 500 characters', 'Description entered is too long while editing a carousel pin and/or one of its pins', 'Description entered is too long while editing a carousel pin and/or one of its pins'):t._('Description too long. Make sure description has less than 500 characters', 'Description entered is too long while editing a pin', 'Description entered is too long while editing a pin')}function s(e,t){return t._('Too many mentions. Make sure you have at most 5.', 'editPinModal.errorMessages.userMentionOverLimit', 'Too many mentions used in the description')}function r(e,t){return e?t._('Need to provide a valid URL. Make sure all cards\' links are valid', 'Invalid URL/link provided while editing a carousel pin and/or one of its pins', 'Invalid URL/link provided while editing a carousel pin and/or one of its pins'):t._('Need to provide a valid URL. Make sure the link is valid', 'Invalid URL/link provided while editing a pin', 'Invalid URL/link provided while editing a pin')}o.d(t,{MM:()=>i,Y8:()=>n,bl:()=>s,qj:()=>r})},681650:(e,t,o)=>{o.d(t,{I:()=>a,Z:()=>l});var n=o(845772),i=o(784590),s=o(773285);const r=({boardId:e,ownerUsername:t,ownerName:o,ownerImgSrc:r})=>{const{anyEnabled:l}=(0,s.F)().checkExperiment("web_m10n_business_access_orbac_ga"),a=(0,n.Z)(),{data:c,isLoaded:d}=(0,i.Z)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0,...l&&a?{orbac_subject_id:a}:{}}}),u=[{name:o,src:r,href:`/${t}/`,isDim:!1}];return d&&c&&c.length>0&&c.forEach((e=>{u.push({name:e&&e.invited_user?e.invited_user.full_name:"",src:e&&e.invited_user?e.invited_user.image_medium_url:"",href:e&&e.invited_user?`/${e.invited_user.username}/`:"",isDim:e&&["new","contact_request_not_approved"].includes(e.status)})})),u},l=r;function a({children:e,...t}){return e(r(t))}},222815:(e,t,o)=>{o.d(t,{Z:()=>g});var n=o(667294),i=o(898781),s=o(131101),r=o(883119),l=o(785893);function a({anchor:e,hideAddSectionTooltip:t}){const o=(0,i.ZP)();return(0,l.jsx)(r.mh,{children:(0,l.jsx)(r.xu,{zIndex:s.bW,position:"absolute",top:!0,children:(0,l.jsx)(r.J2,{anchor:e,color:"blue",idealDirection:"down",onDismiss:t,positionRelativeToAnchor:!1,showCaret:!0,size:"sm",children:(0,l.jsx)(r.xu,{padding:4,children:(0,l.jsx)(r.xv,{color:"inverse",weight:"bold",children:o._('Tap + to add a section any time', 'boardActionsButton.addIconButton.addSectionFlyout', 'Flyout to point out where you can find add section')})})})})})}var c=o(773285);function d({anchor:e,idealDirection:t,onAddBoardNote:o,onAddOrEditDate:s,onAddSection:a,onClose:d,onCreateBoard:u,onCreatePin:_,onCreateStoryPin:h,surface:p,isWithinFixedContainer:m}){const g=(0,i.ZP)(),{checkExperiment:f}=(0,c.F)(),{anyEnabled:x}=f("web_story_pin_creator"),{anyEnabled:b}=f("web_sp2s"),v=(0,n.useMemo)((()=>({pin:g._('Pin', 'BoardActionsButton.LegoFlyout.Pin', 'Option to create a pin'),rename:b?g._('Idea Pin', 'BoardActionsButton.LegoFlyout.IdeaPin', 'Option to create a Idea Pin'):g._('Story Pin', 'BoardActionsButton.LegoFlyout.StoryPin', 'Option to create a Story Pin'),board:g._('Board', 'profileHeader.actionBar.board', 'Option to create a board'),section:g._('Section', 'BoardActionsButton.LegoFlyout.Section', 'Option to create a board section'),date:g._('Date', 'BoardActionsButton.LegoFlyout.Date', 'Option to add a date to a board'),todos:g._('To-dos', 'BoardActionsButton.LegoFlyout.Note', 'Option to create a board note'),new:g._('New', 'BoardActionsButton.LegoFlyout.New', 'New option indicator')})),[g,b]);return(0,l.jsxs)(r.Lt,{id:"board_actions",anchor:e,idealDirection:t||"down",onDismiss:d,isWithinFixedContainer:m,zIndex:new r.Ry(1),children:[(0,l.jsx)(r.Lt.Section,{label:g._('Create', 'BoardActionsButton.LegoFlyout.Create', 'Label for a list of options to create a pin or a section'),children:[(0,l.jsx)(r.Lt.Item,{dataTestId:"Create Pin",onSelect:()=>{_(),d()},option:{label:v.pin,value:v.pin}},"actions-create-0"),h&&x&&(0,l.jsx)(r.Lt.Item,{dataTestId:"Create Story Pin",onSelect:()=>{h(),d()},option:{label:v.rename,value:v.rename}},"actions-create-1"),"profileBoards"===p&&u&&(0,l.jsx)(r.Lt.Item,{dataTestId:"Create board",onSelect:()=>{u(),d()},option:{label:v.board,value:v.board}},"actions-create-2")].filter(Boolean)}),"board"===p&&(0,l.jsx)(r.Lt.Section,{label:g._('Add', 'BoardActionsButton.LegoFlyout.Add', 'Label for a list of options to add board sections or a board date'),children:[o&&(0,l.jsx)(r.Lt.Item,{dataTestId:"addBoardNote",onSelect:()=>{o(),d()},option:{label:v.todos,value:v.todos},badge:{text:v.new,type:"info"}},"actions-add-0"),a&&(0,l.jsx)(r.Lt.Item,{dataTestId:"addSection",onSelect:()=>{a(),d()},option:{label:v.section,value:v.section}},"actions-add-1"),!!s&&(0,l.jsx)(r.Lt.Item,{onSelect:()=>{s(),d()},option:{label:v.date,value:v.date}},"actions-add-2")].filter(Boolean)})]})}var u=o(333312),_=o(806986);function h({anchor:e}){const t=(0,_.JI)();return(0,l.jsx)(r.mh,{children:(0,l.jsx)(r.xu,{zIndex:s.bW,position:"absolute",top:!0,children:(0,l.jsx)(u.default,{anchor:e,experienceIds:[503447],idealDirection:"down",flyoutSize:"md",onClickComplete:()=>{t(!0)},placementId:19,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center",textWeight:"normal"})})})}function p({anchor:e}){return(0,l.jsx)(r.mh,{children:(0,l.jsx)(r.xu,{zIndex:s.bW,position:"absolute",top:!0,children:(0,l.jsx)(u.default,{anchor:e,experienceIds:[502096],idealDirection:"down",placementId:18,positionRelativeToAnchor:!1,showCaret:!0})})})}var m=o(424432);function g({children:e,idealDirection:t,onAddBoardNote:o,onAddOrEditDate:s,onAddSection:c,onCreateBoard:u,onCreatePin:_,onCreateStoryPin:g,onOpen:f=(()=>{}),surface:x,isWithinFixedContainer:b}){var v;const y=(0,i.ZP)(),{showCreateSectionTooltip:P,setShowCreateSectionTooltip:w}=null!==(v=(0,m.L)())&&void 0!==v?v:{},A=()=>w(!1),C=(0,n.useRef)(),[j,E]=(0,n.useState)(!1),S=()=>E(!1),I=()=>{j?S():(f(),P&&A(),E(!0))},T={board:y._('Board Actions', 'button that allows user view actions on a board such as add section, create pin, create pincode, and create widget', 'button that allows user view actions on a board such as add section, create pin, create pincode, and create widget'),profileBoards:y._('Profile Actions', 'profileHeader.actionBar.createButton', 'Button on user\'s profile to open flyout with options to create a pin or a board'),profilePins:y._('Profile Actions', 'profileHeader.actionBar.createButton', 'Button on user\'s profile to open flyout with options to create a pin or a board'),section:y._('Create Pin', 'Button to begin pin creation flow', 'Button to begin pin creation flow')},z=e&&e({active:j,openFlyout:I})||(0,l.jsx)(r.hU,{accessibilityLabel:T[x],icon:"add",onClick:"section"===x?_:I,size:"lg",iconColor:"gray"});let k;return j||"board"!==x||(P?k="addSectionTooltip":s&&(k="planningActionsExperience")),j||"profileBoards"!==x||(k="createBoardTooltip"),(0,l.jsxs)(r.xu,{"data-test-id":"boardActionsButton",children:[(0,l.jsx)(r.xu,{ref:C,children:z}),j&&(0,l.jsx)(d,{anchor:C.current,idealDirection:t,onAddBoardNote:o,onAddOrEditDate:s,onAddSection:c,onClose:S,onCreateBoard:u,onCreatePin:_,onCreateStoryPin:g,surface:x,isWithinFixedContainer:!!b}),"addSectionTooltip"===k&&(0,l.jsx)(a,{anchor:C.current,hideAddSectionTooltip:A}),"planningActionsExperience"===k&&(0,l.jsx)(p,{anchor:C.current}),"createBoardTooltip"===k&&(0,l.jsx)(h,{anchor:C.current})]})}},161702:(e,t,o)=>{o.d(t,{Z:()=>q});var n=o(667294),i=o(319915),s=o(947599),r=o(499128),l=o(898781),a=o(343341),c=o(883119),d=o(785893);const u=(0,n.lazy)((()=>o.e(4603).then(o.t.bind(o,774855,23))));function _({linkURL:e,onDidFocus:t,onDidClickCopyButton:o}){const n=(0,l.ZP)(),{showOneToast:_}=(0,a.F9)(),h=n._('Copy link', '[button] copy a URL link shown, to paste in another place', '[button] copy a URL link shown, to paste in another place');return(0,d.jsxs)(c.xu,{display:"flex",alignItems:"center",paddingX:4,children:[(0,d.jsx)(c.xu,{flex:"grow",marginEnd:2,children:(0,d.jsx)(c.nv,{id:"copylinkurl",onChange:()=>{},onFocus:t,size:"lg",type:"url",value:e})}),(0,d.jsx)(i.Z,{name:"SafeSuspense_CopyableLink_CopyToClipboard",children:(0,d.jsx)(s.Z,{fallback:(0,d.jsx)(c.zx,{text:h,disabled:!0}),children:(0,d.jsx)(u,{text:e,onCopy:(e,t)=>{t&&_((({hideToast:e})=>(0,d.jsx)(r.ZP,{onHide:e,text:n._('Link copied to clipboard!', 'toast message to confirm if users copied the url successfully', 'toast message to confirm if users copied the url successfully')}))),o()},children:(0,d.jsx)(c.zx,{text:h,size:"lg"})})})})]})}var h=o(720247),p=o(845772),m=o(837727),g=o(407043),f=o(773285),x=o(580744);const b=(e,t)=>({invite_category:4,invite_channel:12,object_type:m.d.BOARD,object_id:e,...t?{orbac_subject_id:t}:{}}),v=e=>({component:13305,element:10921,object_id_str:e,view_type:5,view_parameter:3059});function y({boardId:e}){const{logContextEvent:t}=(0,g.v)(),[o,i]=(0,n.useState)(!1),[s,r]=(0,n.useState)(null),{anyEnabled:l}=(0,f.F)().checkExperiment("web_m10n_business_access_orbac_ga"),a=(0,p.Z)();(0,n.useEffect)((()=>{if(!s){const t=b(e,l?a:""),{cancel:o,promise:n}=(0,h.Z)(x.Z.createShareInviteData(t));return n.then((e=>r(e))),()=>{o()}}}),[]);const c=s?s.invite_url:"...",u=()=>{null===s||o||(i(!0),x.Z.logShareInvite(b(e),s))};return(0,d.jsx)(_,{linkURL:c,onDidClickCopyButton:()=>{t({event_type:101,...v(e)}),u()},onDidFocus:u})}var P=o(787294),w=o(116303),A=o(784590);function C({boardId:e,invitedUserId:t,isInvited:o,onClick:i,buttonSize:s="sm"}){const r=(0,l.ZP)(),{anyEnabled:a}=(0,f.F)().checkExperiment("web_m10n_business_access_orbac_ga"),u=(0,p.Z)(),_=(0,A.Z)({name:"BoardInviteResource",options:{board_id:e,invited_user_id:t,...a&&u?{orbac_subject_id:u}:{}}});(0,n.useEffect)((()=>{_.refresh()}),[]);const h={text:r._('Invite', '[button] invite someone to collaborate on a board', 'it appears in the list expanded when click invite button at the top of board page'),color:"red",disabled:!1};return _.isFetching&&(h.text=r._('Loading', '[button] disabled button status text when checking if the user has been invited', 'it appears in the list expanded when click invite button at the top of board page'),h.color="gray",h.disabled=!0),(o||_.isLoaded&&_.data)&&(h.text=r._('Invited', '[button] disabled button status text when a user has been invited to a board', 'it appears in the list expanded when click invite button at the top of board page'),h.color="gray",h.disabled=!0),(0,d.jsx)(c.zx,{fullWidth:!0,color:h.color,size:s,disabled:h.disabled,onClick:i,text:h.text})}var j=o(381297),E=o(326285),S=o(936776),I=o(172071),T=o(730447),z=o(717615),k=o(19121),D=o(231947),R=o(98265);function O({boardId:e,onInvitesDidUpdate:t,onInviteDidComplete:o,shareSuggestions:i}){const{logContextEvent:s}=(0,g.v)(),r=(0,l.ZP)(),{anyEnabled:a}=(0,f.F)().checkExperiment("web_m10n_business_access_orbac_ga"),u=(0,k.Z)(),_=(0,z.Z)(),h=a?(0,D.lJ)(u,_):"",[p,m]=(0,n.useState)(""),[x,b]=(0,n.useState)([]),[v,y]=(0,n.useState)({}),[P,A]=(0,n.useState)({}),O=e=>{switch(e.type){case"user":case"user_share_suggestion":return e.username||r._('On Pinterest', 'is a user of Pinterest', 'is a user of Pinterest');case"emailcontact":case"email_share_suggestion":return e.email||r._('Email Contact', 'invited user has an email', 'invited user has an email')}return""},L=(n,i)=>{const{id:r,full_name:l,debug_reason:a}=n;let c="";a&&(c=a.reason),((t,o)=>{s({event_type:101,component:13029,element:p?1044:1039,object_id_str:e,view_type:5,view_parameter:3059,aux_data:{entered_query:p,result_index:t+1,rs:o}})})(i,c);const d={...v};d[r]=!0,y(d),(0,R.pS)(e,[r],h).then((()=>{o(l,!0)})).catch((e=>{o(l,!1,e);const t={...v};t[r]=!1,y(t)})).finally(t)};let B=i;return p&&(B=x),(0,d.jsxs)(c.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",minHeight:0,children:[(0,d.jsx)(c.xu,{paddingY:4,flex:"none",display:"flex",alignItems:"center",children:(0,d.jsx)(c.xu,{flex:"grow",children:(0,d.jsx)(T.Z,{onTypeaheadSuggestionsChange:e=>{I.Z.increment("web_contacts_search",1,{source:"board_invite"}),b(e)},resourceName:"ShareSuggestionsTypeaheadResource",resourceOptions:{suggestion_type:"group_board",count:25,...h?{orbac_subject_id:h}:Object.freeze({})},value:p,children:(0,d.jsx)(c.xu,{paddingX:4,children:(0,d.jsx)(c.Um,{accessibilityLabel:r._('Search for a name or email', 'accessible label for contact search input field', 'accessible label for contact search input field'),id:"search",onChange:({value:e})=>{m(e),s({event_type:4113,component:13029,element:1043,view_parameter:3059,aux_data:{entered_query:e}})},placeholder:r._('Search by name or email', 'search input field prompt for finding contacts', 'search input field prompt for finding contacts'),size:"lg",value:p})})})})}),(0,d.jsxs)(c.xu,{overflow:"scrollY",maxHeight:414,children:[p&&((0,S.Z)(p)?(0,d.jsx)(j.Z,{name:p,title:p,accessory:(M=!!P[p],F=()=>{const n=p;if(!(0,S.Z)(n))return;const i={...P};i[n]=!0,A(i),(0,R.OA)(e,[n],h).then((()=>{o(n,!0),m("")})).catch((e=>{o(n,!1,e);const t={...P};t[n]=!1,A(t)})).finally(t)},N="lg",(0,d.jsx)(c.zx,{fullWidth:!0,color:M?"gray":"red",disabled:!!M,size:N,onClick:F,text:M?r._('Invited', '[button] disabled button status text when a user has been invited to a board', '[button] disabled button status text when a user has been invited to a board'):r._('Invite', '[button] invite someone to collaborate on a board', '[button] invite someone to collaborate on a board')}))}):(0,d.jsx)(E.Z,{iconNode:(0,d.jsx)(w.Z,{name:p,size:"md"}),title:p,subtitle:r._('Keep typing!', 'boardCollabInviterForm.label', 'Message for user to keep typing')})),B.map(((t,o)=>{const n=t.username?`/${t.username}/`:null;return(0,d.jsx)(c.xu,{children:(0,d.jsx)(j.Z,{imageUrl:t.image_medium_url||"",name:t.full_name||t.email,title:t.full_name||t.email,subtitle:O(t),accessory:(0,d.jsx)(C,{boardId:e,invitedUserId:t.id,isInvited:(i=t.id,!!v[i]),onClick:()=>L(t,o),buttonSize:"lg"}),linkURL:n})},o);var i}))]})]});var M,F,N}var L=o(349700);function B({boardId:e}){const{logContextEvent:t}=(0,g.v)(),o=(0,l.ZP)(),i=(0,a.F9)(),{checkExperiment:s}=(0,f.F)(),{anyEnabled:u}=s("web_m10n_business_access_orbac_ga"),_=(0,p.Z)(),{refresh:h}=(0,A.Z)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0,...u&&_?{orbac_subject_id:_}:{}},noCache:!0}),{refresh:m}=(0,A.Z)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"pending_approval",...u&&_?{orbac_subject_id:_}:{}},noCache:!0}),{data:x,isLoaded:b}=(0,A.Z)({name:"ShareSuggestionsResource",options:{page_size:5,field_set_key:"default",suggestion_type:"group_board",..._?{orbac_subject_id:_}:{}},noCache:!0});(0,n.useEffect)((()=>{t({event_type:7120,object_id_str:e,view_type:5,view_parameter:3059})}),[]),(0,n.useEffect)((()=>{if(b){const e=x&&x.length>0?7511:7512;t({event_type:e,component:13305,element:10592,view_type:5,view_parameter:3059})}}),[b]);const v=(e,t=!1)=>{i.showOneToast((({hideToast:o})=>(0,d.jsx)(r.ZP,{duration:3e3,onHide:o,text:e,variant:t?"error":void 0})))};return b?(0,d.jsx)(O,{boardId:e,onInvitesDidUpdate:()=>{h(),m()},onInviteDidComplete:(e,t,n)=>{t?v(o._('1 invite sent!', 'BoardCollabInviteFormContainer.showInviteSuccessToast.text', 'Toast for successfully sending invitation of collaborating a board')):((e,t)=>{const n=o._('Failed to invite {{userIdentifier}} to collaborate', 'Toast for failing to send invitation of collaborating a board', 'Toast for failing to send invitation of collaborating a board');v(t&&t.message?t.message:(0,L.nk)(n,{userIdentifier:e}).join(""),!0)})(e,n)},shareSuggestions:x||[]}):(0,d.jsx)(c.xu,{display:"flex",justifyContent:"center",paddingY:12,width:"100%",children:(0,d.jsx)(c.$j,{accessibilityLabel:o._('Loading contacts', 'BoardCollab.BoardCollabInviteFormContainer', 'Accessibility label on loading spinner'),show:!0})})}const M="INVITE_SETTING",F="REQUEST_TO_JOIN_SETTING";function N({boldHeading:e,setting:t,viewerIsOwner:o}){const i=(0,l.ZP)(),s={0:{name:i._('Do (almost) everything', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Heading explaining collaborator permission setting'),description:i._('Add, move or delete Pins and sections, comment and react', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Text explaining collaborator permission setting')},1:{name:i._('Save and comment', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Heading explaining collaborator permission setting'),description:o?i._('Save Pins, organize them, comment and react', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Text explaining collaborator permission setting'):i._('Save Pins, organize them, comment, and react. For more permissions, reach out to the board owner!', 'save.board.BoardPage.ModalContents.BoardCollabSettings.SaveOnly.Collab', 'Text explaining collaborator permission setting')},[M]:{name:i._('Invite other people', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Heading explaining collaborator permission setting'),description:i._('Collaborators can invite others to this board', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Text explaining collaborator permission setting')},[F]:{name:i._('Board requests', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Heading explaining collaborator permission setting'),description:i._('People can request to join this board', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Text explaining collaborator permission setting')}};return(0,d.jsxs)(n.Fragment,{children:[(0,d.jsx)(c.xv,{color:"default",size:e?"300":"200",weight:e?"bold":"normal",children:s[t].name}),(0,d.jsx)(c.xu,{paddingY:1,children:(0,d.jsx)(c.xv,{color:"subtle",size:"300",children:s[t].description})})]})}var Z=o(353068),U=o(121151),G=o(715519),H=o(276775),V=o(780280);function W({board:e,currentPermissionLevel:t,fromBoardEditModal:o,navigateToPermissions:i,onDismiss:s}){var r,a;const u=(0,l.ZP)(),_="number"==typeof e.collaborator_count&&e.collaborator_count>0,[h,m]=(0,n.useState)(!_),g=(0,V.B)(),f=(0,k.Z)(),x=(0,H.k6)(),b=(0,p.Z)(),v=f.isAuth&&((null===(r=e.owner)||void 0===r?void 0:r.id)===f.id||(null===(a=e.owner)||void 0===a?void 0:a.id)===b),w=v||e.collaborator_invites_enabled,A=h&&!_||!h;return(0,d.jsx)(G.k,{boardName:e.name,pendingOwnershipTransfer:e.pending_ownership_transfer,viewerIsOwner:v,children:(0,d.jsx)(U.ZP,{_dangerouslyDisableScrollBoundaryContainer:!0,accessibilityModalLabel:h?u._('Invite collaborators', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Accessibility label on a modal'):u._('Collaborators', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Accessibility label on a modal'),footer:w&&!h?(0,d.jsx)(c.iP,{onTap:()=>m(!0),rounding:8,children:(0,d.jsxs)(c.kC,{alignItems:"center",justifyContent:"start",children:[(0,d.jsx)(c.hU,{accessibilityLabel:u._('Invite collaborators', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'accessibility label on icon button'),icon:"add",bgColor:"red",iconColor:"white",size:"md"}),(0,d.jsx)(c.xu,{paddingX:3,children:(0,d.jsx)(c.xv,{size:"300",weight:"bold",children:u._('Invite collaborators', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Clickable text to show invite form')})})]})}):null,heading:(0,d.jsxs)(c.xu,{marginStart:5,padding:8,children:[o&&(0,d.jsx)(c.xu,{position:"absolute",top:!0,left:!g.isRTL,right:g.isRTL,paddingY:8,paddingX:6,children:(0,d.jsx)(c.hU,{accessibilityLabel:u._('Back', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Accessibility label on a button'),icon:"arrow-back",iconColor:"darkGray",onClick:s,size:"md"})}),(0,d.jsx)(c.X6,{align:"center",size:"500",children:h?u._('Invite collaborators', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Heading for a modal'):u._('Collaborators', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Heading for a modal')})]}),onDismiss:s,children:(0,d.jsxs)(c.xu,{marginBottom:5,children:[A&&(0,d.jsxs)(c.xu,{paddingX:6,children:[(0,d.jsx)(c.xu,{paddingY:3,children:(0,d.jsx)(c.xv,{size:"100",children:v?u._('Collaborators can...', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Text before explaining current collaborator permission setting'):u._('You can...', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Text before explaining current collaborator permission setting')})}),(0,d.jsxs)(c.xu,{alignItems:"start",display:"flex",justifyContent:"between",marginBottom:4,children:[(0,d.jsx)(c.xu,{width:"60%",children:(0,d.jsx)(N,{boldHeading:!0,viewerIsOwner:v,setting:t})}),v&&(0,d.jsx)(c.hU,{accessibilityLabel:u._('Edit board permissions', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Accessibility label on icon button'),icon:"arrow-forward",onClick:i,iconColor:"gray",size:"md"})]})]}),h?(0,d.jsxs)(c.xu,{paddingX:2,children:[(0,d.jsx)(y,{boardId:e.id}),(0,d.jsx)(B,{boardId:e.id})]}):(0,d.jsxs)(n.Fragment,{children:[(0,d.jsx)(c.xu,{paddingX:6,paddingY:5,children:(0,d.jsx)(c.xv,{size:"100",children:u._('Collaborators', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Header before listing collaborators on a group board')})}),(0,d.jsx)(Z.Z,{board:e,scrollInfo:null,onBoardLeave:()=>{const e=f.isAuth?`/${f.username}`:"/";x.replace(e)},renderInvite:(e,t,o)=>{if(!e.invited_user)return null;const n={invite:e,invitedUser:e.invited_user,onBoardLeave:t,onInviteDidUpdate:o,useGestaltModal:!0,isDim:!1};return(0,d.jsx)(P.Z,{...n})}})]})]})})})}var $=o(702664),Y=o(162158);function K({board:{collaborator_invites_enabled:e,collaborator_requests_enabled:t,id:o},currentPermissionLevel:i,navigateToCollaborators:s,onDismiss:r}){const{logContextEvent:a}=(0,g.v)(),u=(0,l.ZP)(),[_,h]=(0,n.useState)(i),[p,m]=(0,n.useState)(e),[f,x]=(0,n.useState)(t),[b,v]=(0,n.useState)(!1),y=(0,V.B)(),P=(0,$.useDispatch)();return(0,d.jsx)(U.ZP,{accessibilityModalLabel:u._('Board permissions', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Accessibility label on a modal'),heading:(0,d.jsxs)(c.xu,{paddingY:8,position:"relative",children:[(0,d.jsx)(c.xu,{position:"absolute",top:!0,left:!y.isRTL,right:y.isRTL,paddingY:8,paddingX:6,children:(0,d.jsx)(c.hU,{accessibilityLabel:u._('Back', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Accessibility label on a button'),icon:"arrow-back",iconColor:"darkGray",onClick:s,size:"md"})}),(0,d.jsx)(c.X6,{align:"center",size:"500",children:u._('Collaborators can...', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Heading for a modal')}),(0,d.jsx)(c.xu,{position:"absolute",top:!0,left:y.isRTL,right:!y.isRTL,paddingY:8,paddingX:6,children:(0,d.jsx)(c.hU,{accessibilityLabel:u._('Close', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Accessibility label on a button'),icon:"cancel",iconColor:"darkGray",onClick:r,size:"md"})})]}),footer:(0,d.jsx)(c.kC,{alignItems:"stretch",justifyContent:"end",children:(0,d.jsx)(c.zx,{color:"red",disabled:b||_===i&&p===e&&f===t,onClick:()=>{v(!0);const n={},s={view_type:5,view_parameter:3472};p!==e&&(n.collaborator_invites_enabled=p,a({event_type:p?106:107,element:11896,...s})),_!==i&&(n.collaborator_permissions_setting=_,a({event_type:8841,...s})),f!==t&&(n.collaborator_requests_enabled=f),P((0,Y.V)(o,n)).then((()=>r()))},size:"lg",text:u._('Done', 'save.board.BoardPage.ModalContents.PermissionsModal', 'Submit button on a form')})}),onDismiss:r,children:(0,d.jsxs)(c.xu,{paddingX:12,children:[(0,d.jsx)(c.xu,{paddingY:3,children:(0,d.jsx)(c.xv,{size:"100",children:u._('Permissions', 'save.board.BoardPage.ModalContents.PermissionsModal', 'Heading before listing possible board permissions')})}),(0,d.jsxs)(c.kC,{alignItems:"center",children:[(0,d.jsx)(c.EU,{checked:0===_,id:"ALL",onChange:()=>h(0),value:0}),(0,d.jsx)(c.xu,{marginEnd:12,paddingX:2,children:(0,d.jsx)(N,{setting:0})})]}),(0,d.jsxs)(c.xu,{display:"flex",paddingY:6,"data-test-id":"invite-radio-container",children:[(0,d.jsx)(c.EU,{checked:1===_,id:"SAVE_ONLY",onChange:()=>h(1),value:1}),(0,d.jsx)(c.xu,{marginEnd:12,paddingX:2,children:(0,d.jsx)(N,{setting:1})})]}),(0,d.jsx)(c.xu,{paddingY:3,children:(0,d.jsx)(c.xv,{size:"100",children:u._('Invitations', 'save.board.BoardPage.ModalContents.PermissionsModal', 'Heading before group board invitation permission form setting')})}),(0,d.jsxs)(c.xu,{display:"flex",marginBottom:6,"data-test-id":"invite-checkbox-container",children:[(0,d.jsx)(c.XZ,{checked:p,id:"inviteSetting",onChange:({checked:e})=>m(e)}),(0,d.jsx)(c.xu,{marginEnd:12,paddingX:2,children:(0,d.jsx)(N,{setting:M})})]}),(0,d.jsxs)(c.kC,{alignItems:"center",justifyContent:"start",children:[(0,d.jsx)(c.XZ,{checked:f,id:"inviteSetting",onChange:({checked:e})=>x(e)}),(0,d.jsx)(c.xu,{marginEnd:12,paddingX:2,children:(0,d.jsx)(N,{setting:F})})]})]})})}function q({board:e,fromBoardEditModal:t,onDismiss:o}){const[i,s]=(0,n.useState)("collaboratorsView"),{collaborator_permissions_setting:r}=e;return"collaboratorsView"===i?(0,d.jsx)(W,{board:e,currentPermissionLevel:r,fromBoardEditModal:t,navigateToPermissions:()=>s("permissionsView"),onDismiss:o}):(0,d.jsx)(K,{board:e,currentPermissionLevel:r,navigateToCollaborators:()=>s("collaboratorsView"),onDismiss:o})}},424432:(e,t,o)=>{o.d(t,{L:()=>l,M:()=>a});var n=o(667294),i=o(425288),s=o(785893);const{Provider:r,useMaybeHook:l}=(0,i.Z)("CreateSectionTooltip");function a({children:e}){const[t,o]=(0,n.useState)(!1),i=(0,n.useMemo)((()=>({showCreateSectionTooltip:t,setShowCreateSectionTooltip:o})),[t]);return(0,s.jsx)(r,{value:i,children:e})}},131101:(e,t,o)=>{o.d(t,{Ev:()=>s,IK:()=>i,Oj:()=>r,bW:()=>l});var n=o(883119);const i=1,s=1,r=2,l=new n.Ry(5e3)},683365:(e,t,o)=>{o.d(t,{Z:()=>p});var n=o(667294),i=o(755742),s=o(694379),r=o(6637),l=o(342877),a=o(349700),c=o(898781),d=o(883119),u=o(785893);function _(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class h extends n.Component{constructor(...e){super(...e),_(this,"state",{recommendations:[],selectedIndex:0,resourceLoaded:!1}),_(this,"onDismiss",(()=>{})),_(this,"mounted",!1),_(this,"addHashtag",(e=>{this.props.addHashtag(e),this.setState({recommendations:[]})})),_(this,"handleKeyDown",(e=>{e.keyCode===i.Z.UP?this.handlePrevHashtag(e):e.keyCode===i.Z.DOWN?this.handleNextHashtag(e):e.keyCode===i.Z.ESCAPE?this.handleClose(e):e.keyCode===i.Z.ENTER&&this.handleSubmit(e)})),_(this,"handlePrevHashtag",(e=>{e.preventDefault(),this.state.selectedIndex>0&&this.setState((e=>({selectedIndex:e.selectedIndex-1})))})),_(this,"handleNextHashtag",(e=>{e.preventDefault(),this.state.selectedIndex<this.state.recommendations.length-1&&this.setState((e=>({selectedIndex:e.selectedIndex+1})))})),_(this,"handleClose",(e=>{e.preventDefault(),this.setState({recommendations:[]})})),_(this,"handleSubmit",(e=>{e.preventDefault(),this.addHashtag(this.state.recommendations[this.state.selectedIndex].query)})),_(this,"callResource",(e=>{const{makeCancelablePromise:t}=this.props;t(r.Z.create("HashtagTypeaheadResource",{query:e,showPinCount:!0}).callGet(),"typeahead").then((e=>{if(!this.mounted)return;const t=e.resource_response.data;this.setState({recommendations:t.slice(0,5),resourceLoaded:!0})})).catch((({isCanceled:e})=>{e||this.setState({resourceLoaded:!1})}))}))}componentDidMount(){this.mounted=!0,this.callResource(this.props.query),window.addEventListener("keydown",this.handleKeyDown)}componentDidUpdate(e){this.props.query!==e.query&&""!==this.props.query&&this.callResource(this.props.query)}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyDown),this.mounted=!1}render(){const{recommendations:e,resourceLoaded:t,selectedIndex:o}=this.state,{anchor:n,idealDirection:i}=this.props,r=e.filter((e=>e.query)),l=i||"down",c="flyout_"+r.length;return t&&r.length>0?(0,u.jsx)(d.J2,{anchor:n,idealDirection:l,onDismiss:this.onDismiss,size:"sm",children:(0,u.jsx)(d.xu,{width:"100%",zIndex:new d.Ry(3),children:r.length>0?r.map(((e,t)=>(0,u.jsx)(d.iP,{fullWidth:!1,onTap:()=>this.addHashtag(e.query),children:(0,u.jsxs)(d.xu,{display:"flex",justifyContent:"between",alignItems:"center",color:t===o?"secondary":"transparent",padding:1,children:[(0,u.jsx)(d.xu,{flex:"grow",children:(0,u.jsx)(d.xv,{inline:!0,size:"200",weight:"bold",children:e.query})}),(0,u.jsx)(d.xu,{flex:"none",children:(0,u.jsx)(d.xv,{inline:!0,size:"100",children:(0,a.nk)(this.props.i18n.ngettext('{{ count }} pin', '{{ count }} pins', Number(e.pin_count), 'label for n pins in hashtag flyout', 'label for n pins in hashtag flyout'),{count:(0,u.jsx)(s.Z,{value:Number(e.pin_count)},"pinCount")})})})]})},e.query))):null})},c):null}}function p(e){const t=(0,c.ZP)(),o=(0,l.Z)();return(0,u.jsx)(h,{...e,makeCancelablePromise:o,i18n:t})}},833785:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(667294),i=o(319915),s=o(947599),r=o(898781),l=o(883119),a=o(785893);const c=(0,n.lazy)((()=>o.e(61116).then(o.bind(o,451204))));function d(e){const t=(0,r.ZP)();return(0,a.jsx)(i.Z,{name:"SafeSuspense_SendObjectLoader_SendObjectWrapper",children:(0,a.jsx)(s.Z,{fallback:(0,a.jsx)(l.xu,{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",padding:2,children:(0,a.jsx)(l.$j,{accessibilityLabel:t._('Loading sharing', 'Accessibility label for loading sharing UI', 'Accessibility label for loading sharing UI'),show:!0})}),children:(0,a.jsx)(c,{...e})})})}},983294:(e,t,o)=>{o.d(t,{Z:()=>_});var n=o(667294),i=o(300267),s=o(259986),r=o(812446),l=o(898781),a=o(883119),c=o(785893);const d=(0,r.Z)((function({handleSendShareFlyoutButtonClick:e,isFlyoutOpen:t,useGestaltButton:o}){const n=(0,l.ZP)(),i=n._('Send Profile', 'Accessible label for button to send this profile', 'Accessible label to send this profile button');return o?(0,c.jsx)(a.zx,{accessibilityLabel:i,onClick:e,selected:t,size:"lg",text:n._('Share', 'sendProfileButton.button', 'Button to share user profile')}):(0,c.jsx)(s.Z,{accessibilityLabel:i,icon:"share",onClick:e,selected:t})}));var u=o(19121);function _({shownWithinProfileHeader:e,useGestaltButton:t,user:o}){var s,r,l;const[a,_]=(0,n.useState)(!1),h=(0,u.Z)(),p=(0,i.Z)({user:o,viewer:h});return(0,c.jsx)(d,{fullName:null!==(s=null==o?void 0:o.full_name)&&void 0!==s?s:"",gridDescription:"",imageSrc:null==o?void 0:o.image_large_url,isFlyoutOpen:a,isOwnProfile:p,onFlyoutDismiss:()=>_(!1),onToggleFlyout:()=>_(!a),profileUrl:`/${null!==(r=null==o?void 0:o.username)&&void 0!==r?r:""}/`,sendType:"user",shownWithinProfileHeader:e,useGestaltButton:t,userId:null!==(l=null==o?void 0:o.id)&&void 0!==l?l:"",element:12631})}},602574:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(883119),i=o(785893);function s({ideaPinImages:e}){const t={1:28,2:40,3:48},o=e.map(((e,t)=>{var o,s,r;return(0,i.jsx)(n.xu,{height:48,width:28,color:"default",borderStyle:"sm",overflow:"hidden",rounding:2,dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:t}},children:(0,i.jsx)(n.Ee,{alt:"",src:null!==(o=null==e?void 0:e.url)&&void 0!==o?o:"",color:"#696969",fit:"cover",naturalHeight:null!==(s=null==e?void 0:e.height)&&void 0!==s?s:1,naturalWidth:null!==(r=null==e?void 0:e.width)&&void 0!==r?r:1})},t)}));return(0,i.jsx)(n.kC,{justifyContent:"center",children:(0,i.jsx)(n.kC,{justifyContent:"start",width:t[e.length],children:o})})}var r=o(499128),l=o(898781),a=o(784590),c=o(50286);function d({handleHide:e,text:t,userId:o,href:d,imageUrl:u}){const _=(0,l.ZP)(),h=(0,c.HG)(),p=(0,a.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:o}}),m=Array.isArray(t)?t.join(" "):t;if(0===(p.data||[]).length){const t=u?(0,i.jsx)(n.xu,{height:48,overflow:"hidden",width:48,children:(0,i.jsx)(n.Ee,{alt:_._('Image of who you followed', 'userFollowingToast.thumbnail.userImage', 'Profile thumbnail of the user you followed'),fit:"cover",naturalHeight:1,naturalWidth:1,src:u})}):void 0;return(0,i.jsx)(r.ZP,{duration:5e3,onHide:e,text:m,href:d,iconThumbnail:t,thumbnailShape:"circle"})}const g=(p.data||[]).slice(0,3).map((e=>{var t;return null===(t=e.images)||void 0===t?void 0:t[h?"236x":"170x"]})),f=(0,i.jsx)(s,{ideaPinImages:g});return(0,i.jsx)(r.ZP,{href:d,duration:5e3,onHide:e,iconThumbnail:f,text:m,thumbnailShape:"square"})}},281216:(e,t,o)=>{o.d(t,{b:()=>n,u:()=>i});const n={SPAM:"spam",PORN:"nudity",SELF_INJURY:"self-harm",HATE_SPEECH:"hate-speech",DANGEROUS_GOODS:"dangerous-goods",HARASSMENT:"attacks",VIOLENCE:"graphic-violence",MISINFORMATION:"misinformation",MISLEADING:"misleading-promoted",OFFENSIVE:"offensive-promoted",LOW_QUALITY:"low-quality-promoted",INTELLECTUAL_PROPERTY:"intellectualProperty",PRODUCT_OFFENSIVE:"offensive-product",PRODUCT_MISLEADING:"misleading-product",PRODUCT_PROHIBITED:"prohibited-product",PRODUCT_MATURE:"mature-product",PRODUCT_WEAPONS:"weapons-product",PRODUCT_RESTRICTED_HEALTHCARE:"restricted-healthcare-product",NETZDG:"netzdg",CONSPIRACY_THEORIES:"conspiracy-theories",MEDICAL_MISINFORMATION:"medical-misinformation",POLITICAL_MISINFORMATION:"political-misinformation"},i={spam:10583,nudity:10584,"self-harm":10585,"hate-speech":10586,"dangerous-goods":11479,attacks:10587,"graphic-violence":10588,"medical-misinformation":11150,intellectualProperty:10594,"low-quality-promoted":10591,"misleading-promoted":10589,"offensive-promoted":10590,"offensive-product":11452,"misleading-product":11453,"prohibited-product":11454,"mature-product":11455,"weapons-product":11456,"restricted-healthcare-product":11457,netzdg:11683,"conspiracy-theories":11762,"political-misinformation":11760,misinformation:11790}},223123:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(702664),i=o(6637),s=o(332611),r=o(886858),l=o(379725),a=o(414327),c=o(782677);function d(){const e=(0,n.useDispatch)(),t=(0,n.useSelector)((e=>e.resources));return async function({boardCreateOptions:o,deprecatedSchemaForNormalization:n}){var d,u;const _=await i.Z.create("BoardResource",o).callCreate(),h=null===(d=_.resource_response)||void 0===d?void 0:d.data,p=n?(0,c.Fv)(h,n):void 0;e((0,a.XM)("BoardResource",o,_,p)),e((0,s.fO)({event_type:20})),null!==(u=h.owner)&&void 0!==u&&u.id&&e((0,l.bi)("UserResource",{options:{user_id:h.owner.id,field_set_key:"save_behavior"}}));const m=t.BoardsResource||{},g=t.BoardsFeedResource||{};return Object.keys(m).forEach((t=>{var o;(0,r.k)(t).username===(null===(o=h.owner)||void 0===o?void 0:o.username)&&e((0,a.jB)("BoardsResource",t))})),Object.keys(g).forEach((t=>{var o;(0,r.k)(t).username===(null===(o=h.owner)||void 0===o?void 0:o.username)&&e((0,a.jB)("BoardsFeedResource",t))})),h}}},935409:(e,t,o)=>{o.d(t,{Br:()=>_,Cr:()=>C,K8:()=>x,Q_:()=>y,Tq:()=>g,YV:()=>A,ZP:()=>j,aX:()=>E,eo:()=>p,gi:()=>w,md:()=>h,oG:()=>m,oL:()=>S,of:()=>b,xH:()=>f,xQ:()=>v,xk:()=>P,yT:()=>u});var n=o(27255),i=o(31185),s=o(6637),r=o(778821),l=o(379725),a=o(875495),c=o(527885),d=o(414327);function u(e){return{type:"BOARD_UPDATE_COMPLETE",payload:{board:e}}}function _(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}}function h(e,t){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:t}}}function p({viewingUserId:e,viewingUsername:t,boardId:o,boardPinCount:n}){return{type:"BOARD_DELETE",payload:{viewingUserId:e,viewingUsername:t,boardId:o,boardPinCount:n}}}const m=(e,t)=>o=>o((0,l.U2)("BoardResource",{options:{board_id:e,field_set_key:t}}));function g(e,t,o){return(0,l.U2)("BoardResource",{options:{board_id:e,field_set_key:t,...o?{orbac_subject_id:o}:{}}})}function f(e,t,o){return n=>s.Z.create("BoardsMergeResource",{source_board_id:e,target_board_id:t,...o?{orbac_subject_id:o}:{}}).callUpdate().then((()=>Promise.all([n(p({boardId:e})),n(g(t,"pin_count")),n((0,a.N8)(r.DV.BOARD_SECTIONS,t))])))}function x(e){return t=>{e&&(0,c.Q)(e).forEach((e=>{t(e)}))}}const b=e=>({type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}),v=e=>m(e,"pin_count");function y(e,t){return{type:"BOARD_ARCHIVE",payload:{boardId:e,username:t}}}function P(e,t){return o=>(o(y(e)),s.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callUpdate())}function w(e){return{type:"BOARD_UNARCHIVE",payload:{boardId:e}}}function A(e,t){return o=>(o(w(e)),s.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callDelete())}const C=(e,t)=>({type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}),j=e=>({type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}});function E(e,t,o){const r={name:e,privacy:n.Z.BoardPrivacy.PUBLIC,username:t,...o?{orbac_subject_id:o}:Object.freeze({})};return e=>s.Z.create("BoardResource",r).callCreate().then((o=>{const n=o.resource_response.data;return e(t&&(0,d.jB)("BoardsResource",(0,i.Z)(t,!1))),n}))}function S(e={},t,o){return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:o}}},98265:(e,t,o)=>{o.d(t,{A8:()=>d,Cf:()=>a,GJ:()=>m,Jn:()=>l,OA:()=>i,SD:()=>u,pS:()=>s,q1:()=>r,sJ:()=>p,xx:()=>c});var n=o(6637);function i(e,t,o){return n.Z.create("BoardEmailInviteResource",{board_id:e,emails:t,...o?{orbac_subject_id:o}:Object.freeze({})}).callCreate()}function s(e,t,o){return n.Z.create("BoardInviteResource",{board_id:e,invited_user_ids:t,...o?{orbac_subject_id:o}:Object.freeze({})}).callCreate()}function r(e,t){return o=>n.Z.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callUpdate().catch((()=>{}))}function l(e,t,o,i){return async t=>{const{invited_user:s,status:r,board:{id:l}}=e;s&&await n.Z.create("accepted"===r?"BoardCollaboratorResource":"BoardInviteResource",{ban:o,board_id:l,field_set_key:"boardEdit",invited_user_id:s.id,...i?{orbac_subject_id:i}:{}}).callDelete({showError:!1})}}function a(e,t){return async o=>{await n.Z.create("ApiResource",{url:`/v3/boards/${e}/collaborators/requests/ownership/`,data:{collaborator:t}}).callCreate(),o(function(e,t){return{type:"BOARD_OWNERSHIP_TRANSFER_REQUEST",payload:{boardId:e,collaboratorId:t}}}(e,t))}}function c(e,t){return async o=>{await n.Z.create("ApiResource",{url:`/v3/boards/${e}/collaborators/requests/ownership/`,data:{collaborator:t}}).callDelete(),o(function(e){return{type:"BOARD_OWNERSHIP_TRANSFER_REQUEST_CANCEL",payload:{boardId:e}}}(e))}}const d=(e,t)=>({type:"BOARD_INVITE_ACCEPTED_BY_VIEWER",payload:{boardId:e,collaboratingUser:t}}),u=(e,t)=>o=>{o(d(e,t)),n.Z.create("BoardInviteResource",{board_id:e,invited_user_id:t.id}).callUpdate()};function _(e,t){return{type:"BOARD_REQUEST_TO_JOIN",payload:{boardId:e,value:t}}}function h(e,t){return n.Z.create("BoardCollaboratorRequestResource",{board_id:e,requesting_user_id:t})}function p(e,t){return o=>{h(e,t).callCreate().catch((()=>{o(_(e,!1))})),o(_(e,!0))}}function m(e,t){return o=>{h(e,t).callDelete({showError:!1}).catch((()=>{o(_(e,!0))})),o(_(e,!1))}}},162158:(e,t,o)=>{o.d(t,{V:()=>r,u:()=>s});var n=o(6637),i=o(935409);const s=e=>t=>{const o={board_id:e};return n.Z.create("BoardResource",o).callGet().then((e=>{const o=e&&e.resource_response&&e.resource_response.data;return o&&t((0,i.yT)(o)),e}))};function r(e,t,o){return(s,r)=>{const{boards:l}=r(),a=l[e],c=void 0===t.collaborator_requests_enabled||null===t.collaborator_requests_enabled?Object.freeze({}):{collaborator_requests_enabled:t.collaborator_requests_enabled},d={allow_homefeed_recommendations:t.allow_homefeed_recommendations,category:t.category,collab_board_email:t.collab_board_email,collaborator_invites_enabled:t.collaborator_invites_enabled,collaborator_permissions_setting:t.collaborator_permissions_setting,description:t.description,name:t.name,privacy:t.privacy,sensitivity:t.sensitivity||null,...o?{orbac_subject_id:o}:Object.freeze({}),...c};return s((0,i.yT)({...d,id:e})),n.Z.create("BoardResource",{...d,board_id:e}).callUpdate().then((e=>{const o=e&&e.resource_response&&e.resource_response.data||t;return s((0,i.yT)(o)),e})).catch((e=>{throw a&&s((0,i.yT)(a)),e}))}}},975209:(e,t,o)=>{o.d(t,{DD:()=>d,lg:()=>u,Th:()=>h,YH:()=>l,wH:()=>r,IU:()=>_,L8:()=>c});var n=o(6637),i=o(778821),s=o(875495);function r({didItDataId:e,isLikedByMe:t}){return o=>{const i=n.Z.create("DidItLikeResource",{didItDataId:e});return t?i.callDelete({showError:!1}):i.callCreate({showError:!1}),o(function(e,t){return{type:"USER_DID_IT_DATA_LIKE_TOGGLED",payload:{id:e,liked_by_me:t}}}(e,!t))}}function l({didItDataId:e,isMarkedHelpfulByMe:t}){return o=>{const i=n.Z.create("HelpfulResource",{helpfulModelType:2,objectId:e});return t?i.callDelete({showError:!1}):i.callCreate({showError:!1}),o(function(e,t){return{type:"USER_DID_IT_DATA_HELPFUL_TOGGLED",payload:{id:e,marked_helpful_by_me:t}}}(e,!t))}}function a(e){return{type:"USER_DID_IT_DATA_DELETE",payload:{id:e}}}function c(e,t){return{type:"USER_DID_IT_DATA_UPDATE_COMMENT_COUNT",payload:{id:e,increment:t}}}function d({aggregatedPinDataId:e,details:t,fromUnifiedComment:o,image_signatures:r,pin_id:l,username:a,updateParentDidItCount:d}){const u={aggregatedPinDataId:e,details:t,image_signatures:r,pin_id:l};return t=>n.Z.create("DidItActivityResource",u).callCreate().then((n=>{const r=n.resource_response.data;t({type:"PIN_DID_IT",payload:{id:l,value:!0}}),t({type:"USER_DID_IT_DATA_CREATE",payload:{user_did_it_data:r}}),t((0,s.vX)({feedId:e,feedType:o?i.DV.UNIFIED_COMMENTS:i.DV.USER_DID_IT_DATA,itemIds:[r.id],itemType:r.type})),t((0,s.vX)({feedId:a,feedType:i.DV.USER_DID_IT_DATA,itemIds:[r.id],itemType:r.type})),d&&t(c(e,1))}),(()=>{}))}function u({aggregatedPinDataId:e,feedType:t,id:o,isOwnedByMe:r,pinId:l,username:d,updateParentDidItCount:u}){return _=>{n.Z.create("DidItActivityResource",{user_did_it_data_id:o,pinId:l}).callDelete().then((n=>{r&&_(function(e){return{type:"PIN_DID_IT",payload:{id:e,value:!1}}}(l)),_(a(o)),_((0,s.EX)({feedId:null!=e?e:"",feedType:t||i.DV.USER_DID_IT_DATA,itemIds:[o],itemType:"userdiditdata"})),_((0,s.EX)({feedId:d,feedType:i.DV.USER_DID_IT_DATA,itemIds:[o],itemType:"userdiditdata"})),_((0,s.EX)({feedId:d,feedType:i.DV.UNIFIED_COMMENTS,itemIds:e?[e]:[],itemType:"userdiditdata"})),u&&_(c(o,-1))}),(()=>{}))}}function _({id:e,details:t,image_signatures:o,pinId:i}){const s={details:t,image_signatures:o,user_did_it_data_id:e,pin_id:i};return e=>{n.Z.create("DidItActivityResource",s).callUpdate().then((t=>{const o=t.resource_response.data;e(function(e){return{type:"USER_DID_IT_DATA_UPDATE",payload:{user_did_it_data:e}}}(o))}),(()=>{}))}}function h(e,t,o,r,l){const c={reason:r,detailed_reasons:t,user_did_it_data_id:o};return t=>{n.Z.create("DidItActivityFlagResource",c).callCreate().then((()=>{t(a(o)),e&&t((0,s.EX)({feedId:e,feedType:i.DV.USER_DID_IT_DATA,itemIds:[o],itemType:"userdiditdata"})),t((0,s.EX)({feedId:l,feedType:i.DV.USER_DID_IT_DATA,itemIds:[o],itemType:"userdiditdata"}))}),(()=>{}))}}},70523:(e,t,o)=>{o.d(t,{e6:()=>i,lW:()=>n,oo:()=>s});const n=()=>({type:"GOOGLE_ONE_TAP_INITIALIZED",payload:Object.freeze({})}),i=()=>({type:"HIDE_GOOGLE_ONE_TAP"}),s=()=>({type:"GOOGLE_ONE_TAP_DISABLED"})},195139:(e,t,o)=>{function n(e,t){return{type:"PIN_UPDATE_COMMENT_COUNT",payload:{id:e,increment:t}}}o.d(t,{R:()=>n})},622878:(e,t,o)=>{function n(e,t){return{type:"SET_LOCATION_TO_ERROR_MAP_ENTRY",payload:{pathname:e,renderError:t}}}function i(e){return{type:"UNSET_LOCATION_TO_ERROR_MAP_ENTRY",payload:{pathname:e}}}o.d(t,{L:()=>i,m:()=>n})},5226:(e,t,o)=>{o.d(t,{KF:()=>c,ZN:()=>r,fv:()=>a,kE:()=>u,yA:()=>l});var n=o(6637),i=o(482546);function s(e,t){return n.Z.create("UserFollowResource",{user_id:e,aux_data:t?{pin_id:t}:void 0})}function r(e,t=null){return o=>{s(e,t).callCreate().catch((()=>o((0,i.P_)(e,!1)))),o((0,i.P_)(e,!0))}}function l(e,t=null){return async o=>{o((0,i.P_)(e,!0)),await s(e,t).callCreate().catch((t=>{throw o((0,i.P_)(e,!1)),t}))}}function a(e,t=null){return o=>{s(e,t).callDelete().catch((()=>o((0,i.P_)(e,!0)))),o((0,i.P_)(e,!1))}}function c(e,t=null){return async o=>{o((0,i.P_)(e,!1)),await s(e,t).callDelete().catch((t=>{throw o((0,i.P_)(e,!0)),t}))}}const d=(e,t)=>({type:"USER_BULK_FOLLOW",payload:{ids:e,value:t}}),u=e=>t=>{e.length>0&&(n.Z.create("ApiResource",{url:"/v3/users/follow/",data:{followee_ids:e.join(",")}}).callUpdate().catch((()=>t(d(e,!1)))),t(d(e,!0)))}},482546:(e,t,o)=>{o.d(t,{Ge:()=>l,JS:()=>i,P_:()=>s,h2:()=>a,h6:()=>c});var n=o(6637);function i(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}const s=(e,t)=>({type:"USER_FOLLOW",payload:{id:e,value:t}}),r=(e,t)=>({type:"USER_BLOCK",payload:{id:e,value:t}}),l=(e,t)=>o=>(o(r(e,!0)),n.Z.create("UserBlockResource",{blocked_user_id:e,orbac_subject_id:t}).callCreate().catch((()=>o(r(e,!1))))),a=e=>t=>(t(r(e,!1)),n.Z.create("UserBlockResource",{blocked_user_id:e}).callDelete().catch((()=>t(r(e,!0)))));function c(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}},337234:(e,t,o)=>{o.d(t,{Z:()=>N});var n=o(667294),i=o(702664),s=o(45347),r=o(319915),l=o(580496),a=o(240684),c=o(965261),d=o(184609),u=o(335972),_=o(497997),h=o(86551),p=o(418614),m=o(19121),g=o(424432),f=o(622878),x=o(826067),b=o(134679),v=o(276602),y=o(780280),P=o(698142),w=o(276775),A=o(785893);const C=(0,a.ZP)({resolved:{},chunkName:()=>"common-react-components-profile-ProfileDecider-ProfileDeciderContainer",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!o.m[t]},importAsync:()=>Promise.resolve().then(o.bind(o,774026)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return o(t)},resolve(){return 774026}}),j=(0,n.lazy)((()=>Promise.resolve().then(o.bind(o,727082)))),E=(0,n.lazy)((()=>Promise.resolve().then(o.bind(o,460465)))),S=(0,n.lazy)((()=>Promise.resolve().then(o.bind(o,890328)))),I=(0,n.lazy)((()=>Promise.resolve().then(o.bind(o,256883)))),T=(0,n.lazy)((()=>Promise.resolve().then(o.bind(o,410004)))),z=(0,n.lazy)((()=>o.e(40634).then(o.bind(o,240634)))),k=(0,n.lazy)((()=>Promise.resolve().then(o.bind(o,285970)))),D=(0,n.lazy)((()=>Promise.resolve().then(o.bind(o,850071)))),R=(0,n.lazy)((()=>Promise.resolve().then(o.bind(o,958754)))),O=(0,n.lazy)((()=>Promise.resolve().then(o.bind(o,117855)))),L=(0,n.lazy)((()=>Promise.resolve().then(o.bind(o,375553))));function B(e,t){switch(e){case"pins":return(0,A.jsx)(E,{});case"_created":return(0,A.jsx)(S,{});case"_followers":return(0,A.jsx)(I,{});case"_following":return t?(0,A.jsx)(T,{}):(0,A.jsx)(z,{});case"_saved":return(0,A.jsx)(D,{});case"tried":return(0,A.jsx)(k,{});case"topics":return(0,A.jsx)(R,{});case"story_pins":return(0,A.jsx)(O,{});case"video_pins":return(0,A.jsx)(L,{});case"_shop":return(0,A.jsx)(j,{});default:return(0,A.jsx)(C,{})}}C.preload();const M=()=>{const e=(0,m.Z)(),t=(0,w.TH)();return e.isAuth&&t.pathname.startsWith(`/${e.username}/`)};function F(){var e;const{isAuthenticated:t,userAgent:{isTablet:o,isMobile:a}}=(0,y.B)(),u=t&&(!o&&!a),m=(0,v.EV)(),C=(0,i.useDispatch)(),j=(0,w.k6)(),E=(0,w.TH)(),S=(0,w.$B)(),I=(0,i.useSelector)((({ui:e})=>e.mainComponent.locationToErrorMap)),T=(0,h.Z)(),z=(0,l.Z)(T.data);(0,p.Z)({name:"UserResource",getOptions:({routeData:{params:{username:e}}})=>({username:e,field_set_key:"board_visibility"}),checkExperiments:({checkExperiment:e})=>{const{anyEnabled:t}=e("web_shopping_list_controls",{dangerouslySkipActivation:!0});return t}}),(0,n.useEffect)((()=>{(0,c.Z)()}),[]),m&&z&&m.abort("business_profile");const k=(null===(e=T.data)||void 0===e?void 0:e.has_catalog)&&RegExp(/\?pin=/).test(E.search),D=S.path.split("/").filter(Boolean),R=(0,P.x)({tab:b.u.DECIDER,userData:T.data}),O=D[1]||R||b.u.DECIDER,L=u&&z&&T.data?(0,A.jsx)(s.Z,{businessProfileTab:O}):B(O,u);return u?(0,A.jsx)(g.M,{children:(0,A.jsx)(P.Z,{history:j,minimalPartnerHeader:k,renderError:I[E.pathname],showPulsar:Boolean((0,x.mB)(E.search).showPulsar),tab:O,unsetError:()=>C((0,f.L)(E.pathname)),username:S.params.username||"",children:(0,A.jsx)(r.Z,{name:"SafeSuspense_ProfilePage_ProfilePageTabContent",children:(0,A.jsx)(_.Z,{children:L})})})}):(0,A.jsx)(n.Fragment,{children:(0,A.jsx)(d.ZP,{children:(0,A.jsx)(r.Z,{name:"SafeSuspense_ProfilePage_ProfileDefaultTabContent",children:(0,A.jsx)(_.Z,{children:L})})})})}function N(){const e=M(),{isAuthenticated:t,userAgent:{isTablet:o,isMobile:n}}=(0,y.B)(),i=t&&(!o&&!n);return(0,A.jsx)(u.Z,{surface:e?"own_profile":"other_profile",customEnabledNavigationTypes:i?["client_route_push","client_route_replace"]:void 0,measureGridVisuallyComplete:i,children:(0,A.jsx)(F,{})})}},748367:(e,t,o)=>{o.d(t,{Z:()=>r});const n={"&":"\\u0026",">":"\\u003e","<":"\\u003c","\u2028":"\\u2028","\u2029":"\\u2029"},i=/[&><\u2028\u2029]/g;var s=o(785893);function r({id:e,testId:t,type:o="application/json",value:r}){const l=JSON.stringify(r).replace(i,(e=>n[e]));return(0,s.jsx)("script",{id:e,"data-test-id":t,type:o,dangerouslySetInnerHTML:{__html:l}})}},597897:(e,t,o)=>{o.d(t,{U:()=>s,Z:()=>r});var n=o(667294);const i=(0,n.createContext)();function s(){return(0,n.useContext)(i)}const r=i},373897:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n},e.exports.__esModule=!0,e.exports.default=e.exports},163405:(e,t,o)=>{var n=o(373897);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports},474704:(e,t,o)=>{var n=o(386116);e.exports=function(e,t){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=n(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var i=0,s=function(){};return{s,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,l=!0,a=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return l=e.done,e},e:function(e){a=!0,r=e},f:function(){try{l||null==o.return||o.return()}finally{if(a)throw r}}}},e.exports.__esModule=!0,e.exports.default=e.exports},238416:e=>{e.exports=function(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e},e.exports.__esModule=!0,e.exports.default=e.exports},564836:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},379498:e=>{e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},742281:e=>{e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},242122:(e,t,o)=>{var n=o(238416);function i(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}e.exports=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},600861:(e,t,o)=>{var n=o(163405),i=o(379498),s=o(386116),r=o(742281);e.exports=function(e){return n(e)||i(e)||s(e)||r()},e.exports.__esModule=!0,e.exports.default=e.exports},386116:(e,t,o)=>{var n=o(373897);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},204942:(e,t,o)=>{function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}o.d(t,{Z:()=>n})},601413:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(204942);function i(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function s(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach((function(t){(0,n.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}},610248:e=>{e.exports=JSON.parse('["aaa","aarp","abarth","abb","abbott","abbvie","abc","able","abogado","abudhabi","ac","academy","accenture","accountant","accountants","aco","actor","ad","adac","ads","adult","ae","aeg","aero","aetna","af","afamilycompany","afl","africa","ag","agakhan","agency","ai","aig","airbus","airforce","airtel","akdn","al","alfaromeo","alibaba","alipay","allfinanz","allstate","ally","alsace","alstom","am","amazon","americanexpress","americanfamily","amex","amfam","amica","amsterdam","analytics","android","anquan","anz","ao","aol","apartments","app","apple","aq","aquarelle","ar","arab","aramco","archi","army","arpa","art","arte","as","asda","asia","associates","at","athleta","attorney","au","auction","audi","audible","audio","auspost","author","auto","autos","avianca","aw","aws","ax","axa","az","azure","ba","baby","baidu","banamex","bananarepublic","band","bank","bar","barcelona","barclaycard","barclays","barefoot","bargains","baseball","basketball","bauhaus","bayern","bb","bbc","bbt","bbva","bcg","bcn","bd","be","beats","beauty","beer","bentley","berlin","best","bestbuy","bet","bf","bg","bh","bharti","bi","bible","bid","bike","bing","bingo","bio","biz","bj","black","blackfriday","blockbuster","blog","bloomberg","blue","bm","bms","bmw","bn","bnpparibas","bo","boats","boehringer","bofa","bom","bond","boo","book","booking","bosch","bostik","boston","bot","boutique","box","br","bradesco","bridgestone","broadway","broker","brother","brussels","bs","bt","budapest","bugatti","build","builders","business","buy","buzz","bv","bw","by","bz","bzh","ca","cab","cafe","cal","call","calvinklein","cam","camera","camp","cancerresearch","canon","capetown","capital","capitalone","car","caravan","cards","care","career","careers","cars","casa","case","caseih","cash","casino","cat","catering","catholic","cba","cbn","cbre","cbs","cc","cd","center","ceo","cern","cf","cfa","cfd","cg","ch","chanel","channel","charity","chase","chat","cheap","chintai","christmas","chrome","church","ci","cipriani","circle","cisco","citadel","citi","citic","city","cityeats","ck","cl","claims","cleaning","click","clinic","clinique","clothing","cloud","club","clubmed","cm","cn","co","coach","codes","coffee","college","cologne","com","comcast","commbank","community","company","compare","computer","comsec","condos","construction","consulting","contact","contractors","cooking","cookingchannel","cool","coop","corsica","country","coupon","coupons","courses","cpa","cr","credit","creditcard","creditunion","cricket","crown","crs","cruise","cruises","csc","cu","cuisinella","cv","cw","cx","cy","cymru","cyou","cz","dabur","dad","dance","data","date","dating","datsun","day","dclk","dds","de","deal","dealer","deals","degree","delivery","dell","deloitte","delta","democrat","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","discover","dish","diy","dj","dk","dm","dnp","do","docs","doctor","dog","domains","dot","download","drive","dtv","dubai","duck","dunlop","dupont","durban","dvag","dvr","dz","earth","eat","ec","eco","edeka","edu","education","ee","eg","email","emerck","energy","engineer","engineering","enterprises","epson","equipment","er","ericsson","erni","es","esq","estate","et","etisalat","eu","eurovision","eus","events","exchange","expert","exposed","express","extraspace","fage","fail","fairwinds","faith","family","fan","fans","farm","farmers","fashion","fast","fedex","feedback","ferrari","ferrero","fi","fiat","fidelity","fido","film","final","finance","financial","fire","firestone","firmdale","fish","fishing","fit","fitness","fj","fk","flickr","flights","flir","florist","flowers","fly","fm","fo","foo","food","foodnetwork","football","ford","forex","forsale","forum","foundation","fox","fr","free","fresenius","frl","frogans","frontdoor","frontier","ftr","fujitsu","fujixerox","fun","fund","furniture","futbol","fyi","ga","gal","gallery","gallo","gallup","game","games","gap","garden","gay","gb","gbiz","gd","gdn","ge","gea","gent","genting","george","gf","gg","ggee","gh","gi","gift","gifts","gives","giving","gl","glade","glass","gle","global","globo","gm","gmail","gmbh","gmo","gmx","gn","godaddy","gold","goldpoint","golf","goo","goodyear","goog","google","gop","got","gov","gp","gq","gr","grainger","graphics","gratis","green","gripe","grocery","group","gs","gt","gu","guardian","gucci","guge","guide","guitars","guru","gw","gy","hair","hamburg","hangout","haus","hbo","hdfc","hdfcbank","health","healthcare","help","helsinki","here","hermes","hgtv","hiphop","hisamitsu","hitachi","hiv","hk","hkt","hm","hn","hockey","holdings","holiday","homedepot","homegoods","homes","homesense","honda","horse","hospital","host","hosting","hot","hoteles","hotels","hotmail","house","how","hr","hsbc","ht","hu","hughes","hyatt","hyundai","ibm","icbc","ice","icu","id","ie","ieee","ifm","ikano","il","im","imamat","imdb","immo","immobilien","in","inc","industries","infiniti","info","ing","ink","institute","insurance","insure","int","international","intuit","investments","io","ipiranga","iq","ir","irish","is","ismaili","ist","istanbul","it","itau","itv","iveco","jaguar","java","jcb","je","jeep","jetzt","jewelry","jio","jll","jm","jmp","jnj","jo","jobs","joburg","jot","joy","jp","jpmorgan","jprs","juegos","juniper","kaufen","kddi","ke","kerryhotels","kerrylogistics","kerryproperties","kfh","kg","kh","ki","kia","kim","kinder","kindle","kitchen","kiwi","km","kn","koeln","komatsu","kosher","kp","kpmg","kpn","kr","krd","kred","kuokgroup","kw","ky","kyoto","kz","la","lacaixa","lamborghini","lamer","lancaster","lancia","land","landrover","lanxess","lasalle","lat","latino","latrobe","law","lawyer","lb","lc","lds","lease","leclerc","lefrak","legal","lego","lexus","lgbt","li","lidl","life","lifeinsurance","lifestyle","lighting","like","lilly","limited","limo","lincoln","linde","link","lipsy","live","living","lixil","lk","llc","llp","loan","loans","locker","locus","loft","lol","london","lotte","lotto","love","lpl","lplfinancial","lr","ls","lt","ltd","ltda","lu","lundbeck","lupin","luxe","luxury","lv","ly","ma","macys","madrid","maif","maison","makeup","man","management","mango","map","market","marketing","markets","marriott","marshalls","maserati","mattel","mba","mc","mckinsey","md","me","med","media","meet","melbourne","meme","memorial","men","menu","merckmsd","mg","mh","miami","microsoft","mil","mini","mint","mit","mitsubishi","mk","ml","mlb","mls","mm","mma","mn","mo","mobi","mobile","moda","moe","moi","mom","monash","money","monster","mormon","mortgage","moscow","moto","motorcycles","mov","movie","mp","mq","mr","ms","msd","mt","mtn","mtr","mu","museum","mutual","mv","mw","mx","my","mz","na","nab","nagoya","name","nationwide","natura","navy","nba","nc","ne","nec","net","netbank","netflix","network","neustar","new","newholland","news","next","nextdirect","nexus","nf","nfl","ng","ngo","nhk","ni","nico","nike","nikon","ninja","nissan","nissay","nl","no","nokia","northwesternmutual","norton","now","nowruz","nowtv","np","nr","nra","nrw","ntt","nu","nyc","nz","obi","observer","off","office","okinawa","olayan","olayangroup","oldnavy","ollo","om","omega","one","ong","onl","online","onyourside","ooo","open","oracle","orange","org","organic","origins","osaka","otsuka","ott","ovh","pa","page","panasonic","paris","pars","partners","parts","party","passagens","pay","pccw","pe","pet","pf","pfizer","pg","ph","pharmacy","phd","philips","phone","photo","photography","photos","physio","pics","pictet","pictures","pid","pin","ping","pink","pioneer","pizza","pk","pl","place","play","playstation","plumbing","plus","pm","pn","pnc","pohl","poker","politie","porn","post","pr","pramerica","praxi","press","prime","pro","prod","productions","prof","progressive","promo","properties","property","protection","pru","prudential","ps","pt","pub","pw","pwc","py","qa","qpon","quebec","quest","qvc","racing","radio","raid","re","read","realestate","realtor","realty","recipes","red","redstone","redumbrella","rehab","reise","reisen","reit","reliance","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rexroth","rich","richardli","ricoh","ril","rio","rip","rmit","ro","rocher","rocks","rodeo","rogers","room","rs","rsvp","ru","rugby","ruhr","run","rw","rwe","ryukyu","sa","saarland","safe","safety","sakura","sale","salon","samsclub","samsung","sandvik","sandvikcoromant","sanofi","sap","sarl","sas","save","saxo","sb","sbi","sbs","sc","sca","scb","schaeffler","schmidt","scholarships","school","schule","schwarz","science","scjohnson","scot","sd","se","search","seat","secure","security","seek","select","sener","services","ses","seven","sew","sex","sexy","sfr","sg","sh","shangrila","sharp","shaw","shell","shia","shiksha","shoes","shop","shopping","shouji","show","showtime","si","silk","sina","singles","site","sj","sk","ski","skin","sky","skype","sl","sling","sm","smart","smile","sn","sncf","so","soccer","social","softbank","software","sohu","solar","solutions","song","sony","soy","spa","space","sport","spot","spreadbetting","sr","srl","ss","st","stada","staples","star","statebank","statefarm","stc","stcgroup","stockholm","storage","store","stream","studio","study","style","su","sucks","supplies","supply","support","surf","surgery","suzuki","sv","swatch","swiftcover","swiss","sx","sy","sydney","systems","sz","tab","taipei","talk","taobao","target","tatamotors","tatar","tattoo","tax","taxi","tc","tci","td","tdk","team","tech","technology","tel","temasek","tennis","teva","tf","tg","th","thd","theater","theatre","tiaa","tickets","tienda","tiffany","tips","tires","tirol","tj","tjmaxx","tjx","tk","tkmaxx","tl","tm","tmall","tn","to","today","tokyo","tools","top","toray","toshiba","total","tours","town","toyota","toys","tr","trade","trading","training","travel","travelchannel","travelers","travelersinsurance","trust","trv","tt","tube","tui","tunes","tushu","tv","tvs","tw","tz","ua","ubank","ubs","ug","uk","unicom","university","uno","uol","ups","us","uy","uz","va","vacations","vana","vanguard","vc","ve","vegas","ventures","verisign","versicherung","vet","vg","vi","viajes","video","vig","viking","villas","vin","vip","virgin","visa","vision","viva","vivo","vlaanderen","vn","vodka","volkswagen","volvo","vote","voting","voto","voyage","vu","vuelos","wales","walmart","walter","wang","wanggou","watch","watches","weather","weatherchannel","webcam","weber","website","wed","wedding","weibo","weir","wf","whoswho","wien","wiki","williamhill","win","windows","wine","winners","wme","wolterskluwer","woodside","work","works","world","wow","ws","wtc","wtf","xbox","xerox","xfinity","xihuan","xin","कॉम","セール","佛山","ಭಾರತ","慈善","集团","在线","한국","ଭାରତ","大众汽车","点看","คอม","ভাৰত","ভারত","八卦","موقع","বাংলা","公益","公司","香格里拉","网站","移动","我爱你","москва","қаз","католик","онлайн","сайт","联通","срб","бг","бел","קום","时尚","微博","淡马锡","ファッション","орг","नेट","ストア","アマゾン","삼성","சிங்கப்பூர்","商标","商店","商城","дети","мкд","ею","ポイント","新闻","家電","كوم","中文网","中信","中国","中國","娱乐","谷歌","భారత్","ලංකා","電訊盈科","购物","クラウド","ભારત","通販","भारतम्","भारत","भारोत","网店","संगठन","餐厅","网络","ком","укр","香港","亚马逊","诺基亚","食品","飞利浦","台湾","台灣","手机","мон","الجزائر","عمان","ارامكو","ایران","العليان","اتصالات","امارات","بازار","موريتانيا","پاکستان","الاردن","بارت","بھارت","المغرب","ابوظبي","البحرين","السعودية","ڀارت","كاثوليك","سودان","همراه","عراق","مليسيا","澳門","닷컴","政府","شبكة","بيتك","عرب","გე","机构","组织机构","健康","ไทย","سورية","招聘","рус","рф","تونس","大拿","ລາວ","みんな","グーグル","ευ","ελ","世界","書籍","ഭാരതം","ਭਾਰਤ","网址","닷넷","コム","天主教","游戏","vermögensberater","vermögensberatung","企业","信息","嘉里大酒店","嘉里","مصر","قطر","广东","இலங்கை","இந்தியா","հայ","新加坡","فلسطين","政务","xxx","xyz","yachts","yahoo","yamaxun","yandex","ye","yodobashi","yoga","yokohama","you","youtube","yt","yun","za","zappos","zara","zero","zip","zm","zone","zuerich","zw"]')}},e=>{e.O(0,[77429],(()=>{[97270,67228,61673,92982,60843,5954,27624,48035,5035,43473,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[97270,67228,61673,92982,60843,5954,27624,48035,5035,43473,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[97270,67228,61673,92982,60843,5954,27624,48035,5035,43473,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[97270,67228,61673,92982,60843,5954,27624,48035,5035,43473,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[97270,67228,61673,92982,60843,5954,27624,48035,5035,43473,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[97270,67228,61673,92982,60843,5954,27624,48035,5035,43473,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[97270,67228,61673,92982,60843,5954,27624,48035,5035,43473,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[97270,67228,61673,92982,60843,5954,27624,48035,5035,43473,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[97270,67228,61673,92982,60843,5954,27624,48035,5035,43473,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[97270,67228,61673,92982,60843,5954,27624,48035,5035,43473,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[97270,67228,61673,92982,60843,5954,27624,48035,5035,43473,22347,22538,1593].map(e.E)}),5);var t=t=>e(e.s=t);e.O(0,[97270,83119,67631,92604,31551,76775,21151,78821,8475,22545,54372,96991,25643,88273,34441,34363,53959,76532,4646,44513,97898,66898,11042],(()=>(t(205418),t(559637),t(992127),t(679875),t(52193),t(38101),t(907254),t(331137),t(832753),t(333905))));e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/[username]-authdesktop-750fa1f05bcf2c09.mjs.map